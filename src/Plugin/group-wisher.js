function a0_0x2acb(){const _0x3e1f13=['replace','setGlobalSetting','writeConfig','groups','232tfdRpz','sendMessage','Database','stringify','key','⿻\x20Hope\x20you\x20had\x20a\x20great\x20time\x20with\x20us!\x0a\x0a','mkdirSync','promote','set-global-event','get-config','remove','enabled','events','close','fetchUserProfilePicture','readFileSync','image','initializeWatcher','configureGroupEvents','\x20is\x20disabled\x20for\x20group\x20','loadConfig','useProfilePicture','utf8','39NMWAmh','settings','Group\x20Chat','log','Restarting\x20file\x20watcher...','defaultConfig','sendEventMessage','364836NeNflD','formatMessage','readConfig','Invalid\x20group\x20JID','normalizeJid','3380532qivCBT','global','action','group','set-global-setting','message','trim','group-event-config.json','configure-group-event','length','dirname','Invalid\x20event\x20type:\x20','File\x20watcher\x20error:','restartWatcher','false','string','notify','configCache','entries','39046BrRiCJ','⿻\x20Hope\x20you\x20enjoy\x20your\x20stay\x20here!\x0a\x0a','Error\x20in\x20execute\x20method:','Invalid\x20participant\x20JID\x20in\x20sendEventMessage','text','210964ovgXlD','change','participants','Skipping\x20unsupported\x20action:\x20','851910GSxeXZ','⿻\x20Hii\x20@name\x0a','No\x20message\x20template\x20found\x20for\x20event\x20','demote','existsSync','true','setGlobalEventConfig','processCommand','Failed\x20to\x20fetch\x20profile\x20picture:\x20','execute','goodbye','Error\x20reading\x20configuration:','group-participants.update','error','Error\x20in\x20sendEventMessage:','Configuration\x20loaded\x20successfully','isArray','>\x20©\x20ɪɴᴛᴇʟʟɪɢᴇɴᴄᴇ\x20ʙʏ\x20ᴋᴏʀᴅ\x20ɪɴᴄ³²¹™','162340GxLlJL','⿻\x20Hello\x20@name,\x0a','hasOwnProperty','fallbackProfilePic','profilePictureUrl','path','Received\x20event\x20data:','split','basename','Failed\x20to\x20send\x20event\x20message:','watcher','catch','⦿\x20You\x27ve\x20been\x20promoted\x20to\x20admin\x20in\x20*@group*\x0a\x0a','@s.whatsapp.net','subject','groupMetadata','3032460elaRmb','No\x20participants\x20found\x20in\x20event\x20data','Sending\x20event\x20message:','⿻\x20Goodbye\x20@name,\x0a','Failed\x20to\x20fetch\x20profile\x20picture:','Message\x20sent\x20successfully:','g.us','@g.us','add','join','⦿\x20We\x27re\x20sad\x20to\x20see\x20you\x20leave\x20*@group*!\x20👋\x0a','configPath','252KFmmxi','Unknown\x20command','https://files.catbox.moe/wpi099.png'];a0_0x2acb=function(){return _0x3e1f13;};return a0_0x2acb();}const a0_0x8de32a=a0_0x40a2;(function(_0x1cc836,_0x20b7b3){const _0x54f431=a0_0x40a2,_0x2091ab=_0x1cc836();while(!![]){try{const _0x40741b=parseInt(_0x54f431(0xae))/0x1+parseInt(_0x54f431(0xcf))/0x2+-parseInt(_0x54f431(0xa7))/0x3*(parseInt(_0x54f431(0xcb))/0x4)+-parseInt(_0x54f431(0x7d))/0x5+parseInt(_0x54f431(0xb3))/0x6+-parseInt(_0x54f431(0xc6))/0x7*(parseInt(_0x54f431(0x90))/0x8)+-parseInt(_0x54f431(0x89))/0x9*(-parseInt(_0x54f431(0xe1))/0xa);if(_0x40741b===_0x20b7b3)break;else _0x2091ab['push'](_0x2091ab['shift']());}catch(_0x3c2e52){_0x2091ab['push'](_0x2091ab['shift']());}}}(a0_0x2acb,0x56a3e));function a0_0x40a2(_0x5420d3,_0x1afdff){const _0x2acb66=a0_0x2acb();return a0_0x40a2=function(_0x40a2f2,_0x5bf1d4){_0x40a2f2=_0x40a2f2-0x77;let _0x4e09cb=_0x2acb66[_0x40a2f2];return _0x4e09cb;},a0_0x40a2(_0x5420d3,_0x1afdff);}const fs=require('fs'),path=require(a0_0x8de32a(0xe6));class GroupEventManager{constructor(){const _0x52b94c=a0_0x8de32a;this[_0x52b94c(0x88)]=path[_0x52b94c(0x86)](__dirname,'..',_0x52b94c(0x92),_0x52b94c(0xba)),this[_0x52b94c(0x9c)]=[_0x52b94c(0xdb)],this['defaultConfig']={'global':{'events':{'welcome':{'enabled':!![],'message':_0x52b94c(0xe2)+'⦿\x20Welcome\x20to\x20*@group*!\x20🎉\x0a'+_0x52b94c(0xc7)+'>\x20©\x20ɪɴᴛᴇʟʟɪɢᴇɴᴄᴇ\x20ʙʏ\x20ᴋᴏʀᴅ\x20ɪɴᴄ³²¹™'},'goodbye':{'enabled':!![],'message':_0x52b94c(0x80)+_0x52b94c(0x87)+_0x52b94c(0x95)+_0x52b94c(0xe0)},'promote':{'enabled':!![],'message':'⿻\x20Congratulations\x20@name!\x20🎉\x0a'+_0x52b94c(0x79)+_0x52b94c(0xe0)},'demote':{'enabled':!![],'message':_0x52b94c(0xd0)+'⦿\x20You\x27ve\x20been\x20demoted\x20in\x20*@group*\x0a\x0a'+_0x52b94c(0xe0)}},'settings':{'mentionUser':!![],'useProfilePicture':!![],'fallbackProfilePic':_0x52b94c(0x8b)}},'groups':{}},this[_0x52b94c(0xc4)]=null,this[_0x52b94c(0xa1)](),this[_0x52b94c(0xa4)]();}[a0_0x8de32a(0xa1)](){const _0x3ae4b6=a0_0x8de32a,_0x37e23d=path['dirname'](this[_0x3ae4b6(0x88)]);!fs[_0x3ae4b6(0xd3)](_0x37e23d)&&fs[_0x3ae4b6(0x96)](_0x37e23d,{'recursive':!![]}),!fs[_0x3ae4b6(0xd3)](this[_0x3ae4b6(0x88)])&&this[_0x3ae4b6(0x8e)](this[_0x3ae4b6(0xac)]),this['watcher']=fs['watch'](_0x37e23d,(_0xc87064,_0x26ac81)=>{const _0x3076d4=_0x3ae4b6;_0x26ac81===path[_0x3076d4(0xe9)](this[_0x3076d4(0x88)])&&_0xc87064===_0x3076d4(0xcc)&&(console[_0x3076d4(0xaa)]('Configuration\x20file\x20changed,\x20reloading...'),this[_0x3076d4(0xa4)]());}),this[_0x3ae4b6(0x77)]['on'](_0x3ae4b6(0xdc),_0x465301=>{const _0x58790c=_0x3ae4b6;console[_0x58790c(0xdc)](_0x58790c(0xbf),_0x465301),this['restartWatcher']();}),process['on']('exit',()=>this[_0x3ae4b6(0x77)]?.['close']());}[a0_0x8de32a(0xc0)](){const _0x1585ea=a0_0x8de32a;this[_0x1585ea(0x77)]&&this[_0x1585ea(0x77)][_0x1585ea(0x9d)](),setTimeout(()=>{const _0x1bf543=_0x1585ea;console[_0x1bf543(0xaa)](_0x1bf543(0xab)),this['initializeWatcher']();},0x3e8);}[a0_0x8de32a(0xa4)](){const _0x353f6a=a0_0x8de32a;try{const _0x1f6298=this['readConfig']();return this[_0x353f6a(0xc4)]=_0x1f6298,console[_0x353f6a(0xaa)](_0x353f6a(0xde)),_0x1f6298;}catch(_0x4b9d0e){return console['error']('Error\x20loading\x20configuration:',_0x4b9d0e),this['defaultConfig'];}}[a0_0x8de32a(0xb0)](){const _0x1405eb=a0_0x8de32a;try{if(!fs[_0x1405eb(0xd3)](this['configPath']))return this[_0x1405eb(0x8e)](this[_0x1405eb(0xac)]),this['defaultConfig'];const _0x165285=JSON['parse'](fs[_0x1405eb(0x9f)](this[_0x1405eb(0x88)],_0x1405eb(0xa6)));return this[_0x1405eb(0xc4)]=_0x165285,_0x165285;}catch(_0x418720){return console['error'](_0x1405eb(0xda),_0x418720),this[_0x1405eb(0xc4)]||this['defaultConfig'];}}[a0_0x8de32a(0x8e)](_0x25333a){const _0x48b0bd=a0_0x8de32a;try{const _0x34d688=path[_0x48b0bd(0xbd)](this['configPath']);return!fs[_0x48b0bd(0xd3)](_0x34d688)&&fs[_0x48b0bd(0x96)](_0x34d688,{'recursive':!![]}),fs['writeFileSync'](this[_0x48b0bd(0x88)],JSON[_0x48b0bd(0x93)](_0x25333a,null,0x2)),this[_0x48b0bd(0xc4)]=_0x25333a,!![];}catch(_0x56e124){return console[_0x48b0bd(0xdc)]('Error\x20writing\x20configuration:',_0x56e124),![];}}[a0_0x8de32a(0xd5)](_0xe005dd,_0x1a7456={}){const _0x182271=a0_0x8de32a,_0x1ded3d=this[_0x182271(0xb0)]();if(!_0x1ded3d[_0x182271(0xb4)][_0x182271(0x9c)][_0xe005dd])return console[_0x182271(0xdc)](_0x182271(0xbe)+_0xe005dd),![];return _0x1ded3d[_0x182271(0xb4)][_0x182271(0x9c)][_0xe005dd]={..._0x1ded3d[_0x182271(0xb4)][_0x182271(0x9c)][_0xe005dd],..._0x1a7456},this[_0x182271(0x8e)](_0x1ded3d);}[a0_0x8de32a(0x8d)](_0x3b379c,_0x346f62){const _0x3eede6=a0_0x8de32a,_0x1d51ed=this[_0x3eede6(0xb0)]();if(!_0x1d51ed[_0x3eede6(0xb4)][_0x3eede6(0xa8)][_0x3eede6(0xe3)](_0x3b379c))return console[_0x3eede6(0xdc)]('Invalid\x20global\x20setting:\x20'+_0x3b379c),![];return _0x1d51ed[_0x3eede6(0xb4)]['settings'][_0x3b379c]=_0x346f62,this['writeConfig'](_0x1d51ed);}[a0_0x8de32a(0xa2)](_0x426248,_0x40c153={}){const _0x342e95=a0_0x8de32a,_0x3460a8=this['readConfig'](),_0x184662=this[_0x342e95(0xb2)](_0x426248);if(!_0x184662)return console[_0x342e95(0xdc)](_0x342e95(0xb1)),![];return!_0x3460a8[_0x342e95(0x8f)][_0x184662]&&(_0x3460a8[_0x342e95(0x8f)][_0x184662]={'events':{}}),Object[_0x342e95(0xc5)](_0x40c153)['forEach'](([_0x342e0c,_0x1c9eb1])=>{const _0x39a592=_0x342e95;if(!_0x3460a8[_0x39a592(0xb4)][_0x39a592(0x9c)][_0x342e0c]){console['error']('Invalid\x20event\x20type:\x20'+_0x342e0c);return;}_0x3460a8[_0x39a592(0x8f)][_0x184662][_0x39a592(0x9c)][_0x342e0c]={..._0x3460a8[_0x39a592(0x8f)][_0x184662]['events'][_0x342e0c],..._0x1c9eb1};}),this[_0x342e95(0x8e)](_0x3460a8);}async['fetchUserProfilePicture'](_0x568d3d,_0x4b81f9){const _0x42648b=a0_0x8de32a;try{const _0x5080d3=this['normalizeJid'](_0x4b81f9);return await _0x568d3d[_0x42648b(0xe5)](_0x5080d3,_0x42648b(0xa0));}catch(_0x2e7585){return console[_0x42648b(0xdc)](_0x42648b(0xd7)+_0x2e7585[_0x42648b(0xb8)]),null;}}[a0_0x8de32a(0xaf)](_0x1e4be1,_0x239105){const _0x8ad570=a0_0x8de32a;return _0x1e4be1[_0x8ad570(0x8c)](/@name/g,_0x239105['name'])[_0x8ad570(0x8c)](/@group/g,_0x239105[_0x8ad570(0xb6)]);}[a0_0x8de32a(0xb2)](_0x4b8324){const _0x2e9d52=a0_0x8de32a;if(!_0x4b8324)return null;const _0x242439=String(_0x4b8324)[_0x2e9d52(0xb9)]();if(_0x242439['endsWith'](_0x2e9d52(0x84))||_0x242439['endsWith'](_0x2e9d52(0x7a)))return _0x242439;const _0x37c5bb=_0x242439[_0x2e9d52(0x8c)](/[^\d@]/g,'');if(!_0x37c5bb)return null;return _0x242439['includes'](_0x2e9d52(0x83))?_0x37c5bb+'@g.us':_0x37c5bb+_0x2e9d52(0x7a);}async[a0_0x8de32a(0xd8)](_0x23b5ae,_0x3fe3b0){const _0xa6c365=a0_0x8de32a;try{console['log'](_0xa6c365(0xe7),JSON[_0xa6c365(0x93)](_0x3fe3b0,null,0x2));if(!_0x3fe3b0||!_0x3fe3b0[_0xa6c365(0xb5)]||!_0x3fe3b0['id'])throw new Error('Invalid\x20event\x20data\x20structure');const _0x3eecc1=[_0xa6c365(0x85),_0xa6c365(0x9a),_0xa6c365(0x97),_0xa6c365(0xd2)];if(!_0x3eecc1['includes'](_0x3fe3b0['action'])){console[_0xa6c365(0xaa)](_0xa6c365(0xce)+_0x3fe3b0[_0xa6c365(0xb5)]);return;}if(!_0x3fe3b0[_0xa6c365(0xcd)]||!Array[_0xa6c365(0xdf)](_0x3fe3b0[_0xa6c365(0xcd)]))throw new Error(_0xa6c365(0x7e));const _0x12b1ff=this[_0xa6c365(0xb0)](),_0x1d1e17=this[_0xa6c365(0xb2)](_0x3fe3b0['id']);if(!_0x1d1e17)throw new Error('Invalid\x20group\x20JID:\x20'+_0x3fe3b0['id']);const _0x2a0063={'add':'welcome','remove':_0xa6c365(0xd9),'promote':_0xa6c365(0x97),'demote':'demote'},_0x1704ea=_0x2a0063[_0x3fe3b0[_0xa6c365(0xb5)]];console[_0xa6c365(0xaa)]('Processing\x20event\x20type:\x20'+_0x1704ea);const _0x1fbaa5=_0x12b1ff[_0xa6c365(0xb4)]['events'][_0x1704ea],_0x2b8a35=_0x12b1ff[_0xa6c365(0x8f)][_0x1d1e17]?.[_0xa6c365(0x9c)]?.[_0x1704ea],_0x40ba02=_0x2b8a35?.[_0xa6c365(0x9b)]??_0x1fbaa5?.[_0xa6c365(0x9b)]??![];if(!_0x40ba02){console[_0xa6c365(0xaa)]('Event\x20'+_0x1704ea+_0xa6c365(0xa3)+_0x1d1e17);return;}const _0x3bf1a7=await _0x23b5ae[_0xa6c365(0x7c)](_0x1d1e17)['catch'](_0xb5dde1=>{const _0x54cca5=_0xa6c365;return console[_0x54cca5(0xdc)]('Failed\x20to\x20fetch\x20group\x20metadata:',_0xb5dde1),{'subject':_0x54cca5(0xa9)};});for(const _0x194f9d of _0x3fe3b0[_0xa6c365(0xcd)]){const _0x23a6b6=this[_0xa6c365(0xb2)](typeof _0x194f9d===_0xa6c365(0xc2)?_0x194f9d:_0x194f9d?.['id']);if(!_0x23a6b6){console[_0xa6c365(0xdc)]('Invalid\x20participant\x20data:',_0x194f9d);continue;}const _0x5dcee5=typeof _0x194f9d==='object'&&_0x194f9d['notify']?_0x194f9d[_0xa6c365(0xc3)]:'@'+_0x23a6b6[_0xa6c365(0xe8)]('@')[0x0],_0x251aad={'name':_0x5dcee5,'group':_0x3bf1a7[_0xa6c365(0x7b)]},_0x4eab81=_0x2b8a35?.[_0xa6c365(0xb8)]??_0x1fbaa5?.[_0xa6c365(0xb8)];if(!_0x4eab81){console['error'](_0xa6c365(0xd1)+_0x1704ea);continue;}const _0x411d40=this[_0xa6c365(0xaf)](_0x4eab81,_0x251aad);await this[_0xa6c365(0xad)](_0x23b5ae,_0x1d1e17,{'id':_0x23a6b6,'name':_0x5dcee5},_0x411d40,_0x12b1ff[_0xa6c365(0xb4)]['settings'])[_0xa6c365(0x78)](_0x4dac41=>{const _0x3221ee=_0xa6c365;console[_0x3221ee(0xdc)](_0x3221ee(0xea),_0x4dac41);});}}catch(_0x2755a4){console[_0xa6c365(0xdc)](_0xa6c365(0xc8),_0x2755a4);throw _0x2755a4;}}async[a0_0x8de32a(0xad)](_0x374ee5,_0x22ac5c,_0x58de1b,_0x2267de,_0x3c88c1){const _0xa3159d=a0_0x8de32a;try{console['log'](_0xa3159d(0x7f),{'chatId':_0x22ac5c,'participantId':_0x58de1b['id'],'messageLength':_0x2267de[_0xa3159d(0xbc)],'settings':_0x3c88c1});const _0x52ba4b=this[_0xa3159d(0xb2)](_0x58de1b['id']);if(!_0x52ba4b)throw new Error(_0xa3159d(0xc9));let _0x5d3784=null;if(_0x3c88c1[_0xa3159d(0xa5)])try{_0x5d3784=await this[_0xa3159d(0x9e)](_0x374ee5,_0x52ba4b),!_0x5d3784&&_0x3c88c1[_0xa3159d(0xe4)]&&(_0x5d3784=_0x3c88c1[_0xa3159d(0xe4)]);}catch(_0x3a39cf){console[_0xa3159d(0xdc)](_0xa3159d(0x81),_0x3a39cf),_0x3c88c1[_0xa3159d(0xe4)]&&(_0x5d3784=_0x3c88c1[_0xa3159d(0xe4)]);}const _0x21e069={'mentions':_0x3c88c1['mentionUser']?[_0x52ba4b]:[]};_0x5d3784?(_0x21e069[_0xa3159d(0xa0)]={'url':_0x5d3784},_0x21e069['caption']=_0x2267de):_0x21e069[_0xa3159d(0xca)]=_0x2267de;const _0x1d409c=await _0x374ee5[_0xa3159d(0x91)](_0x22ac5c,_0x21e069);return console[_0xa3159d(0xaa)](_0xa3159d(0x82),_0x1d409c?.[_0xa3159d(0x94)]?.['id']),_0x1d409c;}catch(_0x16b249){console[_0xa3159d(0xdc)](_0xa3159d(0xdd),_0x16b249);throw _0x16b249;}}[a0_0x8de32a(0xd6)](_0x20ae6c,..._0x5e0368){const _0x201730=a0_0x8de32a;switch(_0x20ae6c){case _0x201730(0x98):const [_0x6a93d5,_0x3f021c,_0x595948]=_0x5e0368;return this[_0x201730(0xd5)](_0x6a93d5,{'enabled':_0x3f021c===_0x201730(0xd4),..._0x595948&&{'message':_0x595948}});case _0x201730(0xbb):const [_0x2228eb,_0x37c044,_0x207a3d,_0x18c56b]=_0x5e0368;return this[_0x201730(0xa2)](_0x2228eb,{[_0x37c044]:{'enabled':_0x207a3d===_0x201730(0xd4),..._0x18c56b&&{'message':_0x18c56b}}});case _0x201730(0xb7):const [_0x4d80ba,_0x598481]=_0x5e0368;return this[_0x201730(0x8d)](_0x4d80ba,_0x598481===_0x201730(0xd4)?!![]:_0x598481===_0x201730(0xc1)?![]:_0x598481);case _0x201730(0x99):return JSON[_0x201730(0x93)](this[_0x201730(0xb0)](),null,0x2);default:return _0x201730(0x8a);}}}module['exports']=new GroupEventManager();