const a0_0x3c9b0b=a0_0x2fe8;function a0_0x2fe8(_0x448408,_0x46e645){const _0x20afad=a0_0x20af();return a0_0x2fe8=function(_0x2fe851,_0x5a4d12){_0x2fe851=_0x2fe851-0x85;let _0x1cb7ce=_0x20afad[_0x2fe851];return _0x1cb7ce;},a0_0x2fe8(_0x448408,_0x46e645);}function a0_0x20af(){const _0x85974d=['@whiskeysockets/baileys/lib/Utils/crypto','creds','cacheMiss','cache','Set','isWriting','Message','perf_hooks','AppStateSyncKeyData','3200260Emukan','keys','reviver','size','retryDelay','android','get','Retrying\x20write\x20for\x20',',\x20attempt\x20','8694KnQcIw','exports','isBuffer','data','saveCreds','length','debug','buffer','writeQueue','object','675204AhllSu','bigint','startWriteQueueProcessor','updateOne','cacheHit','init','replacer','initAuthCreds','Failed\x20to\x20read\x20data\x20for\x20','toString','from','5208DwUNHn','set','300840BAJaYW','writeData\x20took\x20','Failed\x20to\x20write\x20data\x20for\x20','1798518udGUiE','retryAttempts','cacheTTL','removeData','delete','stringify','type','hex','generateKeyPair','map','1395386haGuQS','cacheSize','startCacheCleanup','639000QmprKM','Failed\x20to\x20remove\x20data\x20for\x20','parse','error','deleteOne','base64','shift','events','fromObject','crypto','now','readData\x20took\x20','push','entries','readData','collection','sort','Hey\x20there!\x20I\x27m\x20using\x20Baileys.','removeData\x20took\x20','timestamp','value','logger','warn','all','write','has','emit','Map','Buffer'];a0_0x20af=function(){return _0x85974d;};return a0_0x20af();}(function(_0x49352c,_0x1b1981){const _0x2d8032=a0_0x2fe8,_0x3395ff=_0x49352c();while(!![]){try{const _0x993e1d=parseInt(_0x2d8032(0xd7))/0x1+parseInt(_0x2d8032(0x9b))/0x2+parseInt(_0x2d8032(0x9e))/0x3+-parseInt(_0x2d8032(0x8e))/0x4+-parseInt(_0x2d8032(0xc4))/0x5+parseInt(_0x2d8032(0x91))/0x6+parseInt(_0x2d8032(0xcd))/0x7*(-parseInt(_0x2d8032(0x8c))/0x8);if(_0x993e1d===_0x1b1981)break;else _0x3395ff['push'](_0x3395ff['shift']());}catch(_0x31f11e){_0x3395ff['push'](_0x3395ff['shift']());}}}(a0_0x20af,0x58576));const {proto}=require('@whiskeysockets/baileys/WAProto'),{Curve,signedKeyPair}=require(a0_0x3c9b0b(0xbb)),{generateRegistrationId}=require('@whiskeysockets/baileys/lib/Utils/generics'),{randomBytes}=require(a0_0x3c9b0b(0xa7)),{performance}=require(a0_0x3c9b0b(0xc2)),{EventEmitter}=require(a0_0x3c9b0b(0xa5));class AdvancedMongoAuthState extends EventEmitter{constructor(_0x1c9c69,_0x38c7cb={}){const _0x44722d=a0_0x3c9b0b;super(),this[_0x44722d(0xad)]=_0x1c9c69,this[_0x44722d(0xb3)]=_0x38c7cb[_0x44722d(0xb3)]||console,this[_0x44722d(0x9c)]=_0x38c7cb[_0x44722d(0x9c)]||0x64,this[_0x44722d(0x93)]=_0x38c7cb[_0x44722d(0x93)]||0x493e0,this[_0x44722d(0xbe)]=new Map(),this[_0x44722d(0xd5)]=[],this[_0x44722d(0xc0)]=![],this[_0x44722d(0x92)]=_0x38c7cb[_0x44722d(0x92)]||0x3,this['retryDelay']=_0x38c7cb[_0x44722d(0xc8)]||0x3e8;}async[a0_0x3c9b0b(0x86)](){const _0x3f78d7=a0_0x3c9b0b;this[_0x3f78d7(0xbc)]=await this[_0x3f78d7(0xac)](_0x3f78d7(0xbc))||this[_0x3f78d7(0x88)](),this[_0x3f78d7(0xd9)](),this['startCacheCleanup']();}[a0_0x3c9b0b(0x88)](){const _0x56e0ed=a0_0x3c9b0b,_0x265006=Curve[_0x56e0ed(0x99)]();return{'noiseKey':Curve[_0x56e0ed(0x99)](),'signedIdentityKey':_0x265006,'signedPreKey':signedKeyPair(_0x265006,0x1),'registrationId':generateRegistrationId(),'advSecretKey':randomBytes(0x20)[_0x56e0ed(0x8a)]('base64'),'processedHistoryMessages':[],'nextPreKeyId':0x1,'firstUnuploadedPreKeyId':0x1,'accountSettings':{'unarchiveChats':![],'autoUpdateStatus':!![],'statusMsgTemplate':_0x56e0ed(0xaf)},'account':{'details':'CaffeineOS','accountSignature':randomBytes(0x20)['toString'](_0x56e0ed(0xa3)),'platform':_0x56e0ed(0xc9)},'deviceId':randomBytes(0x10)[_0x56e0ed(0x8a)]('hex'),'phoneId':randomBytes(0x10)[_0x56e0ed(0x8a)](_0x56e0ed(0x98)),'identityId':randomBytes(0x14)[_0x56e0ed(0x8a)]('base64'),'registered':![],'backupToken':randomBytes(0x14)[_0x56e0ed(0x8a)](_0x56e0ed(0xa3)),'createdAt':Date['now']()};}[a0_0x3c9b0b(0x9d)](){const _0x54d607=a0_0x3c9b0b;setInterval(()=>{const _0x558ea0=a0_0x2fe8,_0x3516b4=Date[_0x558ea0(0xa8)]();for(const [_0x3535ae,{timestamp:_0x3dfcdf}]of this[_0x558ea0(0xbe)]){_0x3516b4-_0x3dfcdf>this[_0x558ea0(0x93)]&&this[_0x558ea0(0xbe)][_0x558ea0(0x95)](_0x3535ae);}},this[_0x54d607(0x93)]);}[a0_0x3c9b0b(0xd9)](){setInterval(async()=>{const _0x34ab37=a0_0x2fe8;if(this[_0x34ab37(0xc0)]||this[_0x34ab37(0xd5)][_0x34ab37(0xd2)]===0x0)return;this[_0x34ab37(0xc0)]=!![];const {data:_0x4d9190,id:_0x27c0ba,resolve:_0x46bd4b,reject:_0x3b6657}=this[_0x34ab37(0xd5)][_0x34ab37(0xa4)]();try{await this['performWrite'](_0x4d9190,_0x27c0ba),_0x46bd4b();}catch(_0x4de12f){_0x3b6657(_0x4de12f);}finally{this['isWriting']=![];}},0x64);}async['performWrite'](_0x3ea2e5,_0x216822,_0x5c59c9=0x1){const _0x55c482=a0_0x3c9b0b,_0x3ff40a=performance[_0x55c482(0xa8)]();try{const _0x16df33=JSON[_0x55c482(0xa0)](JSON[_0x55c482(0x96)](_0x3ea2e5,BufferJSON[_0x55c482(0x87)])),_0x41b9d2={'$set':{..._0x16df33,'updatedAt':new Date()}};await this[_0x55c482(0xad)][_0x55c482(0xda)]({'_id':_0x216822},_0x41b9d2,{'upsert':!![]}),this[_0x55c482(0xbe)][_0x55c482(0x8d)](_0x216822,{'data':_0x3ea2e5,'timestamp':Date['now']()});if(this[_0x55c482(0xbe)][_0x55c482(0xc7)]>this[_0x55c482(0x9c)]){const _0x960eef=[...this[_0x55c482(0xbe)][_0x55c482(0xc5)]()][_0x55c482(0xae)]((_0x1b64fa,_0x1c2ba6)=>this['cache'][_0x55c482(0xca)](_0x1b64fa)['timestamp']-this[_0x55c482(0xbe)][_0x55c482(0xca)](_0x1c2ba6)[_0x55c482(0xb1)])[0x0];this[_0x55c482(0xbe)][_0x55c482(0x95)](_0x960eef);}this[_0x55c482(0xb8)](_0x55c482(0xb6),{'id':_0x216822,'duration':performance[_0x55c482(0xa8)]()-_0x3ff40a});}catch(_0xdbfcce){if(_0x5c59c9<this[_0x55c482(0x92)])return this[_0x55c482(0xb3)][_0x55c482(0xb4)](_0x55c482(0xcb)+_0x216822+_0x55c482(0xcc)+(_0x5c59c9+0x1)),await new Promise(_0x3185f3=>setTimeout(_0x3185f3,this[_0x55c482(0xc8)])),this['performWrite'](_0x3ea2e5,_0x216822,_0x5c59c9+0x1);this[_0x55c482(0xb3)]['error'](_0x55c482(0x90)+_0x216822+':',_0xdbfcce);throw _0xdbfcce;}finally{this[_0x55c482(0xb3)][_0x55c482(0xd3)](_0x55c482(0x8f)+(performance[_0x55c482(0xa8)]()-_0x3ff40a)+'ms');}}async[a0_0x3c9b0b(0xac)](_0x406668){const _0x49a8b0=a0_0x3c9b0b,_0x5b5901=performance[_0x49a8b0(0xa8)]();try{if(this[_0x49a8b0(0xbe)][_0x49a8b0(0xb7)](_0x406668))return this['emit'](_0x49a8b0(0x85),{'id':_0x406668}),this[_0x49a8b0(0xbe)][_0x49a8b0(0xca)](_0x406668)[_0x49a8b0(0xd0)];const _0x43cbb5=await this['collection']['findOne']({'_id':_0x406668});if(!_0x43cbb5)return null;const _0x3992c0=JSON[_0x49a8b0(0xa0)](JSON[_0x49a8b0(0x96)](_0x43cbb5),BufferJSON[_0x49a8b0(0xc6)]);return this['cache']['set'](_0x406668,{'data':_0x3992c0,'timestamp':Date[_0x49a8b0(0xa8)]()}),this[_0x49a8b0(0xb8)](_0x49a8b0(0xbd),{'id':_0x406668}),_0x3992c0;}catch(_0x55f2ce){return this['logger'][_0x49a8b0(0xa1)](_0x49a8b0(0x89)+_0x406668+':',_0x55f2ce),null;}finally{this[_0x49a8b0(0xb3)]['debug'](_0x49a8b0(0xa9)+(performance['now']()-_0x5b5901)+'ms');}}async[a0_0x3c9b0b(0x94)](_0x3358b3){const _0x3e769d=a0_0x3c9b0b,_0x54fa75=performance[_0x3e769d(0xa8)]();try{await this[_0x3e769d(0xad)][_0x3e769d(0xa2)]({'_id':_0x3358b3}),this[_0x3e769d(0xbe)][_0x3e769d(0x95)](_0x3358b3),this[_0x3e769d(0xb8)]('remove',{'id':_0x3358b3});}catch(_0x2363f5){this[_0x3e769d(0xb3)][_0x3e769d(0xa1)](_0x3e769d(0x9f)+_0x3358b3+':',_0x2363f5);}finally{this[_0x3e769d(0xb3)]['debug'](_0x3e769d(0xb0)+(performance[_0x3e769d(0xa8)]()-_0x54fa75)+'ms');}}async[a0_0x3c9b0b(0xc5)](){return{'get':async(_0x48a12b,_0x87da64)=>{const _0x23c22b=a0_0x2fe8,_0x2be4b3={};return await Promise[_0x23c22b(0xb5)](_0x87da64[_0x23c22b(0x9a)](async _0x229054=>{const _0x1e662a=_0x23c22b;let _0x15ecf2=await this[_0x1e662a(0xac)](_0x48a12b+'-'+_0x229054);_0x48a12b==='app-state-sync-key'&&_0x15ecf2&&(_0x15ecf2=proto[_0x1e662a(0xc1)][_0x1e662a(0xc3)][_0x1e662a(0xa6)](_0x15ecf2)),_0x2be4b3[_0x229054]=_0x15ecf2;})),_0x2be4b3;},'set':async _0x44da67=>{const _0x265803=a0_0x2fe8,_0x59614b=[];for(const _0xf59cda of Object[_0x265803(0xc5)](_0x44da67)){for(const _0xdc23eb of Object['keys'](_0x44da67[_0xf59cda])){const _0x1ab295=_0x44da67[_0xf59cda][_0xdc23eb],_0x47c057=_0xf59cda+'-'+_0xdc23eb;_0x59614b[_0x265803(0xaa)](new Promise((_0x441708,_0x21d0c9)=>{this['writeQueue']['push']({'data':_0x1ab295,'id':_0x47c057,'resolve':_0x441708,'reject':_0x21d0c9});}));}}await Promise[_0x265803(0xb5)](_0x59614b);}};}['saveCreds'](){return new Promise((_0x430395,_0x16fa0e)=>{const _0x275ba=a0_0x2fe8;this[_0x275ba(0xd5)][_0x275ba(0xaa)]({'data':this['creds'],'id':_0x275ba(0xbc),'resolve':_0x430395,'reject':_0x16fa0e});});}}const BufferJSON={'replacer':(_0x534ed7,_0x36b430)=>{const _0x774968=a0_0x3c9b0b;if(Buffer[_0x774968(0xcf)](_0x36b430)||_0x36b430 instanceof Uint8Array||_0x36b430?.[_0x774968(0x97)]===_0x774968(0xba))return{'type':_0x774968(0xba),'data':Buffer['from'](_0x36b430?.[_0x774968(0xd0)]||_0x36b430)[_0x774968(0x8a)](_0x774968(0xa3))};if(_0x36b430 instanceof Map)return{'type':_0x774968(0xb9),'data':Array[_0x774968(0x8b)](_0x36b430[_0x774968(0xab)]())};if(_0x36b430 instanceof Set)return{'type':_0x774968(0xbf),'data':Array['from'](_0x36b430)};if(typeof _0x36b430===_0x774968(0xd8))return{'type':'BigInt','data':_0x36b430[_0x774968(0x8a)]()};return _0x36b430;},'reviver':(_0x4f9183,_0x49d058)=>{const _0x2f08b6=a0_0x3c9b0b;if(typeof _0x49d058===_0x2f08b6(0xd6)&&_0x49d058!==null){if(_0x49d058[_0x2f08b6(0xd4)]===!![]||_0x49d058[_0x2f08b6(0x97)]===_0x2f08b6(0xba))return Buffer['from'](_0x49d058[_0x2f08b6(0xd0)]||_0x49d058[_0x2f08b6(0xb2)],'base64');if(_0x49d058[_0x2f08b6(0x97)]===_0x2f08b6(0xb9))return new Map(_0x49d058[_0x2f08b6(0xd0)]);if(_0x49d058['type']===_0x2f08b6(0xbf))return new Set(_0x49d058[_0x2f08b6(0xd0)]);if(_0x49d058[_0x2f08b6(0x97)]==='BigInt')return BigInt(_0x49d058[_0x2f08b6(0xd0)]);}return _0x49d058;}};module[a0_0x3c9b0b(0xce)]=async(_0x5017bc,_0x88d8e5={})=>{const _0x4dfa2d=a0_0x3c9b0b,_0xe7afb3=new AdvancedMongoAuthState(_0x5017bc,_0x88d8e5);return await _0xe7afb3[_0x4dfa2d(0x86)](),{'state':{'creds':_0xe7afb3[_0x4dfa2d(0xbc)],'keys':await _0xe7afb3[_0x4dfa2d(0xc5)]()},'saveCreds':()=>_0xe7afb3[_0x4dfa2d(0xd1)]()};};