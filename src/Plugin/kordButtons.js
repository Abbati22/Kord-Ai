function a0_0x4759(){const _0x134ee0=['81253lCaWYg','selectedId','buttonsResponseMessage','8730296gETmeI','Error\x20handling\x20button\x20click:','12XUGcTa','type','cleanupInterval','now','BUTTON\x20HANDLER:\x20Attempting\x20to\x20handle\x20button','9176VxHdoP','interactiveResponseMessage','2153815jsjzJg','exports','templateButtonReplyMessage','events','push','2919582lWZwlu','delete','BUTTON\x20HANDLER:\x20Message\x20received','parse','2139794evvZpt','error','set','nativeFlowResponseMessage','buttonHandler','3119250mCcWtR','Error\x20in\x20message\x20handler:','removeAllListeners','7934928prTkTg','handleButtonClick','registerButton','expiryTime','9nSdrDh','6265936KJUfaS','quick_reply','log','11628610WIXHGo','cleanupExpiredButtons','destroy','emit','7WhYoSm','clear','25832LIoPIz','activeButtons','selectedButtonId','removeListener','message','shift','stringify','2366BoIqUx','get'];a0_0x4759=function(){return _0x134ee0;};return a0_0x4759();}(function(_0x3a875f,_0x385cb5){const _0x2fa70f=a0_0x42c5,_0x46e8f5=_0x3a875f();while(!![]){try{const _0x468b6b=parseInt(_0x2fa70f(0x179))/0x1+parseInt(_0x2fa70f(0x15a))/0x2+parseInt(_0x2fa70f(0x156))/0x3+parseInt(_0x2fa70f(0x167))/0x4+-parseInt(_0x2fa70f(0x151))/0x5+-parseInt(_0x2fa70f(0x162))/0x6+-parseInt(_0x2fa70f(0x177))/0x7*(parseInt(_0x2fa70f(0x170))/0x8);if(_0x468b6b===_0x385cb5)break;else _0x46e8f5['push'](_0x46e8f5['shift']());}catch(_0x5090df){_0x46e8f5['push'](_0x46e8f5['shift']());}}}(a0_0x4759,0xce95f));const a0_0xbffaa1=a0_0x1ba5;(function(_0x279eb9,_0x5448ba){const _0x3b68d7=a0_0x42c5,_0x494729=a0_0x1ba5,_0x16bc88=_0x279eb9();while(!![]){try{const _0x2f0f18=-parseInt(_0x494729(0x1f9))/0x1*(parseInt(_0x494729(0x1f8))/0x2)+-parseInt(_0x494729(0x1ee))/0x3+-parseInt(_0x494729(0x1f3))/0x4*(parseInt(_0x494729(0x1e0))/0x5)+parseInt(_0x494729(0x1ec))/0x6+parseInt(_0x494729(0x1f0))/0x7*(parseInt(_0x494729(0x1ed))/0x8)+parseInt(_0x494729(0x1ef))/0x9*(-parseInt(_0x494729(0x1db))/0xa)+-parseInt(_0x494729(0x1d7))/0xb*(-parseInt(_0x494729(0x1e6))/0xc);if(_0x2f0f18===_0x5448ba)break;else _0x16bc88[_0x3b68d7(0x155)](_0x16bc88[_0x3b68d7(0x175)]());}catch(_0x12367c){_0x16bc88[_0x3b68d7(0x155)](_0x16bc88['shift']());}}}(a0_0x23ca,0xcc48d));function a0_0x23ca(){const _0x4d7955=a0_0x42c5,_0xf286ec=['cleanupExpiredButtons',_0x4d7955(0x16d),_0x4d7955(0x173),_0x4d7955(0x163),_0x4d7955(0x183),'283WqOxhk',_0x4d7955(0x17a),'templateButtonReplyMessage','error',_0x4d7955(0x15c),_0x4d7955(0x171),'44806058ietsID',_0x4d7955(0x16c),_0x4d7955(0x181),_0x4d7955(0x16f),_0x4d7955(0x16a),_0x4d7955(0x17b),_0x4d7955(0x180),_0x4d7955(0x152),'nativeFlowResponseMessage',_0x4d7955(0x15f),_0x4d7955(0x160),_0x4d7955(0x15e),_0x4d7955(0x158),_0x4d7955(0x17f),_0x4d7955(0x154),_0x4d7955(0x17e),'message',_0x4d7955(0x161),_0x4d7955(0x164),_0x4d7955(0x172),_0x4d7955(0x17d),'6095136jidELk',_0x4d7955(0x17c),'4904121aLYwKF',_0x4d7955(0x166),_0x4d7955(0x16e),_0x4d7955(0x150),_0x4d7955(0x169),'8UeuQqP'];return a0_0x23ca=function(){return _0xf286ec;},a0_0x23ca();}const EventEmitter=require(a0_0xbffaa1(0x1e5));function a0_0x1ba5(_0x3eeb14,_0x3f72f3){const _0x46fc8b=a0_0x23ca();return a0_0x1ba5=function(_0x2ee866,_0x35de15){_0x2ee866=_0x2ee866-0x1d4;let _0x22ba9c=_0x46fc8b[_0x2ee866];return _0x22ba9c;},a0_0x1ba5(_0x3eeb14,_0x3f72f3);}class ButtonHandler extends EventEmitter{constructor(){const _0xf35580=a0_0x42c5,_0x3fe734=a0_0xbffaa1;super(),this[_0x3fe734(0x1d6)]=new Map(),this[_0xf35580(0x180)]=setInterval(()=>this[_0xf35580(0x16b)](),0x5*0x3c*0x3e8);}async[a0_0xbffaa1(0x1e9)](_0x353e7b,_0x4f20a6,_0x53f7e2=0x1e*0x3c*0x3e8){const _0x7423a5=a0_0xbffaa1;this[_0x7423a5(0x1d6)][_0x7423a5(0x1d5)](_0x353e7b,{'sessionId':_0x4f20a6,'expiryTime':Date[_0x7423a5(0x1d9)]()+_0x53f7e2});}async[a0_0xbffaa1(0x1f7)](_0x461603,_0x74074a){const _0x5e83be=a0_0x42c5,_0x558669=a0_0xbffaa1;console[_0x558669(0x1f2)](_0x5e83be(0x182));try{if(!_0x74074a[_0x5e83be(0x174)]?.[_0x558669(0x1dc)]&&!_0x74074a[_0x558669(0x1e7)]?.[_0x558669(0x1fb)]&&!_0x74074a[_0x558669(0x1e7)]?.[_0x558669(0x1f1)])return![];let _0x25a2ec,_0x5d1c5e;console[_0x558669(0x1f2)](_0x25a2ec),console[_0x558669(0x1f2)](_0x5d1c5e);if(_0x74074a[_0x558669(0x1e7)]['buttonsResponseMessage'])_0x25a2ec=_0x74074a['message'][_0x558669(0x1dc)][_0x5e83be(0x172)];else{if(_0x74074a['message'][_0x558669(0x1fb)])_0x25a2ec=_0x74074a[_0x5e83be(0x174)][_0x5e83be(0x153)][_0x558669(0x1fa)];else{if(_0x74074a[_0x5e83be(0x174)][_0x558669(0x1f1)]){const _0x226849=_0x74074a[_0x558669(0x1e7)][_0x558669(0x1f1)];if(_0x226849[_0x5e83be(0x15d)]?.[_0x558669(0x1ea)])try{_0x5d1c5e=JSON[_0x5e83be(0x159)](_0x226849[_0x558669(0x1df)][_0x558669(0x1ea)]),console['log'](_0x5d1c5e),_0x25a2ec=_0x5d1c5e['id'],console[_0x5e83be(0x169)](_0x25a2ec);}catch(_0x45f8e3){return console[_0x558669(0x1d4)]('Error\x20parsing\x20button\x20data:',_0x45f8e3),![];}}}}if(!_0x25a2ec)return![];const _0x1434e5=this[_0x558669(0x1d6)][_0x5e83be(0x178)](_0x25a2ec);return this[_0x558669(0x1f5)](_0x25a2ec,{..._0x5d1c5e,'message':_0x74074a,'sock':_0x461603}),!![];}catch(_0x157a00){return console[_0x5e83be(0x15b)](_0x558669(0x1eb),_0x157a00),![];}}[a0_0xbffaa1(0x1f6)](_0x3848a){const _0x57f8d2=a0_0x42c5,_0x19b885=a0_0xbffaa1;this[_0x19b885(0x1d6)][_0x57f8d2(0x157)](_0x3848a),super[_0x19b885(0x1e8)](_0x3848a);}[a0_0xbffaa1(0x1f4)](){const _0x5d573f=a0_0x42c5,_0x30e7f5=a0_0xbffaa1,_0x3228d2=Date[_0x30e7f5(0x1d9)]();for(const [_0x2763c7,_0x1c5afa]of this[_0x30e7f5(0x1d6)]['entries']()){_0x3228d2>_0x1c5afa[_0x5d573f(0x165)]&&this[_0x5d573f(0x173)](_0x2763c7);}}[a0_0xbffaa1(0x1d8)](){const _0xce173e=a0_0xbffaa1;clearInterval(this[_0xce173e(0x1dd)]),this[_0xce173e(0x1d6)][_0xce173e(0x1da)](),this['removeAllListeners']();}}function a0_0x42c5(_0x4877df,_0x2dca91){const _0x475986=a0_0x4759();return a0_0x42c5=function(_0x42c5fb,_0x842676){_0x42c5fb=_0x42c5fb-0x150;let _0x355c16=_0x475986[_0x42c5fb];return _0x355c16;},a0_0x42c5(_0x4877df,_0x2dca91);}async function kordButtonUpsert(_0x44f729,_0x543655){const _0x1554b0=a0_0x42c5,_0x1c3443=a0_0xbffaa1;console[_0x1c3443(0x1f2)](_0x1c3443(0x1e3),_0x543655?.[_0x1554b0(0x174)]?.[_0x1c3443(0x1e4)]);try{!global[_0x1c3443(0x1e2)]&&(global[_0x1c3443(0x1e2)]=new ButtonHandler());const _0x1bd1c3=await global[_0x1c3443(0x1e2)][_0x1c3443(0x1f7)](_0x44f729,_0x543655);if(_0x1bd1c3)return;}catch(_0x4e94d9){console[_0x1554b0(0x15b)](_0x1c3443(0x1e1),_0x4e94d9);}}function createButton({id:_0x222ad7,text:_0x3e1970,sessionId:sessionId=null,expiryTime:expiryTime=null}){const _0x3065e1=a0_0x42c5;return{'name':_0x3065e1(0x168),'buttonParamsJson':JSON[_0x3065e1(0x176)]({'display_text':_0x3e1970,'id':_0x222ad7,'session':sessionId})};}module[a0_0xbffaa1(0x1de)]={'ButtonHandler':ButtonHandler,'kordButtonUpsert':kordButtonUpsert,'createButton':createButton};