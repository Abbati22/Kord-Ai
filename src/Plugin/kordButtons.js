(function(_0x381fd2,_0x528146){const _0x3f156e=a0_0x467d,_0x371c42=_0x381fd2();while(!![]){try{const _0x386e99=-parseInt(_0x3f156e(0x17c))/0x1+-parseInt(_0x3f156e(0x178))/0x2+parseInt(_0x3f156e(0x17e))/0x3*(parseInt(_0x3f156e(0x15c))/0x4)+-parseInt(_0x3f156e(0x187))/0x5+-parseInt(_0x3f156e(0x182))/0x6*(parseInt(_0x3f156e(0x168))/0x7)+parseInt(_0x3f156e(0x17f))/0x8+parseInt(_0x3f156e(0x169))/0x9;if(_0x386e99===_0x528146)break;else _0x371c42['push'](_0x371c42['shift']());}catch(_0x3d2ed9){_0x371c42['push'](_0x371c42['shift']());}}}(a0_0x443c,0xc5893),function(_0x228180,_0x32728d){const _0x543347=a0_0x467d,_0x3715b9=a0_0x5bb3,_0x513fc3=_0x228180();while(!![]){try{const _0x3c85c6=-parseInt(_0x3715b9(0x10f))/0x1+parseInt(_0x3715b9(0x10d))/0x2+parseInt(_0x3715b9(0x100))/0x3+-parseInt(_0x3715b9(0xe2))/0x4*(parseInt(_0x3715b9(0x10a))/0x5)+-parseInt(_0x3715b9(0x10c))/0x6+-parseInt(_0x3715b9(0xe7))/0x7+parseInt(_0x3715b9(0xdc))/0x8*(parseInt(_0x3715b9(0xec))/0x9);if(_0x3c85c6===_0x32728d)break;else _0x513fc3['push'](_0x513fc3[_0x543347(0x158)]());}catch(_0x662a2e){_0x513fc3[_0x543347(0x16d)](_0x513fc3[_0x543347(0x158)]());}}}(a0_0x4b4f,0x951af));const a0_0xbffaa1=a0_0x1ba5;(function(_0x44095c,_0x530dc7){const _0xf43d76=a0_0x467d,_0xab6432=a0_0x5bb3,_0x2f0e46=a0_0x1ba5,_0x238cf6=_0x44095c();while(!![]){try{const _0x1d3d01=-parseInt(_0x2f0e46(0x1f9))/0x1*(parseInt(_0x2f0e46(0x1f8))/0x2)+-parseInt(_0x2f0e46(0x1ee))/0x3+-parseInt(_0x2f0e46(0x1f3))/0x4*(parseInt(_0x2f0e46(0x1e0))/0x5)+parseInt(_0x2f0e46(0x1ec))/0x6+parseInt(_0x2f0e46(0x1f0))/0x7*(parseInt(_0x2f0e46(0x1ed))/0x8)+parseInt(_0x2f0e46(0x1ef))/0x9*(-parseInt(_0x2f0e46(0x1db))/0xa)+-parseInt(_0x2f0e46(0x1d7))/0xb*(-parseInt(_0x2f0e46(0x1e6))/0xc);if(_0x1d3d01===_0x530dc7)break;else _0x238cf6[_0xab6432(0xff)](_0x238cf6[_0xab6432(0xe8)]());}catch(_0x176d48){_0x238cf6[_0xab6432(0xff)](_0x238cf6[_0xf43d76(0x158)]());}}}(a0_0x23ca,0xcc48d));function a0_0x23ca(){const _0x6ef7d7=a0_0x467d,_0x156ce7=a0_0x5bb3,_0x20eba7=[_0x156ce7(0xe0),_0x156ce7(0x107),_0x156ce7(0xe4),_0x156ce7(0x10e),_0x156ce7(0xf8),_0x156ce7(0xef),_0x156ce7(0xeb),_0x156ce7(0xdf),_0x156ce7(0x103),_0x156ce7(0xea),_0x156ce7(0xed),_0x6ef7d7(0x17d),_0x156ce7(0x10b),_0x6ef7d7(0x176),_0x156ce7(0xe1),_0x6ef7d7(0x164),_0x156ce7(0xe9),_0x156ce7(0x110),_0x156ce7(0x102),_0x156ce7(0x101),_0x156ce7(0xee),_0x156ce7(0xf1),_0x156ce7(0xe6),_0x156ce7(0xe5),_0x156ce7(0xf6),_0x156ce7(0xfd),_0x6ef7d7(0x15d),_0x156ce7(0xf0),_0x156ce7(0xfb),_0x156ce7(0xf7),_0x156ce7(0xf4),_0x156ce7(0xfa),_0x156ce7(0xf5),_0x156ce7(0xe3),_0x156ce7(0xde),_0x156ce7(0x109),_0x156ce7(0x105),_0x156ce7(0xdd),_0x156ce7(0xf2),_0x156ce7(0xf9)];return a0_0x23ca=function(){return _0x20eba7;},a0_0x23ca();}const EventEmitter=require(a0_0xbffaa1(0x1e5));function a0_0x1ba5(_0x3abb2c,_0x2b5cae){const _0x368359=a0_0x23ca();return a0_0x1ba5=function(_0x5a710a,_0x140c27){_0x5a710a=_0x5a710a-0x1d4;let _0x311688=_0x368359[_0x5a710a];return _0x311688;},a0_0x1ba5(_0x3abb2c,_0x2b5cae);}function a0_0x5bb3(_0x3a10af,_0x34a91f){const _0x3b3ffe=a0_0x4b4f();return a0_0x5bb3=function(_0x172411,_0x2488d2){_0x172411=_0x172411-0xdc;let _0x5ba7f4=_0x3b3ffe[_0x172411];return _0x5ba7f4;},a0_0x5bb3(_0x3a10af,_0x34a91f);}class ButtonHandler extends EventEmitter{constructor(){const _0x292419=a0_0x5bb3,_0x3a2d02=a0_0xbffaa1;super(),this[_0x3a2d02(0x1d6)]=new Map(),this[_0x292419(0x110)]=setInterval(()=>this[_0x292419(0xe0)](),0x5*0x3c*0x3e8);}async[a0_0xbffaa1(0x1e9)](_0x11c5b0,_0x10e7c3,_0x478d63=0x1e*0x3c*0x3e8){const _0xa127d=a0_0xbffaa1;this[_0xa127d(0x1d6)][_0xa127d(0x1d5)](_0x11c5b0,{'sessionId':_0x10e7c3,'expiryTime':Date[_0xa127d(0x1d9)]()+_0x478d63});}async[a0_0xbffaa1(0x1f7)](_0x25dc3b,_0x2a8418){const _0x2d14cc=a0_0x467d,_0xc21591=a0_0x5bb3,_0x45a41f=a0_0xbffaa1;console[_0x45a41f(0x1f2)](_0xc21591(0xfc));try{if(!_0x2a8418[_0xc21591(0xf0)]?.[_0x45a41f(0x1dc)]&&!_0x2a8418[_0x45a41f(0x1e7)]?.[_0x45a41f(0x1fb)]&&!_0x2a8418[_0x45a41f(0x1e7)]?.[_0x45a41f(0x1f1)])return![];let _0x3c6e01,_0x1120c9;console[_0x45a41f(0x1f2)](_0x3c6e01),console[_0x45a41f(0x1f2)](_0x1120c9);if(_0x2a8418[_0x45a41f(0x1e7)][_0xc21591(0xe9)])_0x3c6e01=_0x2a8418[_0xc21591(0xf0)][_0x45a41f(0x1dc)][_0xc21591(0xf4)];else{if(_0x2a8418[_0x2d14cc(0x175)][_0x45a41f(0x1fb)])_0x3c6e01=_0x2a8418[_0xc21591(0xf0)][_0xc21591(0xdf)][_0x45a41f(0x1fa)];else{if(_0x2a8418[_0xc21591(0xf0)][_0x45a41f(0x1f1)]){const _0x354379=_0x2a8418[_0x45a41f(0x1e7)][_0x45a41f(0x1f1)];if(_0x354379[_0xc21591(0x101)]?.[_0x45a41f(0x1ea)])try{_0x1120c9=JSON[_0xc21591(0x108)](_0x354379[_0x45a41f(0x1df)][_0x45a41f(0x1ea)]),console[_0xc21591(0xf2)](_0x1120c9),_0x3c6e01=_0x1120c9['id'],console[_0xc21591(0xf2)](_0x3c6e01);}catch(_0x5862f1){return console[_0x45a41f(0x1d4)](_0xc21591(0x104),_0x5862f1),![];}}}}if(!_0x3c6e01)return![];const _0x1eacf2=this[_0x45a41f(0x1d6)][_0xc21591(0x106)](_0x3c6e01);return this[_0x45a41f(0x1f5)](_0x3c6e01,{..._0x1120c9,'message':_0x2a8418,'sock':_0x25dc3b}),!![];}catch(_0x4b293d){return console[_0xc21591(0x103)](_0x45a41f(0x1eb),_0x4b293d),![];}}[a0_0xbffaa1(0x1f6)](_0x75eea){const _0x2b7e19=a0_0x5bb3,_0x51deda=a0_0xbffaa1;this[_0x51deda(0x1d6)][_0x2b7e19(0xfe)](_0x75eea),super[_0x51deda(0x1e8)](_0x75eea);}[a0_0xbffaa1(0x1f4)](){const _0x1404fa=a0_0x467d,_0x33a64e=a0_0x5bb3,_0x15c123=a0_0xbffaa1,_0x4658d1=Date[_0x15c123(0x1d9)]();for(const [_0x90b8be,_0x5961a3]of this[_0x15c123(0x1d6)][_0x1404fa(0x161)]()){_0x4658d1>_0x5961a3['expiryTime']&&this[_0x33a64e(0xe4)](_0x90b8be);}}[a0_0xbffaa1(0x1d8)](){const _0x4c1002=a0_0x5bb3,_0x733b87=a0_0xbffaa1;clearInterval(this[_0x733b87(0x1dd)]),this[_0x733b87(0x1d6)][_0x733b87(0x1da)](),this[_0x4c1002(0xfb)]();}}function a0_0x467d(_0x13936b,_0x34f3ee){const _0x443cc1=a0_0x443c();return a0_0x467d=function(_0x467d55,_0x295dae){_0x467d55=_0x467d55-0x157;let _0x36135e=_0x443cc1[_0x467d55];return _0x36135e;},a0_0x467d(_0x13936b,_0x34f3ee);}function a0_0x443c(){const _0x52ccb6=['BUTTON\x20HANDLER:\x20Message\x20received','1462734GEUoFR','13279464sbyLDG','removeAllListeners','delete','20KkMhdx','push','2665488sxRRdd','get','log','interactiveResponseMessage','2384400hiedKd','40NuXMJB','set','message','now','24192xsFkSF','1836570WEgnux','parse','selectedButtonId','3119250mCcWtR','801381DUgNVI','44806058ietsID','1305IIpcHq','12054496YBleMC','destroy','selectedId','18LjGkpu','Error\x20handling\x20button\x20click:','2486700Ghqtcn','cleanupInterval','error','4501145egcMse','buttonHandler','registerButton','shift','activeButtons','clear','9nSdrDh','9872GxxIlj','12XUGcTa','1315098KmOrhN','3746964qseAgF','283WqOxhk','entries','handleButtonClick','emit','11628610WIXHGo','exports','8730296gETmeI'];a0_0x443c=function(){return _0x52ccb6;};return a0_0x443c();}function a0_0x4b4f(){const _0x2b13e5=a0_0x467d,_0x3e8be7=[_0x2b13e5(0x17b),_0x2b13e5(0x160),'message','Error\x20in\x20message\x20handler:',_0x2b13e5(0x170),'quick_reply',_0x2b13e5(0x17a),'6095136jidELk','type',_0x2b13e5(0x157),'9176VxHdoP','8UeuQqP',_0x2b13e5(0x183),_0x2b13e5(0x16a),'BUTTON\x20HANDLER:\x20Attempting\x20to\x20handle\x20button','events',_0x2b13e5(0x16b),_0x2b13e5(0x16d),_0x2b13e5(0x184),'nativeFlowResponseMessage',_0x2b13e5(0x165),_0x2b13e5(0x186),'Error\x20parsing\x20button\x20data:','7WhYoSm',_0x2b13e5(0x16f),_0x2b13e5(0x163),_0x2b13e5(0x179),_0x2b13e5(0x15b),'1111505aqZfZM',_0x2b13e5(0x180),_0x2b13e5(0x15f),_0x2b13e5(0x172),_0x2b13e5(0x162),_0x2b13e5(0x177),_0x2b13e5(0x185),'stringify',_0x2b13e5(0x173),_0x2b13e5(0x171),'4904121aLYwKF','templateButtonReplyMessage','cleanupExpiredButtons',_0x2b13e5(0x15a),_0x2b13e5(0x16c),_0x2b13e5(0x166),'removeListener',_0x2b13e5(0x167),_0x2b13e5(0x188),_0x2b13e5(0x16e),'shift','buttonsResponseMessage',_0x2b13e5(0x174),_0x2b13e5(0x181),_0x2b13e5(0x15e),_0x2b13e5(0x159)];return a0_0x4b4f=function(){return _0x3e8be7;},a0_0x4b4f();}async function kordButtonUpsert(_0x5da1cd,_0x2496ec){const _0x45a673=a0_0x5bb3,_0x393397=a0_0xbffaa1;console[_0x393397(0x1f2)](_0x393397(0x1e3),_0x2496ec?.[_0x45a673(0xf0)]?.[_0x393397(0x1e4)]);try{!global[_0x393397(0x1e2)]&&(global[_0x393397(0x1e2)]=new ButtonHandler());const _0x381dbb=await global[_0x393397(0x1e2)][_0x393397(0x1f7)](_0x5da1cd,_0x2496ec);if(_0x381dbb)return;}catch(_0x3702b9){console[_0x45a673(0x103)](_0x393397(0x1e1),_0x3702b9);}}function createButton({id:_0xce9eb,text:_0x31261d,sessionId:sessionId=null,expiryTime:expiryTime=null}){const _0x829038=a0_0x5bb3;return{'name':_0x829038(0xf3),'buttonParamsJson':JSON[_0x829038(0x111)]({'display_text':_0x31261d,'id':_0xce9eb,'session':sessionId})};}module[a0_0xbffaa1(0x1de)]={'ButtonHandler':ButtonHandler,'kordButtonUpsert':kordButtonUpsert,'createButton':createButton};