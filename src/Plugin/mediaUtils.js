function a0_0x5503(_0x2674ae,_0x23698b){const _0x5cc0a3=a0_0x5cc0();return a0_0x5503=function(_0x55032e,_0xcc40c4){_0x55032e=_0x55032e-0x1f1;let _0x55b9f0=_0x5cc0a3[_0x55032e];return _0x55b9f0;},a0_0x5503(_0x2674ae,_0x23698b);}function a0_0x5cc0(){const _0x4f2e05=['chalk','message','getViewOnceMediaType','sendMediaMessage','6XQLzUV','createFakeReply','sendImage','sendAudio','ephemeralMessage','viewOnceMessage','Failed\x20to\x20get\x20media\x20buffer','key','getMediaType','remoteJid','2680812QRRoii','audio','caption','handleViewOnceMessage','1368845KhbkuB','processedViewOnceMessages','imageMessage','error','viewOnceImageMessage','scheduleViewOnceCleanup','315fchrdc','isViewOnceMessage','viewOnceVideoMessage','./kordMsg','clear','green','OWNER_NUMBERS','🧹\x20Cleaned\x20up\x20ViewOnce\x20message\x20ID:\x20','10obIQpL','@s.whatsapp.net','getbuff','gray','forwardStatusToOwner','Message','info','❌\x20Error\x20handling\x20ViewOnce\x20message:','sendViewOnceMedia','3319857bSxrEg','extendedTextMessage','📤\x20*From:*\x20@','viewOnce','contextInfo','*STATUS*','Failed\x20to\x20get\x20quoted\x20message','text','ViewOnce\x20Message','📷\x20Processing\x20ViewOnce\x20message...','./kordlogger','81628hkdTSy','clearProcessedStatusDownloads','📋\x20*Type:*\x20','videoMessage','quotedMessage','Error\x20forwarding\x20status:','participant','charAt','add','✅\x20Media\x20status\x20forwarded','red','exports','settings','🔒\x20*ANTIVIEWONCE\x20MESSAGE*\x0a\x0a','sendVideo','2bfgcrE','sock','video','delete','audioMessage','has','image','13647pYZNmG','cyan','109608Fgynpj','processedStatusDownloads','2283721jeExSt','status@broadcast','createViewOnceCaption','60LKgHMF','debug','split','✅\x20Text\x20status\x20forwarded','stanzaId'];a0_0x5cc0=function(){return _0x4f2e05;};return a0_0x5cc0();}const a0_0x39cfe3=a0_0x5503;(function(_0xb9617c,_0x41667e){const _0x23ded5=a0_0x5503,_0x864651=_0xb9617c();while(!![]){try{const _0x528f00=parseInt(_0x23ded5(0x222))/0x1*(-parseInt(_0x23ded5(0x21b))/0x2)+parseInt(_0x23ded5(0x229))/0x3*(-parseInt(_0x23ded5(0x20c))/0x4)+parseInt(_0x23ded5(0x240))/0x5*(parseInt(_0x23ded5(0x232))/0x6)+-parseInt(_0x23ded5(0x246))/0x7*(-parseInt(_0x23ded5(0x224))/0x8)+parseInt(_0x23ded5(0x201))/0x9+-parseInt(_0x23ded5(0x1f8))/0xa*(parseInt(_0x23ded5(0x226))/0xb)+-parseInt(_0x23ded5(0x23c))/0xc;if(_0x528f00===_0x41667e)break;else _0x864651['push'](_0x864651['shift']());}catch(_0x4eaa78){_0x864651['push'](_0x864651['shift']());}}}(a0_0x5cc0,0x63374));const logger=require(a0_0x39cfe3(0x20b)),chalk=require(a0_0x39cfe3(0x22e)),{kordMsg}=require(a0_0x39cfe3(0x1f3));class MediaUtils{constructor(_0x7f75ea){const _0x5e7ddb=a0_0x39cfe3;this[_0x5e7ddb(0x21c)]=_0x7f75ea,this[_0x5e7ddb(0x225)]=new Set(),this[_0x5e7ddb(0x241)]=new Set();}async['handlePotentialStatusDownload'](_0x317ddf){const _0x4fd308=a0_0x39cfe3,_0x3294ca=_0x317ddf[_0x4fd308(0x22f)]?.[_0x4fd308(0x202)]?.[_0x4fd308(0x205)],_0x33e9ca=_0x3294ca?.[_0x4fd308(0x210)],_0x32754e=_0x3294ca?.[_0x4fd308(0x22d)],_0x1048d9=_0x3294ca?.['participant'],_0x5268cd=_0x317ddf[_0x4fd308(0x239)][_0x4fd308(0x212)]||_0x317ddf[_0x4fd308(0x239)][_0x4fd308(0x23b)];if(!_0x33e9ca||!_0x32754e)return;if(_0x33e9ca['statusMessage']||_0x33e9ca['imageMessage']||_0x33e9ca[_0x4fd308(0x20f)]||_0x33e9ca[_0x4fd308(0x21f)]||_0x33e9ca['extendedTextMessage']){if(this['processedStatusDownloads'][_0x4fd308(0x220)](_0x32754e))return;this[_0x4fd308(0x225)][_0x4fd308(0x214)](_0x32754e);try{await this[_0x4fd308(0x1fc)](_0x317ddf,_0x1048d9,_0x5268cd);}catch(_0x1fe574){logger[_0x4fd308(0x243)](chalk[_0x4fd308(0x216)](_0x4fd308(0x211)),_0x1fe574);}setTimeout(()=>{const _0x4f4bdf=_0x4fd308;this[_0x4f4bdf(0x225)][_0x4f4bdf(0x21e)](_0x32754e);},0x36ee80);}}async[a0_0x39cfe3(0x1fc)](_0x2c5f99,_0x487f38,_0xb821e3=null){const _0x134122=a0_0x39cfe3;try{const _0x2451b5=_0xb821e3||global[_0x134122(0x218)]?.[_0x134122(0x1f6)]+_0x134122(0x1f9),_0x5981bc=kordMsg(this[_0x134122(0x21c)],_0x2c5f99),_0x394801=await _0x5981bc['getQuotedMessage']();if(!_0x394801)return logger[_0x134122(0x243)](chalk[_0x134122(0x216)](_0x134122(0x207))),null;const _0x2a683c=this[_0x134122(0x233)](_0x2c5f99[_0x134122(0x239)]['id'],_0x487f38);if(_0x394801[_0x134122(0x202)]){const _0x2e9998=_0x394801[_0x134122(0x202)][_0x134122(0x208)];return await _0x5981bc['send'](_0x2e9998),logger[_0x134122(0x1fe)](chalk[_0x134122(0x1f5)](_0x134122(0x22c))),!![];}const _0x4c7baf=await _0x5981bc['getbuff']();if(!_0x4c7baf)return logger[_0x134122(0x243)](chalk[_0x134122(0x216)](_0x134122(0x238))),null;const _0x5c69e9=this[_0x134122(0x23a)](_0x394801),_0x5527d8=_0x394801[_0x5c69e9+_0x134122(0x1fd)]?.[_0x134122(0x23e)]||'';return await this['sendMediaMessage'](_0x2451b5,_0x4c7baf,_0x5c69e9,_0x5527d8,_0x2a683c,_0x5981bc),logger[_0x134122(0x1fe)](chalk['green'](_0x134122(0x215))),!![];}catch(_0x47d285){return logger['error'](chalk['red'](_0x134122(0x211)),_0x47d285),null;}}[a0_0x39cfe3(0x23a)](_0xf73d2d){const _0x8fd72=a0_0x39cfe3;if(_0xf73d2d[_0x8fd72(0x242)])return _0x8fd72(0x221);if(_0xf73d2d[_0x8fd72(0x20f)])return _0x8fd72(0x21d);if(_0xf73d2d[_0x8fd72(0x21f)])return'audio';return null;}async[a0_0x39cfe3(0x231)](_0x224f21,_0xe69885,_0x126dba,_0x420e0a,_0x26e1a2,_0x1c3bad){const _0x33bf18=a0_0x39cfe3;switch(_0x126dba){case _0x33bf18(0x221):await _0x1c3bad[_0x33bf18(0x234)](_0xe69885,_0x420e0a);break;case _0x33bf18(0x21d):await _0x1c3bad['sendVideo'](_0xe69885,_0x420e0a);break;case _0x33bf18(0x23d):await _0x1c3bad[_0x33bf18(0x235)](_0xe69885);break;}}[a0_0x39cfe3(0x233)](_0x50958f,_0x1f3ebb){const _0x5b6b39=a0_0x39cfe3;return{'key':{'fromMe':![],'participant':_0x1f3ebb,'remoteJid':_0x5b6b39(0x227),'id':_0x50958f},'message':{'conversation':_0x5b6b39(0x206)}};}[a0_0x39cfe3(0x1f1)](_0x5bd0d9){const _0x4ed7d5=a0_0x39cfe3;if(!_0x5bd0d9?.['message'])return![];const _0x5e0ab7=_0x5bd0d9[_0x4ed7d5(0x22f)];return!!(_0x5e0ab7[_0x4ed7d5(0x242)]?.[_0x4ed7d5(0x204)]||_0x5e0ab7[_0x4ed7d5(0x20f)]?.[_0x4ed7d5(0x204)]||_0x5e0ab7[_0x4ed7d5(0x21f)]?.[_0x4ed7d5(0x204)]||_0x5e0ab7[_0x4ed7d5(0x237)]||_0x5e0ab7['viewOnceMessageV2']||_0x5e0ab7[_0x4ed7d5(0x244)]||_0x5e0ab7[_0x4ed7d5(0x1f2)]||_0x5e0ab7[_0x4ed7d5(0x236)]?.[_0x4ed7d5(0x22f)]&&this['isViewOnceMessage']({'message':_0x5e0ab7[_0x4ed7d5(0x236)]['message']}));}async[a0_0x39cfe3(0x23f)](_0x3c003a){const _0x44c3ca=a0_0x39cfe3;try{const _0x1b4568=_0x3c003a[_0x44c3ca(0x239)]['id'],_0x2620dc=_0x3c003a['key'][_0x44c3ca(0x23b)],_0x52088a=_0x3c003a[_0x44c3ca(0x239)]['participant']||_0x3c003a[_0x44c3ca(0x239)][_0x44c3ca(0x23b)],_0x22aadd=global[_0x44c3ca(0x218)]?.['OWNER_NUMBERS']+_0x44c3ca(0x1f9);if(_0x52088a===_0x22aadd||_0x2620dc===_0x22aadd||this[_0x44c3ca(0x241)]['has'](_0x1b4568))return;this['processedViewOnceMessages']['add'](_0x1b4568),logger[_0x44c3ca(0x1fe)](chalk[_0x44c3ca(0x223)](_0x44c3ca(0x20a)));const _0x5abddc=kordMsg(this['sock'],_0x3c003a),_0x4349a0=await _0x5abddc[_0x44c3ca(0x1fa)]();if(!_0x4349a0){logger['error'](chalk[_0x44c3ca(0x216)]('❌\x20Failed\x20to\x20get\x20media\x20buffer'));return;}const _0x39f214=this['createViewOnceCaption'](_0x3c003a),_0x542825=this[_0x44c3ca(0x230)](_0x3c003a);await this[_0x44c3ca(0x200)](_0x22aadd,_0x4349a0,_0x542825,_0x39f214,_0x3c003a,_0x5abddc),this[_0x44c3ca(0x245)](_0x1b4568),logger['info'](chalk[_0x44c3ca(0x1f5)]('✅\x20ViewOnce\x20message\x20processed:\x20'+_0x1b4568));}catch(_0x23189f){this['processedViewOnceMessages'][_0x44c3ca(0x21e)](_0x3c003a[_0x44c3ca(0x239)]['id']),logger['error'](chalk[_0x44c3ca(0x216)](_0x44c3ca(0x1ff)),_0x23189f);}}[a0_0x39cfe3(0x230)](_0x35f8d4){const _0x489978=a0_0x39cfe3,_0x5ca70e=_0x35f8d4[_0x489978(0x22f)];if(_0x5ca70e['imageMessage']?.['viewOnce']||_0x5ca70e['viewOnceImageMessage'])return'image';if(_0x5ca70e[_0x489978(0x20f)]?.['viewOnce']||_0x5ca70e[_0x489978(0x1f2)])return _0x489978(0x21d);if(_0x5ca70e[_0x489978(0x21f)]?.[_0x489978(0x204)])return _0x489978(0x23d);const _0x21e136=_0x5ca70e['viewOnceMessage']||_0x5ca70e['viewOnceMessageV2'];if(_0x21e136?.[_0x489978(0x242)])return _0x489978(0x221);if(_0x21e136?.[_0x489978(0x20f)])return'video';return null;}[a0_0x39cfe3(0x228)](_0xa8f339){const _0x522882=a0_0x39cfe3,_0x3cdf01=_0xa8f339['key'][_0x522882(0x212)]||_0xa8f339['key'][_0x522882(0x23b)],_0x4130f4=this['getViewOnceMediaType'](_0xa8f339);return _0x522882(0x219)+(_0x522882(0x203)+_0x3cdf01[_0x522882(0x22b)]('@')[0x0]+'\x0a')+(_0x522882(0x20e)+(_0x4130f4[_0x522882(0x213)](0x0)['toUpperCase']()+_0x4130f4['slice'](0x1))+'\x0a')+('⏰\x20*Time:*\x20'+new Date()['toLocaleString']());}async['sendViewOnceMedia'](_0x3b1ad5,_0x64d836,_0x3f967e,_0x31d813,_0x233e93,_0x5cf9d0){const _0x983d44=a0_0x39cfe3,_0x101efa={'key':{'remoteJid':_0x233e93[_0x983d44(0x239)][_0x983d44(0x23b)],'fromMe':![],'id':_0x233e93[_0x983d44(0x239)]['id'],'participant':_0x233e93[_0x983d44(0x239)][_0x983d44(0x212)]||_0x233e93[_0x983d44(0x239)][_0x983d44(0x23b)]},'message':{'conversation':_0x983d44(0x209)}};switch(_0x3f967e){case'image':await _0x5cf9d0[_0x983d44(0x234)](_0x64d836,_0x31d813,_0x3b1ad5,_0x101efa);break;case _0x983d44(0x21d):await _0x5cf9d0[_0x983d44(0x21a)](_0x64d836,_0x31d813,_0x3b1ad5,_0x101efa);break;case _0x983d44(0x23d):await _0x5cf9d0['sendAudio'](_0x64d836,![],_0x3b1ad5,_0x101efa);break;}}[a0_0x39cfe3(0x245)](_0x40d3eb){setTimeout(()=>{const _0x4133e2=a0_0x5503;this['processedViewOnceMessages'][_0x4133e2(0x21e)](_0x40d3eb),logger[_0x4133e2(0x22a)](chalk[_0x4133e2(0x1fb)](_0x4133e2(0x1f7)+_0x40d3eb));},0x36ee80);}[a0_0x39cfe3(0x20d)](){const _0x323ccd=a0_0x39cfe3;this[_0x323ccd(0x225)][_0x323ccd(0x1f4)]();}['clearProcessedViewOnceMessages'](){const _0x30f25b=a0_0x39cfe3;this[_0x30f25b(0x241)]['clear']();}}module[a0_0x39cfe3(0x217)]={'MediaUtils':MediaUtils};