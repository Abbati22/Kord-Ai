const a0_0x4b65b6=a0_0x2590;(function(_0x36de78,_0x7f08cb){const _0x4ac83c=a0_0x2590,_0x16b6e6=_0x36de78();while(!![]){try{const _0x49c0b8=-parseInt(_0x4ac83c(0x98))/0x1+parseInt(_0x4ac83c(0xa5))/0x2*(-parseInt(_0x4ac83c(0x8d))/0x3)+-parseInt(_0x4ac83c(0xa2))/0x4*(-parseInt(_0x4ac83c(0xb0))/0x5)+-parseInt(_0x4ac83c(0x9a))/0x6*(-parseInt(_0x4ac83c(0xa6))/0x7)+-parseInt(_0x4ac83c(0x82))/0x8*(-parseInt(_0x4ac83c(0x83))/0x9)+-parseInt(_0x4ac83c(0x8c))/0xa+parseInt(_0x4ac83c(0x84))/0xb;if(_0x49c0b8===_0x7f08cb)break;else _0x16b6e6['push'](_0x16b6e6['shift']());}catch(_0x240c72){_0x16b6e6['push'](_0x16b6e6['shift']());}}}(a0_0x1a34,0x4e60b));function a0_0x2590(_0x1b2d47,_0x459e82){const _0x1a346e=a0_0x1a34();return a0_0x2590=function(_0x2590df,_0x202a5d){_0x2590df=_0x2590df-0x7c;let _0x5cea74=_0x1a346e[_0x2590df];return _0x5cea74;},a0_0x2590(_0x1b2d47,_0x459e82);}function a0_0x2490(_0xed653c,_0x272ba1){const _0x57c68f=a0_0x1906();return a0_0x2490=function(_0x429fb1,_0x95ba7d){_0x429fb1=_0x429fb1-0x172;let _0x193172=_0x57c68f[_0x429fb1];return _0x193172;},a0_0x2490(_0xed653c,_0x272ba1);}const a0_0x25ad63=a0_0x2490;(function(_0x5bf212,_0x58a5d0){const _0x240e18=a0_0x2590,_0x5daacd=a0_0x2490,_0x3c88b1=_0x5bf212();while(!![]){try{const _0x43987f=-parseInt(_0x5daacd(0x17b))/0x1+parseInt(_0x5daacd(0x197))/0x2+parseInt(_0x5daacd(0x180))/0x3*(-parseInt(_0x5daacd(0x1a5))/0x4)+-parseInt(_0x5daacd(0x191))/0x5+parseInt(_0x5daacd(0x198))/0x6+parseInt(_0x5daacd(0x1a8))/0x7+parseInt(_0x5daacd(0x185))/0x8*(parseInt(_0x5daacd(0x199))/0x9);if(_0x43987f===_0x58a5d0)break;else _0x3c88b1[_0x240e18(0x99)](_0x3c88b1[_0x240e18(0xb5)]());}catch(_0x22091c){_0x3c88b1[_0x240e18(0x99)](_0x3c88b1['shift']());}}}(a0_0x1906,0xa178e));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(a0_0x25ad63(0x17d)),ff=require(a0_0x25ad63(0x18a)),ffmpegPath=require(a0_0x25ad63(0x176))[a0_0x25ad63(0x184)],webp=require(a0_0x25ad63(0x189)),path=require(a0_0x25ad63(0x184));ff[a0_0x25ad63(0x19b)](ffmpegPath);async function imageToWebp(_0x45eff5){const _0x324722=a0_0x2590,_0x303ec9=a0_0x25ad63,_0x2a3886=path[_0x324722(0xb9)](tmpdir(),Crypto[_0x303ec9(0x1aa)](0x6)[_0x303ec9(0x1a0)](0x0,0x6)[_0x303ec9(0x19e)](0x24)+_0x303ec9(0x18c)),_0x13e41f=path[_0x324722(0xb9)](tmpdir(),Crypto[_0x324722(0xaa)](0x6)[_0x324722(0xb2)](0x0,0x6)[_0x303ec9(0x19e)](0x24)+_0x303ec9(0x17e));fs[_0x303ec9(0x188)](_0x13e41f,_0x45eff5),await new Promise((_0x5e8d8d,_0x52d62f)=>{const _0x4d03f0=_0x324722,_0x4cba47=_0x303ec9;ff(_0x13e41f)['on'](_0x4d03f0(0x8b),_0x52d62f)['on'](_0x4cba47(0x181),()=>_0x5e8d8d(!![]))['addOutputOptions']([_0x4d03f0(0xaf),_0x4d03f0(0x96),_0x4cba47(0x19d),_0x4cba47(0x178)])[_0x4cba47(0x190)](_0x4d03f0(0xb3))[_0x4d03f0(0xa1)](_0x2a3886);});const _0x48d96c=fs[_0x303ec9(0x182)](_0x2a3886);return fs[_0x303ec9(0x187)](_0x2a3886),fs[_0x303ec9(0x187)](_0x13e41f),_0x48d96c;}function a0_0x1906(){const _0x1b24eb=a0_0x2590,_0x59c8a7=[_0x1b24eb(0x8f),_0x1b24eb(0xa3),_0x1b24eb(0x88),_0x1b24eb(0xac),_0x1b24eb(0xab),_0x1b24eb(0x90),_0x1b24eb(0xb6),_0x1b24eb(0xb1),_0x1b24eb(0xae),_0x1b24eb(0x8a),'408355Fwkihe','DGXeon',_0x1b24eb(0x97),_0x1b24eb(0xa7),_0x1b24eb(0x7d),_0x1b24eb(0x81),_0x1b24eb(0x87),_0x1b24eb(0x86),'18XztGXw',_0x1b24eb(0x9e),_0x1b24eb(0x9c),_0x1b24eb(0x9d),_0x1b24eb(0x94),_0x1b24eb(0x7e),_0x1b24eb(0xa9),'readUIntLE',_0x1b24eb(0x80),_0x1b24eb(0xa1),'-loop','author',_0x1b24eb(0x91),_0x1b24eb(0x93),_0x1b24eb(0xa8),'4425001EBvLmp',_0x1b24eb(0xb4),_0x1b24eb(0xaa),_0x1b24eb(0x85),'join',_0x1b24eb(0xa0),'data',_0x1b24eb(0x96),_0x1b24eb(0x7c),_0x1b24eb(0xa4),'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','writeUIntLE',_0x1b24eb(0x95),_0x1b24eb(0x92),_0x1b24eb(0xad),_0x1b24eb(0x8e),'.jpg',_0x1b24eb(0x8b),'266673YHOCmz','end',_0x1b24eb(0x89),'default',_0x1b24eb(0x9b),_0x1b24eb(0xba),_0x1b24eb(0x7f)];return a0_0x1906=function(){return _0x59c8a7;},a0_0x1906();}async function videoToWebp(_0x13b04b){const _0x13a61d=a0_0x2590,_0x1f7920=a0_0x25ad63,_0x2e3b30=path[_0x13a61d(0xb9)](tmpdir(),Crypto[_0x1f7920(0x1aa)](0x6)[_0x1f7920(0x1a0)](0x0,0x6)[_0x1f7920(0x19e)](0x24)+'.webp'),_0x5b8300=path[_0x13a61d(0xb9)](tmpdir(),Crypto['randomBytes'](0x6)[_0x13a61d(0xb2)](0x0,0x6)[_0x1f7920(0x19e)](0x24)+_0x1f7920(0x194));fs[_0x1f7920(0x188)](_0x5b8300,_0x13b04b),await new Promise((_0x6ea5b9,_0x4edf00)=>{const _0x55b17c=_0x13a61d,_0x238ef2=_0x1f7920;ff(_0x5b8300)['on'](_0x238ef2(0x17f),_0x4edf00)['on'](_0x238ef2(0x181),()=>_0x6ea5b9(!![]))[_0x55b17c(0xb7)]([_0x55b17c(0xaf),_0x238ef2(0x175),_0x238ef2(0x19d),_0x238ef2(0x178),_0x238ef2(0x1a3),'0',_0x238ef2(0x18b),_0x238ef2(0x18d),'-t',_0x238ef2(0x19f),_0x238ef2(0x193),_0x238ef2(0x183),_0x238ef2(0x1a9),_0x55b17c(0xb8),'0'])[_0x238ef2(0x190)]('webp')[_0x55b17c(0xa1)](_0x2e3b30);});const _0x3e1be5=fs[_0x1f7920(0x182)](_0x2e3b30);return fs[_0x1f7920(0x187)](_0x2e3b30),fs[_0x13a61d(0x8f)](_0x5b8300),_0x3e1be5;}async function writeExifImg(_0x143f26,_0x5612d4){const _0x2fa4d5=a0_0x2590,_0x5855ec=a0_0x25ad63;let _0x236017=await imageToWebp(_0x143f26);const _0xeaee1c=path[_0x5855ec(0x172)](tmpdir(),Crypto[_0x5855ec(0x1aa)](0x6)[_0x5855ec(0x1a0)](0x0,0x6)[_0x5855ec(0x19e)](0x24)+_0x5855ec(0x18c)),_0x3d8777=path[_0x5855ec(0x172)](tmpdir(),Crypto[_0x5855ec(0x1aa)](0x6)[_0x5855ec(0x1a0)](0x0,0x6)[_0x5855ec(0x19e)](0x24)+_0x5855ec(0x18c));fs[_0x2fa4d5(0xa3)](_0xeaee1c,_0x236017);if(_0x5612d4[_0x2fa4d5(0x9e)]||_0x5612d4[_0x5855ec(0x1a4)]){const _0x218bec=new webp[(_0x5855ec(0x1a6))](),_0x4bbb8b={'sticker-pack-id':_0x5855ec(0x1a1),'sticker-pack-name':_0x5612d4[_0x5855ec(0x19a)],'sticker-pack-publisher':_0x5612d4[_0x5855ec(0x1a4)],'emojis':_0x5612d4[_0x5855ec(0x177)]?_0x5612d4[_0x5855ec(0x177)]:['']},_0x4bc52e=Buffer[_0x5855ec(0x18f)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2425b8=Buffer[_0x5855ec(0x18f)](JSON[_0x5855ec(0x17a)](_0x4bbb8b),_0x5855ec(0x18e)),_0x2f13ab=Buffer[_0x5855ec(0x1ab)]([_0x4bc52e,_0x2425b8]);return _0x2f13ab[_0x5855ec(0x179)](_0x2425b8[_0x5855ec(0x1a7)],0xe,0x4),await _0x218bec[_0x2fa4d5(0x7d)](_0xeaee1c),fs[_0x5855ec(0x187)](_0xeaee1c),_0x218bec[_0x5855ec(0x196)]=_0x2f13ab,await _0x218bec[_0x2fa4d5(0xa1)](_0x3d8777),_0x3d8777;}}function a0_0x1a34(){const _0x488ffd=['00:00:00','addOutputOptions','-vsync','join','1532944gqvRIB','@ffmpeg-installer/ffmpeg','load','toString','mimetype','https://github.com/DGXeon','exif','8EsgUua','3949677HlVfmV','3239324fiPjcd','concat','3057336FSaytf','2328004UrTZNT','node-webpmux','readFileSync','toFormat','error','2427410XuuCCH','3KYEgdp','crypto','unlinkSync','.webp','48CTORAK','879184KHiGGK','Image','-vf','stringify','libwebp','-preset','260723EFhkha','push','3192402BgrKkv','path','setFfmpegPath','util','packname','exports','test','save','10144XShgRf','writeFileSync','categories','1145554xXsPrV','7vUnXVc','.mp4','length','00:00:05','randomBytes','-ss','fluent-ffmpeg','utf8','from','-vcodec','260DKldgy','utf-8','readUIntLE','webp','-an','shift'];a0_0x1a34=function(){return _0x488ffd;};return a0_0x1a34();}async function writeExifVid(_0x3210b7,_0x21c6d5){const _0x4d3a39=a0_0x2590,_0x49ef1b=a0_0x25ad63;let _0x2f81c9=await videoToWebp(_0x3210b7);const _0x4370a1=path[_0x49ef1b(0x172)](tmpdir(),Crypto[_0x49ef1b(0x1aa)](0x6)[_0x49ef1b(0x1a0)](0x0,0x6)[_0x4d3a39(0x7e)](0x24)+_0x49ef1b(0x18c)),_0x2f9c2a=path[_0x49ef1b(0x172)](tmpdir(),Crypto[_0x49ef1b(0x1aa)](0x6)[_0x49ef1b(0x1a0)](0x0,0x6)[_0x49ef1b(0x19e)](0x24)+_0x49ef1b(0x18c));fs[_0x4d3a39(0xa3)](_0x4370a1,_0x2f81c9);if(_0x21c6d5[_0x49ef1b(0x19a)]||_0x21c6d5[_0x49ef1b(0x1a4)]){const _0x92f4d7=new webp[(_0x49ef1b(0x1a6))](),_0x3f986b={'sticker-pack-id':_0x49ef1b(0x1a1),'sticker-pack-name':_0x21c6d5[_0x49ef1b(0x19a)],'sticker-pack-publisher':_0x21c6d5[_0x49ef1b(0x1a4)],'emojis':_0x21c6d5[_0x49ef1b(0x177)]?_0x21c6d5[_0x49ef1b(0x177)]:['']},_0x4ca595=Buffer[_0x49ef1b(0x18f)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3a6be2=Buffer[_0x49ef1b(0x18f)](JSON[_0x49ef1b(0x17a)](_0x3f986b),_0x49ef1b(0x18e)),_0x350088=Buffer[_0x49ef1b(0x1ab)]([_0x4ca595,_0x3a6be2]);return _0x350088[_0x49ef1b(0x179)](_0x3a6be2[_0x49ef1b(0x1a7)],0xe,0x4),await _0x92f4d7[_0x49ef1b(0x195)](_0x4370a1),fs[_0x49ef1b(0x187)](_0x4370a1),_0x92f4d7[_0x49ef1b(0x196)]=_0x350088,await _0x92f4d7[_0x49ef1b(0x1a2)](_0x2f9c2a),_0x2f9c2a;}}async function writeExif(_0x51cc98,_0x291505){const _0x3b3523=a0_0x2590,_0x23b4a2=a0_0x25ad63;let _0x10801c=/webp/[_0x3b3523(0xa0)](_0x51cc98[_0x23b4a2(0x186)])?_0x51cc98[_0x23b4a2(0x174)]:/image/[_0x3b3523(0xa0)](_0x51cc98[_0x3b3523(0x7f)])?await imageToWebp(_0x51cc98['data']):/video/[_0x23b4a2(0x173)](_0x51cc98['mimetype'])?await videoToWebp(_0x51cc98[_0x23b4a2(0x174)]):'';const _0xce4c2c=path[_0x23b4a2(0x172)](tmpdir(),Crypto[_0x23b4a2(0x1aa)](0x6)[_0x23b4a2(0x1a0)](0x0,0x6)[_0x23b4a2(0x19e)](0x24)+_0x23b4a2(0x18c)),_0x5afb32=path[_0x23b4a2(0x172)](tmpdir(),Crypto[_0x23b4a2(0x1aa)](0x6)[_0x23b4a2(0x1a0)](0x0,0x6)[_0x3b3523(0x7e)](0x24)+'.webp');fs[_0x23b4a2(0x188)](_0xce4c2c,_0x10801c);if(_0x291505[_0x23b4a2(0x19a)]||_0x291505[_0x23b4a2(0x1a4)]){const _0x562a32=new webp['Image'](),_0x424b1c={'sticker-pack-id':_0x23b4a2(0x1a1),'sticker-pack-name':_0x291505[_0x23b4a2(0x19a)],'sticker-pack-publisher':_0x291505[_0x23b4a2(0x1a4)],'emojis':_0x291505[_0x23b4a2(0x177)]?_0x291505[_0x23b4a2(0x177)]:['']},_0x538d50=Buffer[_0x23b4a2(0x18f)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x955108=Buffer[_0x23b4a2(0x18f)](JSON[_0x3b3523(0x95)](_0x424b1c),_0x23b4a2(0x18e)),_0xe386c6=Buffer[_0x23b4a2(0x1ab)]([_0x538d50,_0x955108]);return _0xe386c6[_0x23b4a2(0x179)](_0x955108[_0x23b4a2(0x1a7)],0xe,0x4),await _0x562a32[_0x23b4a2(0x195)](_0xce4c2c),fs[_0x23b4a2(0x187)](_0xce4c2c),_0x562a32[_0x23b4a2(0x196)]=_0xe386c6,await _0x562a32[_0x23b4a2(0x1a2)](_0x5afb32),_0x5afb32;}}const {Image}=require(a0_0x25ad63(0x189)),{format}=require(a0_0x25ad63(0x19c));async function addExif(_0x546531,_0x3889f7,_0x47acd0,_0x28c7b3=[''],_0x3ba215={}){const _0x409e11=a0_0x25ad63,_0x48d7a6=new Image(),_0x2b136a={'sticker-pack-id':_0x409e11(0x192),'sticker-pack-name':_0x3889f7,'sticker-pack-publisher':_0x47acd0,'emojis':_0x28c7b3,'is-avatar-sticker':0x1,..._0x3ba215};let _0x46f0e8=Buffer[_0x409e11(0x18f)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x9edca4=Buffer[_0x409e11(0x18f)](JSON[_0x409e11(0x17a)](_0x2b136a),_0x409e11(0x17c)),_0x576ee1=Buffer[_0x409e11(0x1ab)]([_0x46f0e8,_0x9edca4]);return _0x576ee1[_0x409e11(0x179)](_0x9edca4[_0x409e11(0x1a7)],0xe,0x4),await _0x48d7a6['load'](_0x546531),_0x48d7a6[_0x409e11(0x196)]=_0x576ee1,await _0x48d7a6[_0x409e11(0x1a2)](null);}module[a0_0x4b65b6(0x9f)]={'addExif':addExif,'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};