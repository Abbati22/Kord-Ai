const a0_0x4e7b5e=a0_0x27cc;(function(_0x4a26d5,_0x223c4a){const _0x1f8a86=a0_0x27cc,_0x43957e=_0x4a26d5();while(!![]){try{const _0x45eb1d=-parseInt(_0x1f8a86(0x1c1))/0x1*(-parseInt(_0x1f8a86(0x1d9))/0x2)+-parseInt(_0x1f8a86(0x191))/0x3*(parseInt(_0x1f8a86(0x1bb))/0x4)+-parseInt(_0x1f8a86(0x18c))/0x5+-parseInt(_0x1f8a86(0x1b5))/0x6+parseInt(_0x1f8a86(0x185))/0x7+parseInt(_0x1f8a86(0x1ad))/0x8+parseInt(_0x1f8a86(0x1cb))/0x9*(parseInt(_0x1f8a86(0x1c3))/0xa);if(_0x45eb1d===_0x223c4a)break;else _0x43957e['push'](_0x43957e['shift']());}catch(_0x239f63){_0x43957e['push'](_0x43957e['shift']());}}}(a0_0x9ee7,0x36b12));const fs=require('fs')[a0_0x4e7b5e(0x16f)],fss=require('fs'),path=require(a0_0x4e7b5e(0x19f)),{default:makeWASocket,useMultiFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,makeInMemoryStore}=require(a0_0x4e7b5e(0x1de)),{Boom}=require(a0_0x4e7b5e(0x186)),pino=require(a0_0x4e7b5e(0x1bc)),NodeCache=require(a0_0x4e7b5e(0x169)),chalk=require(a0_0x4e7b5e(0x1b7)),axios=require(a0_0x4e7b5e(0x1c2)),{setupAntidelete}=require(a0_0x4e7b5e(0x17d)),antilinkCommand=require(a0_0x4e7b5e(0x1e8)),chatbotModule=require(a0_0x4e7b5e(0x1dc)),{kordMsg}=require(a0_0x4e7b5e(0x1b3)),{initializeKordEvents}=require(a0_0x4e7b5e(0x17f)),{loadCommands,getAllCommands}=require(a0_0x4e7b5e(0x174)),{againstEventManager}=require(a0_0x4e7b5e(0x188)),SQLiteMessageStore=require(a0_0x4e7b5e(0x182)),SESSION_DIR=path[a0_0x4e7b5e(0x175)](__dirname,'..',a0_0x4e7b5e(0x1f4)),STORE_FILE_PATH=path['join'](__dirname,'..',a0_0x4e7b5e(0x1d1)),LOGGER=pino({'level':process[a0_0x4e7b5e(0x181)][a0_0x4e7b5e(0x1a1)]||a0_0x4e7b5e(0x1d8)}),MSG_RETRY_CACHE=new NodeCache(),{initializeStore}=require(a0_0x4e7b5e(0x1f2));let versionn;((async()=>{const _0x1d0516=a0_0x4e7b5e;try{const _0x390ebc=path[_0x1d0516(0x175)](__dirname,'..','..','package.json'),_0x53ef95=JSON[_0x1d0516(0x1be)](await fs[_0x1d0516(0x1d4)](_0x390ebc,'utf-8'));versionn=_0x53ef95[_0x1d0516(0x173)];}catch(_0x1401f4){console[_0x1d0516(0x1e2)](_0x1d0516(0x184),_0x1401f4[_0x1d0516(0x194)]);}})());let messagesSent=0x0,heartbeatInterval,isRestarting=![];async function sendHeartbeat(){const _0x1405fc=a0_0x4e7b5e;try{const _0x5265ee=global[_0x1405fc(0x18b)][_0x1405fc(0x192)],_0x2f8d5c=await axios[_0x1405fc(0x177)](_0x1405fc(0x1dd),{'botId':_0x5265ee,'metadata':{'versionn':versionn,'messagesSent':messagesSent,'uptime':Math[_0x1405fc(0x1c5)](process[_0x1405fc(0x1a2)]()),'lastActive':new Date()[_0x1405fc(0x16d)]()}},{'headers':{'x-api-key':_0x1405fc(0x1db),'Content-Type':_0x1405fc(0x187)},'timeout':0x1388});if(_0x2f8d5c['data'][_0x1405fc(0x1ec)]===_0x1405fc(0x196)){}}catch(_0x24cd3f){if(_0x24cd3f['response']){const _0x444c4e=_0x24cd3f[_0x1405fc(0x18f)]['status'],_0x370bbd=_0x24cd3f['response'][_0x1405fc(0x1e7)]?.[_0x1405fc(0x194)]||'Unknown\x20error';switch(_0x444c4e){case 0x190:console[_0x1405fc(0x1e2)](_0x1405fc(0x183),_0x370bbd);break;case 0x191:console[_0x1405fc(0x1e2)](_0x1405fc(0x1f3));break;case 0x1f4:console['error'](_0x1405fc(0x1b2),_0x370bbd);break;default:console[_0x1405fc(0x1e2)]('Heartbeat\x20failed\x20('+_0x444c4e+'):',_0x370bbd);}}else _0x24cd3f[_0x1405fc(0x1ab)]?console[_0x1405fc(0x1e2)](_0x1405fc(0x17e)):console[_0x1405fc(0x1e2)](_0x1405fc(0x1ce),_0x24cd3f['message']);}}let heartbeatFailures=0x0;function a0_0x27cc(_0x341203,_0x410bd9){const _0x9ee730=a0_0x9ee7();return a0_0x27cc=function(_0x27cccf,_0x47d482){_0x27cccf=_0x27cccf-0x169;let _0x30d938=_0x9ee730[_0x27cccf];return _0x30d938;},a0_0x27cc(_0x341203,_0x410bd9);}const MAX_FAILURES=0x3,RETRY_DELAY=0x1388;async function startHeartbeat(){heartbeatInterval&&clearInterval(heartbeatInterval);heartbeatFailures=0x0;const _0x283c5d=async()=>{const _0x5b89e2=a0_0x27cc;try{await sendHeartbeat(),console['log'](chalk['green']('Initial\x20heartbeat\x20established')),heartbeatFailures=0x0;}catch(_0x22bdb0){heartbeatFailures++;if(heartbeatFailures<MAX_FAILURES){console[_0x5b89e2(0x1ea)](chalk[_0x5b89e2(0x1a3)](_0x5b89e2(0x19d)+heartbeatFailures+'/'+MAX_FAILURES+_0x5b89e2(0x16e))),setTimeout(_0x283c5d,RETRY_DELAY);return;}console[_0x5b89e2(0x1e2)](chalk[_0x5b89e2(0x1a4)](_0x5b89e2(0x1ef)));}};await _0x283c5d(),heartbeatInterval=setInterval(async()=>{const _0x1b88f2=a0_0x27cc;try{await sendHeartbeat(),heartbeatFailures=0x0;}catch(_0x2f66ac){heartbeatFailures++,heartbeatFailures>=MAX_FAILURES&&(console[_0x1b88f2(0x1e2)](chalk['red'](_0x1b88f2(0x1da))),await stopHeartbeat());}},0x5*0x3c*0x3e8);}async function getContactInfo(_0x2da39e,_0x4b2495){const _0x17643a=a0_0x4e7b5e;try{const [_0x1c692a]=await _0x2da39e[_0x17643a(0x190)](_0x4b2495);if(!_0x1c692a?.[_0x17643a(0x1d6)])return console[_0x17643a(0x1ea)]('Number\x20does\x20not\x20exist\x20on\x20WhatsApp'),null;const _0x31833d=await _0x2da39e[_0x17643a(0x180)](_0x4b2495);if(_0x31833d)return{'pushName':_0x31833d[_0x17643a(0x1cd)]||_0x31833d[_0x17643a(0x172)]||_0x31833d[_0x17643a(0x197)]||null,'name':_0x31833d['name']||null,'verifiedName':_0x31833d[_0x17643a(0x172)]||null,'status':_0x31833d[_0x17643a(0x1ec)]||null};try{const _0x1c5d78=await _0x2da39e[_0x17643a(0x1c7)](_0x4b2495);if(_0x1c5d78)return{'pushName':_0x1c5d78[_0x17643a(0x193)]||null,'name':_0x1c5d78[_0x17643a(0x193)]||null,'verifiedName':_0x1c5d78[_0x17643a(0x198)]?_0x1c5d78[_0x17643a(0x193)]:null,'status':_0x1c5d78[_0x17643a(0x1ac)]||null};}catch(_0x355f3b){}return null;}catch(_0x3007f8){return console[_0x17643a(0x1e2)](_0x17643a(0x1b8),_0x3007f8),null;}}async function stopHeartbeat(){const _0x2500f4=a0_0x4e7b5e;if(heartbeatInterval){clearInterval(heartbeatInterval),heartbeatInterval=null,console[_0x2500f4(0x1ea)](chalk[_0x2500f4(0x1a3)](_0x2500f4(0x1e0)));try{await axios[_0x2500f4(0x177)]('https://kordai-dash.vercel.app/api/status/heartbeat',{'botId':_0x2500f4(0x16b),'metadata':{'version':_0x2500f4(0x1e3),'messagesSent':messagesSent,'uptime':Math[_0x2500f4(0x1c5)](process['uptime']()),'lastActive':new Date()[_0x2500f4(0x16d)](),'status':_0x2500f4(0x1d5)}},{'headers':{'x-api-key':_0x2500f4(0x1db),'Content-Type':'application/json'}});}catch(_0x18595e){console[_0x2500f4(0x1e2)](chalk['red']('Failed\x20to\x20send\x20offline\x20status\x20update'));}}}async function getAuthState(){const _0x127560=a0_0x4e7b5e,_0x3ea31e=path[_0x127560(0x175)](SESSION_DIR,'creds.json');try{let _0x294cf3=global[_0x127560(0x18b)]['SESSION_ID'];if(_0x294cf3&&_0x294cf3!==''){if(_0x294cf3['startsWith'](_0x127560(0x1b1))){console[_0x127560(0x1ea)](chalk[_0x127560(0x19e)](_0x127560(0x1eb)));try{const _0x389fcb=_0x294cf3[_0x127560(0x1f1)](_0x127560(0x1b1),''),_0x375502=await axios['get'](_0x127560(0x1a7)+_0x389fcb+'?apikey=kordAi.key');if(_0x375502[_0x127560(0x1e7)][_0x127560(0x1ec)]===_0x127560(0x196)&&_0x375502[_0x127560(0x1e7)][_0x127560(0x1e7)]){!fss[_0x127560(0x1a0)](SESSION_DIR)&&fss[_0x127560(0x18d)](SESSION_DIR,{'recursive':!![]});const _0x582a79=JSON['stringify'](_0x375502['data'][_0x127560(0x1e7)],null,0x2);fss['writeFileSync'](_0x3ea31e,_0x582a79),console['log'](chalk[_0x127560(0x1b4)](_0x127560(0x1ca)));}else throw new Error(_0x127560(0x16a));}catch(_0x2f9dfa){console[_0x127560(0x1e2)](chalk[_0x127560(0x1a4)]('Error\x20fetching\x20credentials\x20from\x20source:',_0x2f9dfa[_0x127560(0x194)]));_0x2f9dfa[_0x127560(0x18f)]&&console[_0x127560(0x1e2)](chalk['red']('Source\x20Response:',_0x2f9dfa[_0x127560(0x18f)][_0x127560(0x1e7)]));throw new Error(_0x127560(0x17b));}}else{console['log'](chalk[_0x127560(0x19e)](_0x127560(0x1eb)));const _0xf8b56d=Buffer[_0x127560(0x19b)](_0x294cf3,_0x127560(0x1e6))[_0x127560(0x1b0)](_0x127560(0x1d2));fss[_0x127560(0x19a)](_0x3ea31e,_0xf8b56d);}}else{if(fss['existsSync'](_0x3ea31e)){const _0x2cf3df=fss['readFileSync'](_0x3ea31e,_0x127560(0x1d2)),_0x99250f=JSON[_0x127560(0x1be)](_0x2cf3df);console[_0x127560(0x1ea)](chalk[_0x127560(0x19e)]('creds.json\x20exists...')),_0x294cf3=_0x99250f;}else console[_0x127560(0x1ea)](chalk[_0x127560(0x1a3)]('No\x20SESSION_ID\x20in\x20config\x20or\x20creds.json\x20found.\x20Proceeding\x20to\x20pairing\x20code...'));}return console['log'](chalk['cyan']('Using\x20multi-file\x20auth\x20state.')),await useMultiFileAuthState(SESSION_DIR);}catch(_0x3c0a13){console[_0x127560(0x1e2)](chalk[_0x127560(0x1a4)]('Error\x20in\x20getAuthState:',_0x3c0a13));throw _0x3c0a13;}}async function restartBot(_0x4f70f6,_0x2c4d35){const _0x52b4e6=a0_0x4e7b5e;if(isRestarting)return;isRestarting=!![],console[_0x52b4e6(0x1ea)](chalk[_0x52b4e6(0x1a3)]('bot\x20restarting...'));try{console[_0x52b4e6(0x1ea)](chalk[_0x52b4e6(0x1b4)](_0x52b4e6(0x1bd))),setTimeout(async()=>{const _0x3c1c17=_0x52b4e6;try{isRestarting=![],await kordAi(_0x4f70f6,_0x2c4d35),console['log'](chalk[_0x3c1c17(0x1b4)](_0x3c1c17(0x1ae)));}catch(_0x246412){console[_0x3c1c17(0x1e2)](chalk['red']('Error\x20during\x20restart:',_0x246412)),setTimeout(()=>restartBot(_0x4f70f6,_0x2c4d35),0x7530);}},0x1388);}catch(_0x1a9596){console[_0x52b4e6(0x1e2)](chalk[_0x52b4e6(0x1a4)](_0x52b4e6(0x1c8),_0x1a9596)),isRestarting=![],setTimeout(()=>restartBot(_0x4f70f6,_0x2c4d35),0x7530);}}function a0_0x9ee7(){const _0x255793=['Bot\x20restarted\x20successfully','messageStubType','toString','kord_ai-','Server\x20error:','../Plugin/kordMsg','green','843540qoaZvf','Message\x20update\x20event\x20detected','chalk','Error\x20fetching\x20contact\x20info:','exports','execute','537504ieOoSa','pino','Restarting\x20bot\x20in\x205\x20seconds...','parse','update','Connected\x20successfully!\x20🎉','14911Bubxtw','axios','5260sCJLZu','creds','floor',',\x20isLatest:\x20','getBusinessProfile','Error\x20during\x20restart\x20preparation:','cyan','Successfully\x20fetched\x20and\x20saved\x20credentials','9081hdHbso','registered','notify','Error\x20sending\x20heartbeat:','Using\x20WA\x20v','\x20]\x0a╼\x20TOTAL\x20COMMANDS:\x20','store.json','utf-8','bind','readFile','offline','exists','SIGINT','silent','58fOpZAn','Multiple\x20heartbeat\x20failures\x20detected,\x20stopping\x20heartbeat\x20service','kordAi.key','../Commands/Bot/bot','https://kordai-dash.vercel.app/api/status/heartbeat','@whiskeysockets/baileys','OWNER_NUMBERS','Heartbeat\x20service\x20stopped','unhandledRejection','error','1.0.0','Error\x20in\x20kordAi:','Received\x20SIGINT.\x20Initiating\x20restart\x20procedure...','base64','data','../Commands/Bot/antilink','close','log','fetching\x20creds\x20using\x20session\x20id','status','remoteJid','messages.upsert','Failed\x20to\x20establish\x20initial\x20heartbeat','messages.update','replace','../Plugin/stinit','Check\x20API\x20key!!','Session','node-cache','Invalid\x20or\x20missing\x20data\x20in\x20source\x20response','kordai-test','Error\x20in\x20antidelete\x20execution:','toISOString',')...','promises','\x0a╼\x20PREFIX:\x20[\x20','Connection\x20closed\x20due\x20to:','verifiedName','version','../Plugin/kordLoadCmd','join','open','post','init','get','clearOldMessages','Failed\x20to\x20fetch\x20credentials\x20from\x20Source','authState','../Antidelete','No\x20response\x20from\x20server','../Plugin/kordEvent','contactQuery','env','../Plugin/SQLitedb','Invalid\x20heartbeat\x20data:','Error\x20reading\x20package.json:','572250XhniYE','@hapi/boom','application/json','../Plugin/kordEventHandle','json','connection.update','settings','1936835qgyqet','mkdirSync','output','response','onWhatsApp','9ztnfOe','OWNER_NAME','displayName','message','initialize','success','name','verified','/messagestotal','writeFileSync','from','messages','Retrying\x20initial\x20heartbeat\x20(','blue','path','existsSync','LOG_LEVEL','uptime','yellow','red','\x0a╼\x20VERSION:\x20','loggedOut','https://kordai-dash.vercel.app/api/files/fetch/','statusCode','\x0a```\x0a>\x20©\x20ɪɴᴛᴇʟʟɪɢᴇɴᴄᴇ\x20ʙʏ\x20ᴋᴏʀᴅ\x20ɪɴᴄ³²¹™','requestPairingCode','request','description','881600MoPaLw'];a0_0x9ee7=function(){return _0x255793;};return a0_0x9ee7();}async function kordAi(_0x45cbc0,_0x10e74a){const _0x365c87=a0_0x4e7b5e;try{await loadCommands(path[_0x365c87(0x175)](__dirname,'..','Commands'));const _0x58a566=getAllCommands();await initializeStore(),_0x10e74a[_0x365c87(0x179)](_0x365c87(0x199),(_0x49b95d,_0x52ac2b)=>{const _0x933b0f=_0x365c87;_0x52ac2b[_0x933b0f(0x189)]({'messageTotal':messagesSent});});const _0x1d0365=new SQLiteMessageStore(LOGGER);await _0x1d0365[_0x365c87(0x195)](),setInterval(()=>_0x1d0365[_0x365c87(0x17a)](0x1),0x18*0x3c*0x3c*0x3e8);const {state:_0x535574,saveCreds:_0x2ce60e}=await getAuthState(),{version:_0x1d8a2c,isLatest:_0x5ad010}=await fetchLatestBaileysVersion();console[_0x365c87(0x1ea)](chalk[_0x365c87(0x1c9)](_0x365c87(0x1cf)+_0x1d8a2c[_0x365c87(0x175)]('.')+_0x365c87(0x1c6)+_0x5ad010));const _0x2bc632=makeWASocket({'version':_0x1d8a2c,'auth':{'creds':_0x535574['creds'],'keys':makeCacheableSignalKeyStore(_0x535574['keys'],LOGGER)},'printQRInTerminal':![],'logger':LOGGER,'msgRetryCounterCache':MSG_RETRY_CACHE,'generateHighQualityLinkPreview':!![],'defaultQueryTimeoutMs':undefined,'getMessage':async _0x36850f=>{const _0x4bf456=_0x365c87,_0x1274dc=await _0x1d0365['loadMessage'](_0x36850f[_0x4bf456(0x1ed)],_0x36850f['id']);return _0x1274dc?.[_0x4bf456(0x194)]||undefined;}});await _0x1d0365[_0x365c87(0x1d3)](_0x2bc632['ev']),await againstEventManager[_0x365c87(0x178)](_0x2bc632),initializeKordEvents(_0x2bc632),_0x2bc632['ev']['on']('creds.update',_0x2ce60e),_0x2bc632['ev']['on'](_0x365c87(0x1ee),async _0x14701a=>{const _0x210726=_0x365c87,_0x5b4c93=_0x14701a[_0x210726(0x19c)][0x0];_0x5b4c93&&(messagesSent++,await kordMsg(_0x2bc632,_0x5b4c93));}),_0x2bc632['ev']['on'](_0x365c87(0x1f0),async _0x592267=>{const _0x4223bb=_0x365c87;console['log'](chalk[_0x4223bb(0x1a3)](_0x4223bb(0x1b6)));try{const _0x1582b3=await setupAntidelete(_0x2bc632,_0x1d0365);for(const _0x481dc2 of _0x592267){(_0x481dc2[_0x4223bb(0x1bf)][_0x4223bb(0x194)]===null||_0x481dc2[_0x4223bb(0x1bf)][_0x4223bb(0x1af)]===0x2)&&await _0x1582b3[_0x4223bb(0x1ba)](_0x2bc632,_0x481dc2,{'store':_0x1d0365});}}catch(_0x18f01f){console[_0x4223bb(0x1e2)](chalk[_0x4223bb(0x1a4)](_0x4223bb(0x16c),_0x18f01f));}}),_0x2bc632['ev']['on'](_0x365c87(0x18a),async _0x579bba=>{const _0x28e744=_0x365c87,{connection:_0x48a8dd,lastDisconnect:_0x3f59f2}=_0x579bba;if(_0x48a8dd===_0x28e744(0x176)){console['log'](chalk[_0x28e744(0x1b4)](_0x28e744(0x1c0))),chatbotModule[_0x28e744(0x178)](_0x2bc632),antilinkCommand[_0x28e744(0x178)](_0x2bc632);const _0x4a1b7d='```\x0a【\x20KORD-AI\x20INTEGRATED!🚀\x20】\x20\x0a╼\x20OWNER:\x20'+global[_0x28e744(0x18b)][_0x28e744(0x192)]+_0x28e744(0x1a5)+versionn+_0x28e744(0x170)+settings['PREFIX'][0x0]+_0x28e744(0x1d0)+_0x58a566['length']+_0x28e744(0x1a9);await _0x2bc632['sendMessage'](_0x2bc632['user']['id'],{'text':''+_0x4a1b7d,'mentions':[_0x2bc632['user']['id']]}),await startHeartbeat();}if(_0x48a8dd===_0x28e744(0x1e9)){await stopHeartbeat();const _0x84cf8d=new Boom(_0x3f59f2?.[_0x28e744(0x1e2)])?.[_0x28e744(0x18e)]?.[_0x28e744(0x1a8)]!==DisconnectReason[_0x28e744(0x1a6)];console[_0x28e744(0x1ea)](chalk[_0x28e744(0x1a3)](_0x28e744(0x171),_0x3f59f2?.[_0x28e744(0x1e2)],'Reconnecting:',_0x84cf8d)),_0x84cf8d&&setTimeout(()=>restartBot(_0x45cbc0,_0x10e74a),0x1388);}});if(!_0x2bc632[_0x365c87(0x17c)][_0x365c87(0x1c4)][_0x365c87(0x1cc)]){const _0x3d7be4=global[_0x365c87(0x18b)][_0x365c87(0x1df)],_0x54ede1=await _0x2bc632[_0x365c87(0x1aa)](_0x3d7be4);console[_0x365c87(0x1ea)](chalk['blue']('Pairing\x20Code\x20for\x20'+_0x3d7be4+':\x20'+_0x54ede1));}process['on'](_0x365c87(0x1d7),async()=>{const _0x122e70=_0x365c87;console[_0x122e70(0x1ea)](chalk[_0x122e70(0x1a3)](_0x122e70(0x1e5))),await restartBot(_0x45cbc0,_0x10e74a);}),process['on']('uncaughtException',async _0x20b6a1=>{const _0x2c6ea6=_0x365c87;console[_0x2c6ea6(0x1e2)](chalk[_0x2c6ea6(0x1a4)]('Uncaught\x20Exception:',_0x20b6a1)),await restartBot(_0x45cbc0,_0x10e74a);}),process['on'](_0x365c87(0x1e1),async(_0x1d4757,_0x32201c)=>{const _0x14a8da=_0x365c87;console[_0x14a8da(0x1e2)](chalk[_0x14a8da(0x1a4)]('Unhandled\x20Rejection\x20at:',_0x32201c,'reason:',_0x1d4757)),await restartBot(_0x45cbc0,_0x10e74a);});}catch(_0x3c6862){console[_0x365c87(0x1e2)](chalk[_0x365c87(0x1a4)](_0x365c87(0x1e4),_0x3c6862)),setTimeout(()=>restartBot(_0x45cbc0,_0x10e74a),0x1388);}}module[a0_0x4e7b5e(0x1b9)]={'kordAi':kordAi};