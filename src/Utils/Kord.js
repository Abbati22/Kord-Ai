const a0_0x2a8b4c=a0_0x42f7;function a0_0x42f7(_0xd90a6f,_0x33bf4d){const _0xfbe3d=a0_0xfbe3();return a0_0x42f7=function(_0x42f7dc,_0x1b2589){_0x42f7dc=_0x42f7dc-0x19d;let _0x4f5bb7=_0xfbe3d[_0x42f7dc];return _0x4f5bb7;},a0_0x42f7(_0xd90a6f,_0x33bf4d);}(function(_0x316ca0,_0x44b2b9){const _0x3a3120=a0_0x42f7,_0x54848b=_0x316ca0();while(!![]){try{const _0x3e0883=parseInt(_0x3a3120(0x1f3))/0x1*(-parseInt(_0x3a3120(0x1ea))/0x2)+-parseInt(_0x3a3120(0x1d0))/0x3*(parseInt(_0x3a3120(0x1f9))/0x4)+-parseInt(_0x3a3120(0x1ae))/0x5*(parseInt(_0x3a3120(0x1cd))/0x6)+-parseInt(_0x3a3120(0x220))/0x7+-parseInt(_0x3a3120(0x1e0))/0x8*(parseInt(_0x3a3120(0x1ff))/0x9)+parseInt(_0x3a3120(0x1ef))/0xa+-parseInt(_0x3a3120(0x1ab))/0xb*(-parseInt(_0x3a3120(0x1bc))/0xc);if(_0x3e0883===_0x44b2b9)break;else _0x54848b['push'](_0x54848b['shift']());}catch(_0x4c2fdb){_0x54848b['push'](_0x54848b['shift']());}}}(a0_0xfbe3,0xe1559));const fs=require('fs')[a0_0x2a8b4c(0x1a1)],fss=require('fs'),path=require(a0_0x2a8b4c(0x1ac)),{default:makeWASocket,useMultiFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,makeInMemoryStore}=require(a0_0x2a8b4c(0x203)),{Boom}=require('@hapi/boom'),pino=require(a0_0x2a8b4c(0x211)),NodeCache=require(a0_0x2a8b4c(0x1af)),chalk=require(a0_0x2a8b4c(0x1c3)),axios=require(a0_0x2a8b4c(0x20d)),{setupAntidelete}=require(a0_0x2a8b4c(0x1cc)),antilinkCommand=require(a0_0x2a8b4c(0x1c0)),chatbotModule=require(a0_0x2a8b4c(0x1d3)),{kordMsg}=require('../Plugin/kordMsg'),{initializeKordEvents}=require(a0_0x2a8b4c(0x1dc)),{loadCommands,getAllCommands}=require('../Plugin/kordLoadCmd'),{againstEventManager}=require(a0_0x2a8b4c(0x1ec)),SQLiteMessageStore=require(a0_0x2a8b4c(0x1ba)),SESSION_DIR=path['join'](__dirname,'..',a0_0x2a8b4c(0x1e4)),STORE_FILE_PATH=path[a0_0x2a8b4c(0x1d4)](__dirname,'..',a0_0x2a8b4c(0x1e6)),LOGGER=pino({'level':process[a0_0x2a8b4c(0x208)]['LOG_LEVEL']||a0_0x2a8b4c(0x219)}),MSG_RETRY_CACHE=new NodeCache();function a0_0xfbe3(){const _0x513b08=['from','Heartbeat\x20failed\x20(','output','uncaughtException','env','close','Connection\x20closed\x20due\x20to:','error','log','axios','cyan','Error\x20reading\x20package.json:','?apikey=kordAi.key','pino','open','Heartbeat\x20service\x20stopped','response','Failed\x20to\x20establish\x20initial\x20heartbeat','authState','message','Received\x20SIGINT.\x20Initiating\x20restart\x20procedure...','silent','SIGINT','Multiple\x20heartbeat\x20failures\x20detected,\x20stopping\x20heartbeat\x20service','Error\x20during\x20restart:','application/json','Commands','bind','2506574WFGWdz','floor','Error\x20sending\x20heartbeat:','Reconnecting:','Retrying\x20initial\x20heartbeat\x20(','Using\x20WA\x20v','readFileSync','Error\x20in\x20kordAi:','messageStubType','writeFileSync','Message\x20update\x20event\x20detected','promises','remoteJid','Server\x20error:','https://kordai-dash.vercel.app/api/files/fetch/','creds.json','Failed\x20to\x20send\x20offline\x20status\x20update','data','messages.upsert','Invalid\x20heartbeat\x20data:','base64','44PKqcEa','path','Unhandled\x20Rejection\x20at:','1701605TjkMui','node-cache','fetching\x20creds\x20using\x20session\x20id','Restarting\x20bot\x20in\x205\x20seconds...','init','get','messages','creds.json\x20exists...','yellow','replace','stringify','Failed\x20to\x20fetch\x20credentials\x20from\x20Source','../Plugin/SQLitedb','package.json','21207972BRoANS','statusCode','execute','exports','../Commands/Bot/antilink','request','No\x20response\x20from\x20server','chalk','clearOldMessages','\x20]\x0a╼\x20TOTAL\x20COMMANDS:\x20','OWNER_NAME','Successfully\x20fetched\x20and\x20saved\x20credentials','unhandledRejection','Error\x20in\x20getAuthState:','red','creds','../Antidelete','30HEjQGF','readFile','existsSync','5231217VwhVOW','parse','offline','../Commands/Bot/bot','join','mkdirSync','green','creds.update','https://kordai-dash.vercel.app/api/status/heartbeat','update','bot\x20restarting...','```\x0a【\x20KORD-AI\x20INTEGRATED!🚀\x20】\x20\x0a╼\x20OWNER:\x20','../Plugin/kordEvent',',\x20isLatest:\x20','startsWith','success','1215456tdmVzj','Uncaught\x20Exception:','SESSION_ID','kordai-test','Session','Error\x20during\x20restart\x20preparation:','store.json','kord_ai-','user','reason:','109878Ublscp','Initial\x20heartbeat\x20established','../Plugin/kordEventHandle','status','json','11833640XNGYxj','Unknown\x20error','settings','Connected\x20successfully!\x20🎉','31GqQZrW','Source\x20Response:','1.0.0','loggedOut','Pairing\x20Code\x20for\x20','toISOString','4scLUos','Error\x20in\x20antidelete\x20execution:','utf-8','OWNER_NUMBERS','uptime','No\x20SESSION_ID\x20in\x20config\x20or\x20creds.json\x20found.\x20Proceeding\x20to\x20pairing\x20code...','108DntxYB','loadMessage','post','blue','@whiskeysockets/baileys'];a0_0xfbe3=function(){return _0x513b08;};return a0_0xfbe3();}let versionn;((async()=>{const _0x3c71cd=a0_0x2a8b4c;try{const _0x37175c=path[_0x3c71cd(0x1d4)](__dirname,'..','..',_0x3c71cd(0x1bb)),_0x51d772=JSON['parse'](await fs[_0x3c71cd(0x1ce)](_0x37175c,_0x3c71cd(0x1fb)));versionn=_0x51d772['version'];}catch(_0xcaa0cb){console[_0x3c71cd(0x20b)](_0x3c71cd(0x20f),_0xcaa0cb['message']);}})());let messagesSent=0x0,heartbeatInterval,isRestarting=![];async function sendHeartbeat(){const _0x4cabc1=a0_0x2a8b4c;try{const _0x298103=global[_0x4cabc1(0x1f1)][_0x4cabc1(0x1c6)],_0x5371b6=await axios[_0x4cabc1(0x201)](_0x4cabc1(0x1d8),{'botId':_0x298103,'metadata':{'versionn':versionn,'messagesSent':messagesSent,'uptime':Math['floor'](process['uptime']()),'lastActive':new Date()['toISOString']()}},{'headers':{'x-api-key':'kordAi.key','Content-Type':_0x4cabc1(0x21d)},'timeout':0x1388});if(_0x5371b6[_0x4cabc1(0x1a7)][_0x4cabc1(0x1ed)]===_0x4cabc1(0x1df)){}}catch(_0x30fb11){if(_0x30fb11[_0x4cabc1(0x214)]){const _0x32aecb=_0x30fb11[_0x4cabc1(0x214)][_0x4cabc1(0x1ed)],_0x57f5c9=_0x30fb11[_0x4cabc1(0x214)]['data']?.[_0x4cabc1(0x217)]||_0x4cabc1(0x1f0);switch(_0x32aecb){case 0x190:console[_0x4cabc1(0x20b)](_0x4cabc1(0x1a9),_0x57f5c9);break;case 0x191:console[_0x4cabc1(0x20b)]('Check\x20API\x20key!!');break;case 0x1f4:console['error'](_0x4cabc1(0x1a3),_0x57f5c9);break;default:console['error'](_0x4cabc1(0x205)+_0x32aecb+'):',_0x57f5c9);}}else _0x30fb11[_0x4cabc1(0x1c1)]?console[_0x4cabc1(0x20b)](_0x4cabc1(0x1c2)):console[_0x4cabc1(0x20b)](_0x4cabc1(0x222),_0x30fb11['message']);}}let heartbeatFailures=0x0;const MAX_FAILURES=0x3,RETRY_DELAY=0x1388;async function startHeartbeat(){heartbeatInterval&&clearInterval(heartbeatInterval);heartbeatFailures=0x0;const _0x509adf=async()=>{const _0x540aa2=a0_0x42f7;try{await sendHeartbeat(),console[_0x540aa2(0x20c)](chalk[_0x540aa2(0x1d6)](_0x540aa2(0x1eb))),heartbeatFailures=0x0;}catch(_0x15e94d){heartbeatFailures++;if(heartbeatFailures<MAX_FAILURES){console[_0x540aa2(0x20c)](chalk[_0x540aa2(0x1b6)](_0x540aa2(0x224)+heartbeatFailures+'/'+MAX_FAILURES+')...')),setTimeout(_0x509adf,RETRY_DELAY);return;}console[_0x540aa2(0x20b)](chalk[_0x540aa2(0x1ca)](_0x540aa2(0x215)));}};await _0x509adf(),heartbeatInterval=setInterval(async()=>{const _0x1804c7=a0_0x42f7;try{await sendHeartbeat(),heartbeatFailures=0x0;}catch(_0x2e1b4b){heartbeatFailures++,heartbeatFailures>=MAX_FAILURES&&(console[_0x1804c7(0x20b)](chalk[_0x1804c7(0x1ca)](_0x1804c7(0x21b))),await stopHeartbeat());}},0x5*0x3c*0x3e8);}async function stopHeartbeat(){const _0x491e42=a0_0x2a8b4c;if(heartbeatInterval){clearInterval(heartbeatInterval),heartbeatInterval=null,console[_0x491e42(0x20c)](chalk[_0x491e42(0x1b6)](_0x491e42(0x213)));try{await axios[_0x491e42(0x201)]('https://kordai-dash.vercel.app/api/status/heartbeat',{'botId':_0x491e42(0x1e3),'metadata':{'version':_0x491e42(0x1f5),'messagesSent':messagesSent,'uptime':Math[_0x491e42(0x221)](process[_0x491e42(0x1fd)]()),'lastActive':new Date()[_0x491e42(0x1f8)](),'status':_0x491e42(0x1d2)}},{'headers':{'x-api-key':'kordAi.key','Content-Type':_0x491e42(0x21d)}});}catch(_0x102290){console[_0x491e42(0x20b)](chalk['red'](_0x491e42(0x1a6)));}}}async function getAuthState(){const _0x30768d=a0_0x2a8b4c,_0x2cbe8c=path[_0x30768d(0x1d4)](SESSION_DIR,_0x30768d(0x1a5));try{let _0x3c6fa1=global[_0x30768d(0x1f1)][_0x30768d(0x1e2)];if(_0x3c6fa1&&_0x3c6fa1!==''){if(_0x3c6fa1[_0x30768d(0x1de)](_0x30768d(0x1e7))){console[_0x30768d(0x20c)](chalk[_0x30768d(0x202)]('fetching\x20creds\x20using\x20session\x20id'));try{const _0x4c0176=_0x3c6fa1[_0x30768d(0x1b7)]('kord_ai-',''),_0x191382=await axios['get'](_0x30768d(0x1a4)+_0x4c0176+_0x30768d(0x210));if(_0x191382[_0x30768d(0x1a7)][_0x30768d(0x1ed)]===_0x30768d(0x1df)&&_0x191382[_0x30768d(0x1a7)][_0x30768d(0x1a7)]){!fss[_0x30768d(0x1cf)](SESSION_DIR)&&fss[_0x30768d(0x1d5)](SESSION_DIR,{'recursive':!![]});const _0x2e2506=JSON[_0x30768d(0x1b8)](_0x191382[_0x30768d(0x1a7)][_0x30768d(0x1a7)],null,0x2);fss[_0x30768d(0x19f)](_0x2cbe8c,_0x2e2506),console[_0x30768d(0x20c)](chalk[_0x30768d(0x1d6)](_0x30768d(0x1c7)));}else throw new Error('Invalid\x20or\x20missing\x20data\x20in\x20source\x20response');}catch(_0x5107a0){console[_0x30768d(0x20b)](chalk[_0x30768d(0x1ca)]('Error\x20fetching\x20credentials\x20from\x20source:',_0x5107a0[_0x30768d(0x217)]));_0x5107a0[_0x30768d(0x214)]&&console[_0x30768d(0x20b)](chalk[_0x30768d(0x1ca)](_0x30768d(0x1f4),_0x5107a0['response'][_0x30768d(0x1a7)]));throw new Error(_0x30768d(0x1b9));}}else{console['log'](chalk[_0x30768d(0x202)](_0x30768d(0x1b0)));const _0x4cf2e8=Buffer[_0x30768d(0x204)](_0x3c6fa1,_0x30768d(0x1aa))['toString']('utf-8');fss['writeFileSync'](_0x2cbe8c,_0x4cf2e8);}}else{if(fss[_0x30768d(0x1cf)](_0x2cbe8c)){const _0x4d1e68=fss[_0x30768d(0x226)](_0x2cbe8c,_0x30768d(0x1fb)),_0x47cdd4=JSON[_0x30768d(0x1d1)](_0x4d1e68);console[_0x30768d(0x20c)](chalk[_0x30768d(0x202)](_0x30768d(0x1b5))),_0x3c6fa1=_0x47cdd4;}else console['log'](chalk[_0x30768d(0x1b6)](_0x30768d(0x1fe)));}return console['log'](chalk[_0x30768d(0x20e)]('Using\x20multi-file\x20auth\x20state.')),await useMultiFileAuthState(SESSION_DIR);}catch(_0x452108){console[_0x30768d(0x20b)](chalk[_0x30768d(0x1ca)](_0x30768d(0x1c9),_0x452108));throw _0x452108;}}async function restartBot(_0x2586d4,_0x3f3692){const _0x24655f=a0_0x2a8b4c;if(isRestarting)return;isRestarting=!![],console[_0x24655f(0x20c)](chalk[_0x24655f(0x1b6)](_0x24655f(0x1da)));try{console['log'](chalk[_0x24655f(0x1d6)](_0x24655f(0x1b1))),setTimeout(async()=>{const _0x53afab=_0x24655f;try{isRestarting=![],await kordAi(_0x2586d4,_0x3f3692),console['log'](chalk['green']('Bot\x20restarted\x20successfully'));}catch(_0x247f23){console['error'](chalk[_0x53afab(0x1ca)](_0x53afab(0x21c),_0x247f23)),setTimeout(()=>restartBot(_0x2586d4,_0x3f3692),0x7530);}},0x1388);}catch(_0x47c69b){console[_0x24655f(0x20b)](chalk[_0x24655f(0x1ca)](_0x24655f(0x1e5),_0x47c69b)),isRestarting=![],setTimeout(()=>restartBot(_0x2586d4,_0x3f3692),0x7530);}}async function kordAi(_0x40b891,_0x24c84c){const _0x41af7e=a0_0x2a8b4c;try{await loadCommands(path[_0x41af7e(0x1d4)](__dirname,'..',_0x41af7e(0x21e)));const _0x39024b=getAllCommands();_0x24c84c[_0x41af7e(0x1b3)]('/messagestotal',(_0x3ce08b,_0x1bee8f)=>{const _0xc441bf=_0x41af7e;_0x1bee8f[_0xc441bf(0x1ee)]({'messageTotal':messagesSent});});const _0x31c515=new SQLiteMessageStore(LOGGER);await _0x31c515['initialize'](),setInterval(()=>_0x31c515[_0x41af7e(0x1c4)](0x1),0x18*0x3c*0x3c*0x3e8);const {state:_0x44f3e3,saveCreds:_0x121735}=await getAuthState(),{version:_0x375dde,isLatest:_0x4f3060}=await fetchLatestBaileysVersion();console[_0x41af7e(0x20c)](chalk['cyan'](_0x41af7e(0x225)+_0x375dde['join']('.')+_0x41af7e(0x1dd)+_0x4f3060));const _0x219097=makeWASocket({'version':_0x375dde,'auth':{'creds':_0x44f3e3[_0x41af7e(0x1cb)],'keys':makeCacheableSignalKeyStore(_0x44f3e3['keys'],LOGGER)},'printQRInTerminal':![],'logger':LOGGER,'msgRetryCounterCache':MSG_RETRY_CACHE,'generateHighQualityLinkPreview':!![],'defaultQueryTimeoutMs':undefined,'getMessage':async _0x19a094=>{const _0x5299ff=_0x41af7e,_0x7bec35=await _0x31c515[_0x5299ff(0x200)](_0x19a094[_0x5299ff(0x1a2)],_0x19a094['id']);return _0x7bec35?.[_0x5299ff(0x217)]||undefined;}});await _0x31c515[_0x41af7e(0x21f)](_0x219097['ev']),await againstEventManager[_0x41af7e(0x1b2)](_0x219097),initializeKordEvents(_0x219097),_0x219097['ev']['on'](_0x41af7e(0x1d7),_0x121735),_0x219097['ev']['on'](_0x41af7e(0x1a8),async _0xf10ad5=>{const _0x40603f=_0x41af7e,_0xa1b59b=_0xf10ad5[_0x40603f(0x1b4)][0x0];_0xa1b59b&&(messagesSent++,await kordMsg(_0x219097,_0xa1b59b));}),_0x219097['ev']['on']('messages.update',async _0xc5b89a=>{const _0x4a23bc=_0x41af7e;console[_0x4a23bc(0x20c)](chalk['yellow'](_0x4a23bc(0x1a0)));try{const _0x4167c5=await setupAntidelete(_0x219097,_0x31c515);for(const _0x24580e of _0xc5b89a){(_0x24580e['update']['message']===null||_0x24580e[_0x4a23bc(0x1d9)][_0x4a23bc(0x19e)]===0x2)&&await _0x4167c5[_0x4a23bc(0x1be)](_0x219097,_0x24580e,{'store':_0x31c515});}}catch(_0x3c5b38){console[_0x4a23bc(0x20b)](chalk[_0x4a23bc(0x1ca)](_0x4a23bc(0x1fa),_0x3c5b38));}}),_0x219097['ev']['on']('connection.update',async _0x125f98=>{const _0x34acab=_0x41af7e,{connection:_0x345c11,lastDisconnect:_0x470a87}=_0x125f98;if(_0x345c11===_0x34acab(0x212)){console[_0x34acab(0x20c)](chalk[_0x34acab(0x1d6)](_0x34acab(0x1f2))),chatbotModule[_0x34acab(0x1b2)](_0x219097),antilinkCommand['init'](_0x219097);const _0x331e28=_0x34acab(0x1db)+global[_0x34acab(0x1f1)]['OWNER_NAME']+'\x0a╼\x20VERSION:\x20'+versionn+'\x0a╼\x20PREFIX:\x20[\x20'+settings['PREFIX'][0x0]+_0x34acab(0x1c5)+_0x39024b['length']+'\x0a```\x0a>\x20©\x20ɪɴᴛᴇʟʟɪɢᴇɴᴄᴇ\x20ʙʏ\x20ᴋᴏʀᴅ\x20ɪɴᴄ³²¹™';await _0x219097['sendMessage'](_0x219097['user']['id'],{'text':''+_0x331e28,'mentions':[_0x219097[_0x34acab(0x1e8)]['id']]}),await startHeartbeat();if(!_0x219097[_0x34acab(0x216)][_0x34acab(0x1cb)]['registered']){const _0x1619ec=global['settings'][_0x34acab(0x1fc)],_0x566158=await _0x219097['requestPairingCode'](_0x1619ec);console[_0x34acab(0x20c)](chalk[_0x34acab(0x202)](_0x34acab(0x1f7)+_0x1619ec+':\x20'+_0x566158));}}if(_0x345c11===_0x34acab(0x209)){await stopHeartbeat();const _0x35c511=new Boom(_0x470a87?.[_0x34acab(0x20b)])?.[_0x34acab(0x206)]?.[_0x34acab(0x1bd)]!==DisconnectReason[_0x34acab(0x1f6)];console['log'](chalk['yellow'](_0x34acab(0x20a),_0x470a87?.[_0x34acab(0x20b)],_0x34acab(0x223),_0x35c511)),_0x35c511&&setTimeout(()=>restartBot(_0x40b891,_0x24c84c),0x1388);}}),process['on'](_0x41af7e(0x21a),async()=>{const _0x501c7f=_0x41af7e;console[_0x501c7f(0x20c)](chalk[_0x501c7f(0x1b6)](_0x501c7f(0x218))),await restartBot(_0x40b891,_0x24c84c);}),process['on'](_0x41af7e(0x207),async _0x554b77=>{const _0x2f79dd=_0x41af7e;console[_0x2f79dd(0x20b)](chalk['red'](_0x2f79dd(0x1e1),_0x554b77)),await restartBot(_0x40b891,_0x24c84c);}),process['on'](_0x41af7e(0x1c8),async(_0x164dda,_0x9703b3)=>{const _0x4497f8=_0x41af7e;console[_0x4497f8(0x20b)](chalk['red'](_0x4497f8(0x1ad),_0x9703b3,_0x4497f8(0x1e9),_0x164dda)),await restartBot(_0x40b891,_0x24c84c);});}catch(_0x2d47d9){console[_0x41af7e(0x20b)](chalk['red'](_0x41af7e(0x19d),_0x2d47d9)),setTimeout(()=>restartBot(_0x40b891,_0x24c84c),0x1388);}}module[a0_0x2a8b4c(0x1bf)]={'kordAi':kordAi};