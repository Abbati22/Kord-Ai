const a0_0x45a3af=a0_0x3200;(function(_0x23edce,_0x58847e){const _0x1391b0=a0_0x3200,_0x3c9ad3=_0x23edce();while(!![]){try{const _0x44b464=parseInt(_0x1391b0(0x1de))/0x1*(-parseInt(_0x1391b0(0x201))/0x2)+parseInt(_0x1391b0(0x1cb))/0x3*(parseInt(_0x1391b0(0x1da))/0x4)+-parseInt(_0x1391b0(0x1c0))/0x5*(parseInt(_0x1391b0(0x1f1))/0x6)+-parseInt(_0x1391b0(0x1c5))/0x7+-parseInt(_0x1391b0(0x1ff))/0x8*(parseInt(_0x1391b0(0x203))/0x9)+-parseInt(_0x1391b0(0x1f9))/0xa+parseInt(_0x1391b0(0x1ef))/0xb;if(_0x44b464===_0x58847e)break;else _0x3c9ad3['push'](_0x3c9ad3['shift']());}catch(_0x5c15ea){_0x3c9ad3['push'](_0x3c9ad3['shift']());}}}(a0_0xd0e3,0xc4de0));const fs=require('fs')[a0_0x45a3af(0x1d7)],fss=require('fs'),path=require(a0_0x45a3af(0x1bc)),{default:makeWASocket,useMultiFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,makeInMemoryStore}=require(a0_0x45a3af(0x1f0)),{Boom}=require(a0_0x45a3af(0x1c4)),pino=require(a0_0x45a3af(0x1bf)),NodeCache=require(a0_0x45a3af(0x1d2)),chalk=require(a0_0x45a3af(0x1b7)),axios=require('axios'),{setupAntidelete}=require('../Antidelete'),antilinkCommand=require('../Commands/Bot/antilink'),chatbotModule=require(a0_0x45a3af(0x1b4)),{kordMsg}=require(a0_0x45a3af(0x1d6)),{initializeKordEvents}=require('../Plugin/kordEvent'),{loadCommands,getAllCommands}=require(a0_0x45a3af(0x1a4)),{againstEventManager}=require(a0_0x45a3af(0x200)),SQLiteMessageStore=require(a0_0x45a3af(0x19f)),SESSION_DIR=path[a0_0x45a3af(0x1c7)](__dirname,'..','Session'),STORE_FILE_PATH=path[a0_0x45a3af(0x1c7)](__dirname,'..','store.json'),LOGGER=pino({'level':process[a0_0x45a3af(0x18b)][a0_0x45a3af(0x1e8)]||a0_0x45a3af(0x1e2)}),MSG_RETRY_CACHE=new NodeCache();let versionn;((async()=>{const _0x5a78f9=a0_0x45a3af;try{const _0xf9592e=path['join'](__dirname,'..','..',_0x5a78f9(0x1ba)),_0x13241d=JSON['parse'](await fs[_0x5a78f9(0x1c3)](_0xf9592e,_0x5a78f9(0x19a)));versionn=_0x13241d[_0x5a78f9(0x1ab)];}catch(_0x460351){console[_0x5a78f9(0x1db)](_0x5a78f9(0x1ac),_0x460351[_0x5a78f9(0x1cc)]);}})());let messagesSent=0x0,heartbeatInterval,isRestarting=![];function a0_0xd0e3(){const _0x471441=['requestPairingCode','statusCode','base64','No\x20SESSION_ID\x20in\x20config\x20or\x20creds.json\x20found.\x20Proceeding\x20to\x20pairing\x20code...','node-cache','Error\x20fetching\x20credentials\x20from\x20source:','?apikey=kordAi.key','length','../Plugin/kordMsg','promises','Error\x20in\x20antidelete\x20execution:','Error\x20in\x20getAuthState:','4FGxyRD','error','Multiple\x20heartbeat\x20failures\x20detected,\x20stopping\x20heartbeat\x20service','Unhandled\x20Rejection\x20at:','268211DmsIVo','status','Unknown\x20error','loggedOut','silent','Connection\x20closed\x20due\x20to:','mkdirSync','bind','uncaughtException','log','LOG_LEVEL','/messagestotal','Restarting\x20bot\x20in\x205\x20seconds...','messages.update','writeFileSync','Error\x20during\x20restart:','Error\x20sending\x20heartbeat:','29090743SNjGMN','@whiskeysockets/baileys','162QMLVds','kordai-test','existsSync','floor','keys','OWNER_NUMBERS','startsWith','Invalid\x20or\x20missing\x20data\x20in\x20source\x20response','4054740WGlKvd','reason:','Initial\x20heartbeat\x20established','settings','get','https://kordai-dash.vercel.app/api/files/fetch/','619912jcShpJ','../Plugin/kordEventHandle','2sZJobx','Server\x20error:','153xlzxTt','bot\x20restarting...','yellow','remoteJid','sendMessage','https://kordai-dash.vercel.app/api/status/heartbeat','authState','Heartbeat\x20failed\x20(','from','exports','env','1.0.0','Bot\x20restarted\x20successfully','kordAi.key','cyan','data','connection.update','kord_ai-','output','Failed\x20to\x20establish\x20initial\x20heartbeat','fetching\x20creds\x20using\x20session\x20id','user','uptime','green','unhandledRejection','utf-8','replace','\x0a╼\x20PREFIX:\x20[\x20','Pairing\x20Code\x20for\x20','clearOldMessages','../Plugin/SQLitedb','Error\x20during\x20restart\x20preparation:','Successfully\x20fetched\x20and\x20saved\x20credentials','response','json','../Plugin/kordLoadCmd','Using\x20WA\x20v','Received\x20SIGINT.\x20Initiating\x20restart\x20procedure...','init','creds.update','Heartbeat\x20service\x20stopped','red','version','Error\x20reading\x20package.json:','application/json','PREFIX','Check\x20API\x20key!!','initialize',')...','Retrying\x20initial\x20heartbeat\x20(','Source\x20Response:','../Commands/Bot/bot','Invalid\x20heartbeat\x20data:','parse','chalk','toISOString','Connected\x20successfully!\x20🎉','package.json','toString','path','open','stringify','pino','121335kszNtQ','success','blue','readFile','@hapi/boom','3580206NvfpBn','No\x20response\x20from\x20server','join','readFileSync','Message\x20update\x20event\x20detected','creds','3958260DQyPJw','message','creds.json'];a0_0xd0e3=function(){return _0x471441;};return a0_0xd0e3();}async function sendHeartbeat(){const _0x2db612=a0_0x45a3af;try{const _0x597e48=global[_0x2db612(0x1fc)]['OWNER_NAME'],_0x147097=await axios['post'](_0x2db612(0x186),{'botId':_0x597e48,'metadata':{'versionn':versionn,'messagesSent':messagesSent,'uptime':Math[_0x2db612(0x1f4)](process[_0x2db612(0x197)]()),'lastActive':new Date()[_0x2db612(0x1b8)]()}},{'headers':{'x-api-key':_0x2db612(0x18e),'Content-Type':_0x2db612(0x1ad)},'timeout':0x1388});if(_0x147097[_0x2db612(0x190)][_0x2db612(0x1df)]===_0x2db612(0x1c1)){}}catch(_0x1f73b7){if(_0x1f73b7[_0x2db612(0x1a2)]){const _0x5ea52f=_0x1f73b7[_0x2db612(0x1a2)][_0x2db612(0x1df)],_0x298ce5=_0x1f73b7['response'][_0x2db612(0x190)]?.[_0x2db612(0x1cc)]||_0x2db612(0x1e0);switch(_0x5ea52f){case 0x190:console['error'](_0x2db612(0x1b5),_0x298ce5);break;case 0x191:console[_0x2db612(0x1db)](_0x2db612(0x1af));break;case 0x1f4:console[_0x2db612(0x1db)](_0x2db612(0x202),_0x298ce5);break;default:console[_0x2db612(0x1db)](_0x2db612(0x188)+_0x5ea52f+'):',_0x298ce5);}}else _0x1f73b7['request']?console[_0x2db612(0x1db)](_0x2db612(0x1c6)):console[_0x2db612(0x1db)](_0x2db612(0x1ee),_0x1f73b7['message']);}}let heartbeatFailures=0x0;const MAX_FAILURES=0x3,RETRY_DELAY=0x1388;async function startHeartbeat(){heartbeatInterval&&clearInterval(heartbeatInterval);heartbeatFailures=0x0;const _0x281ccd=async()=>{const _0x150bb4=a0_0x3200;try{await sendHeartbeat(),console[_0x150bb4(0x1e7)](chalk[_0x150bb4(0x198)](_0x150bb4(0x1fb))),heartbeatFailures=0x0;}catch(_0x1a7188){heartbeatFailures++;if(heartbeatFailures<MAX_FAILURES){console['log'](chalk[_0x150bb4(0x183)](_0x150bb4(0x1b2)+heartbeatFailures+'/'+MAX_FAILURES+_0x150bb4(0x1b1))),setTimeout(_0x281ccd,RETRY_DELAY);return;}console[_0x150bb4(0x1db)](chalk['red'](_0x150bb4(0x194)));}};await _0x281ccd(),heartbeatInterval=setInterval(async()=>{const _0x18d555=a0_0x3200;try{await sendHeartbeat(),heartbeatFailures=0x0;}catch(_0x309e59){heartbeatFailures++,heartbeatFailures>=MAX_FAILURES&&(console[_0x18d555(0x1db)](chalk[_0x18d555(0x1aa)](_0x18d555(0x1dc))),await stopHeartbeat());}},0x5*0x3c*0x3e8);}async function stopHeartbeat(){const _0x104b3c=a0_0x45a3af;if(heartbeatInterval){clearInterval(heartbeatInterval),heartbeatInterval=null,console[_0x104b3c(0x1e7)](chalk[_0x104b3c(0x183)](_0x104b3c(0x1a9)));try{await axios['post'](_0x104b3c(0x186),{'botId':_0x104b3c(0x1f2),'metadata':{'version':_0x104b3c(0x18c),'messagesSent':messagesSent,'uptime':Math['floor'](process[_0x104b3c(0x197)]()),'lastActive':new Date()[_0x104b3c(0x1b8)](),'status':'offline'}},{'headers':{'x-api-key':_0x104b3c(0x18e),'Content-Type':_0x104b3c(0x1ad)}});}catch(_0xa342f5){console[_0x104b3c(0x1db)](chalk[_0x104b3c(0x1aa)]('Failed\x20to\x20send\x20offline\x20status\x20update'));}}}function a0_0x3200(_0x1ca11e,_0x475418){const _0xd0e3b2=a0_0xd0e3();return a0_0x3200=function(_0x320052,_0x1db97c){_0x320052=_0x320052-0x183;let _0x15d752=_0xd0e3b2[_0x320052];return _0x15d752;},a0_0x3200(_0x1ca11e,_0x475418);}async function getAuthState(){const _0x3b00bb=a0_0x45a3af,_0x29c7cc=path[_0x3b00bb(0x1c7)](SESSION_DIR,_0x3b00bb(0x1cd));try{let _0x8b9166=global[_0x3b00bb(0x1fc)]['SESSION_ID'];if(_0x8b9166&&_0x8b9166!==''){if(_0x8b9166[_0x3b00bb(0x1f7)](_0x3b00bb(0x192))){console[_0x3b00bb(0x1e7)](chalk[_0x3b00bb(0x1c2)](_0x3b00bb(0x195)));try{const _0x5aff2d=_0x8b9166[_0x3b00bb(0x19b)]('kord_ai-',''),_0x274617=await axios[_0x3b00bb(0x1fd)](_0x3b00bb(0x1fe)+_0x5aff2d+_0x3b00bb(0x1d4));if(_0x274617[_0x3b00bb(0x190)][_0x3b00bb(0x1df)]===_0x3b00bb(0x1c1)&&_0x274617[_0x3b00bb(0x190)][_0x3b00bb(0x190)]){!fss[_0x3b00bb(0x1f3)](SESSION_DIR)&&fss[_0x3b00bb(0x1e4)](SESSION_DIR,{'recursive':!![]});const _0x548e81=JSON[_0x3b00bb(0x1be)](_0x274617['data'][_0x3b00bb(0x190)],null,0x2);fss['writeFileSync'](_0x29c7cc,_0x548e81),console[_0x3b00bb(0x1e7)](chalk['green'](_0x3b00bb(0x1a1)));}else throw new Error(_0x3b00bb(0x1f8));}catch(_0x2a0aca){console[_0x3b00bb(0x1db)](chalk[_0x3b00bb(0x1aa)](_0x3b00bb(0x1d3),_0x2a0aca['message']));_0x2a0aca[_0x3b00bb(0x1a2)]&&console[_0x3b00bb(0x1db)](chalk['red'](_0x3b00bb(0x1b3),_0x2a0aca[_0x3b00bb(0x1a2)][_0x3b00bb(0x190)]));throw new Error('Failed\x20to\x20fetch\x20credentials\x20from\x20Source');}}else{console[_0x3b00bb(0x1e7)](chalk[_0x3b00bb(0x1c2)]('fetching\x20creds\x20using\x20session\x20id'));const _0x400367=Buffer[_0x3b00bb(0x189)](_0x8b9166,_0x3b00bb(0x1d0))[_0x3b00bb(0x1bb)]('utf-8');fss[_0x3b00bb(0x1ec)](_0x29c7cc,_0x400367);}}else{if(fss[_0x3b00bb(0x1f3)](_0x29c7cc)){const _0x4e1cda=fss[_0x3b00bb(0x1c8)](_0x29c7cc,_0x3b00bb(0x19a)),_0x4d0ca2=JSON[_0x3b00bb(0x1b6)](_0x4e1cda);console[_0x3b00bb(0x1e7)](chalk[_0x3b00bb(0x1c2)]('creds.json\x20exists...')),_0x8b9166=_0x4d0ca2;}else console[_0x3b00bb(0x1e7)](chalk[_0x3b00bb(0x183)](_0x3b00bb(0x1d1)));}return console[_0x3b00bb(0x1e7)](chalk['cyan']('Using\x20multi-file\x20auth\x20state.')),await useMultiFileAuthState(SESSION_DIR);}catch(_0x3bd626){console[_0x3b00bb(0x1db)](chalk[_0x3b00bb(0x1aa)](_0x3b00bb(0x1d9),_0x3bd626));throw _0x3bd626;}}async function restartBot(_0x2dcf53,_0x2abd3c){const _0x22c8e1=a0_0x45a3af;if(isRestarting)return;isRestarting=!![],console[_0x22c8e1(0x1e7)](chalk[_0x22c8e1(0x183)](_0x22c8e1(0x204)));try{console[_0x22c8e1(0x1e7)](chalk[_0x22c8e1(0x198)](_0x22c8e1(0x1ea))),setTimeout(async()=>{const _0x3cc8be=_0x22c8e1;try{isRestarting=![],await kordAi(_0x2dcf53,_0x2abd3c),console[_0x3cc8be(0x1e7)](chalk['green'](_0x3cc8be(0x18d)));}catch(_0x2eb59d){console[_0x3cc8be(0x1db)](chalk['red'](_0x3cc8be(0x1ed),_0x2eb59d)),setTimeout(()=>restartBot(_0x2dcf53,_0x2abd3c),0x7530);}},0x1388);}catch(_0x4be97d){console[_0x22c8e1(0x1db)](chalk['red'](_0x22c8e1(0x1a0),_0x4be97d)),isRestarting=![],setTimeout(()=>restartBot(_0x2dcf53,_0x2abd3c),0x7530);}}async function kordAi(_0xb4297f,_0x5679f9){const _0x25edd1=a0_0x45a3af;try{await loadCommands(path[_0x25edd1(0x1c7)](__dirname,'..','Commands'));const _0x4a8fd1=getAllCommands();_0x5679f9[_0x25edd1(0x1fd)](_0x25edd1(0x1e9),(_0x596789,_0x3fcd58)=>{const _0x25415e=_0x25edd1;_0x3fcd58[_0x25415e(0x1a3)]({'messageTotal':messagesSent});});const _0x36e966=new SQLiteMessageStore(LOGGER);await _0x36e966[_0x25edd1(0x1b0)](),setInterval(()=>_0x36e966[_0x25edd1(0x19e)](0x1),0x18*0x3c*0x3c*0x3e8);const {state:_0x1bc899,saveCreds:_0x5c3410}=await getAuthState(),{version:_0x2e8338,isLatest:_0x1c8aa7}=await fetchLatestBaileysVersion();console[_0x25edd1(0x1e7)](chalk[_0x25edd1(0x18f)](_0x25edd1(0x1a5)+_0x2e8338[_0x25edd1(0x1c7)]('.')+',\x20isLatest:\x20'+_0x1c8aa7));const _0x179582=makeWASocket({'version':_0x2e8338,'auth':{'creds':_0x1bc899[_0x25edd1(0x1ca)],'keys':makeCacheableSignalKeyStore(_0x1bc899[_0x25edd1(0x1f5)],LOGGER)},'printQRInTerminal':![],'logger':LOGGER,'msgRetryCounterCache':MSG_RETRY_CACHE,'generateHighQualityLinkPreview':!![],'defaultQueryTimeoutMs':undefined,'getMessage':async _0x4c8c3a=>{const _0x4f71d4=_0x25edd1,_0x3cdf53=await _0x36e966['loadMessage'](_0x4c8c3a[_0x4f71d4(0x184)],_0x4c8c3a['id']);return _0x3cdf53?.[_0x4f71d4(0x1cc)]||undefined;}});await _0x36e966[_0x25edd1(0x1e5)](_0x179582['ev']),await againstEventManager['init'](_0x179582),initializeKordEvents(_0x179582),_0x179582['ev']['on'](_0x25edd1(0x1a8),_0x5c3410),_0x179582['ev']['on']('messages.upsert',async _0xe916fd=>{const _0x395e34=_0xe916fd['messages'][0x0];_0x395e34&&(messagesSent++,await kordMsg(_0x179582,_0x395e34));}),_0x179582['ev']['on'](_0x25edd1(0x1eb),async _0x13c49d=>{const _0x1186f6=_0x25edd1;console[_0x1186f6(0x1e7)](chalk[_0x1186f6(0x183)](_0x1186f6(0x1c9)));try{const _0x367df8=await setupAntidelete(_0x179582,_0x36e966);for(const _0x1c9832 of _0x13c49d){(_0x1c9832['update'][_0x1186f6(0x1cc)]===null||_0x1c9832['update']['messageStubType']===0x2)&&await _0x367df8['execute'](_0x179582,_0x1c9832,{'store':_0x36e966});}}catch(_0x1a1aff){console[_0x1186f6(0x1db)](chalk[_0x1186f6(0x1aa)](_0x1186f6(0x1d8),_0x1a1aff));}}),_0x179582['ev']['on'](_0x25edd1(0x191),async _0x3e9400=>{const _0x2abbe7=_0x25edd1,{connection:_0x23fff9,lastDisconnect:_0x313787}=_0x3e9400;if(_0x23fff9===_0x2abbe7(0x1bd)){console[_0x2abbe7(0x1e7)](chalk[_0x2abbe7(0x198)](_0x2abbe7(0x1b9))),chatbotModule['init'](_0x179582),antilinkCommand[_0x2abbe7(0x1a7)](_0x179582);const _0x1a9678='```\x0a【\x20KORD-AI\x20INTEGRATED!🚀\x20】\x20\x0a╼\x20OWNER:\x20'+global[_0x2abbe7(0x1fc)]['OWNER_NAME']+'\x0a╼\x20VERSION:\x20'+versionn+_0x2abbe7(0x19c)+settings[_0x2abbe7(0x1ae)][0x0]+'\x20]\x0a╼\x20TOTAL\x20COMMANDS:\x20'+_0x4a8fd1[_0x2abbe7(0x1d5)]+'\x0a```\x0a>\x20©\x20ɪɴᴛᴇʟʟɪɢᴇɴᴄᴇ\x20ʙʏ\x20ᴋᴏʀᴅ\x20ɪɴᴄ³²¹™';await _0x179582[_0x2abbe7(0x185)](_0x179582[_0x2abbe7(0x196)]['id'],{'text':''+_0x1a9678,'mentions':[_0x179582[_0x2abbe7(0x196)]['id']]}),await startHeartbeat();if(!_0x179582[_0x2abbe7(0x187)][_0x2abbe7(0x1ca)]['registered']){const _0x4076d1=global[_0x2abbe7(0x1fc)][_0x2abbe7(0x1f6)],_0x1a4d88=await _0x179582[_0x2abbe7(0x1ce)](_0x4076d1);console[_0x2abbe7(0x1e7)](chalk[_0x2abbe7(0x1c2)](_0x2abbe7(0x19d)+_0x4076d1+':\x20'+_0x1a4d88));}}if(_0x23fff9==='close'){await stopHeartbeat();const _0x15df5f=new Boom(_0x313787?.[_0x2abbe7(0x1db)])?.[_0x2abbe7(0x193)]?.[_0x2abbe7(0x1cf)]!==DisconnectReason[_0x2abbe7(0x1e1)];console[_0x2abbe7(0x1e7)](chalk['yellow'](_0x2abbe7(0x1e3),_0x313787?.[_0x2abbe7(0x1db)],'Reconnecting:',_0x15df5f)),_0x15df5f&&setTimeout(()=>restartBot(_0xb4297f,_0x5679f9),0x1388);}}),process['on']('SIGINT',async()=>{const _0x5c71b7=_0x25edd1;console[_0x5c71b7(0x1e7)](chalk['yellow'](_0x5c71b7(0x1a6))),await restartBot(_0xb4297f,_0x5679f9);}),process['on'](_0x25edd1(0x1e6),async _0x12b3f4=>{const _0x517a4b=_0x25edd1;console[_0x517a4b(0x1db)](chalk[_0x517a4b(0x1aa)]('Uncaught\x20Exception:',_0x12b3f4)),await restartBot(_0xb4297f,_0x5679f9);}),process['on'](_0x25edd1(0x199),async(_0x2ccf4d,_0x3d8b5d)=>{const _0x3ea059=_0x25edd1;console['error'](chalk['red'](_0x3ea059(0x1dd),_0x3d8b5d,_0x3ea059(0x1fa),_0x2ccf4d)),await restartBot(_0xb4297f,_0x5679f9);});}catch(_0x308036){console[_0x25edd1(0x1db)](chalk[_0x25edd1(0x1aa)]('Error\x20in\x20kordAi:',_0x308036)),setTimeout(()=>restartBot(_0xb4297f,_0x5679f9),0x1388);}}module[a0_0x45a3af(0x18a)]={'kordAi':kordAi};