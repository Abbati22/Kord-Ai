function a0_0x3117(){const _0xff7059=['fileToUpload','Error\x20deleting\x20temporary\x20file:','ðŸ¤–\x20Analysis\x20failed.\x0a\x0aError:\x20','LITTERBOX_API','data','quotedMessage','https://bk9.fun/ai/geminiimg?url=','801560bvIGJl','https://litterbox.catbox.moe/resources/internals/api.php','reqtype','buffer','PROXY_URL','promises','includes','uploadToLitterbox','error','downloadQuotedMedia','response','3YKbILy','UPLOAD_TIME','remoteJid','downloadMediaMsg','Failed\x20to\x20download\x20media','BK9','append','9ODlmSH','https://broken-star-6439.abrahamdw882.workers.dev/?u=','axios','14KxBgWE','12685GFYhfV','sendMessage','Failed\x20to\x20download\x20quoted\x20media','join','trim','key','1672440OmijZV','2226612FGOLji','temp_','saveToTemp','488tLJavX','exports','tmpdir','361993cHibrq','https://','log','33EURRFD','&q=','Utility','Describe\x20this\x20image\x20in\x20detail','analyze','downloadMedia','130434bCYGhc','unlink','291086UlfcQC','time','get','message','Error\x20in\x20gemini-img\x20command:','status','File\x20downloaded\x20to:','Analyze\x20images\x20using\x20Gemini\x20AI.','Analysis\x20failed:\x20Unable\x20to\x20process\x20the\x20image','DEFAULT_QUESTION','path'];a0_0x3117=function(){return _0xff7059;};return a0_0x3117();}const a0_0x285056=a0_0x502e;(function(_0x312059,_0x2627ad){const _0x16e878=a0_0x502e,_0x303d8a=_0x312059();while(!![]){try{const _0x56adde=parseInt(_0x16e878(0x18f))/0x1+-parseInt(_0x16e878(0x19a))/0x2*(-parseInt(_0x16e878(0x1b7))/0x3)+-parseInt(_0x16e878(0x18c))/0x4*(parseInt(_0x16e878(0x182))/0x5)+-parseInt(_0x16e878(0x198))/0x6*(-parseInt(_0x16e878(0x181))/0x7)+parseInt(_0x16e878(0x1ac))/0x8*(-parseInt(_0x16e878(0x17e))/0x9)+parseInt(_0x16e878(0x188))/0xa*(parseInt(_0x16e878(0x192))/0xb)+-parseInt(_0x16e878(0x189))/0xc;if(_0x56adde===_0x2627ad)break;else _0x303d8a['push'](_0x303d8a['shift']());}catch(_0x25a586){_0x303d8a['push'](_0x303d8a['shift']());}}}(a0_0x3117,0x6fb0e));function a0_0x502e(_0x512ae5,_0x55efcb){const _0x311777=a0_0x3117();return a0_0x502e=function(_0x502ed1,_0x5aa8ed){_0x502ed1=_0x502ed1-0x17a;let _0xb36b17=_0x311777[_0x502ed1];return _0xb36b17;},a0_0x502e(_0x512ae5,_0x55efcb);}const axios=require(a0_0x285056(0x180)),fs=require('fs'),fsPromises=require('fs')[a0_0x285056(0x1b1)],path=require(a0_0x285056(0x1a4)),os=require('os'),FormData=require('form-data'),CONFIG={'PROXY_URL':a0_0x285056(0x17f),'LITTERBOX_API':a0_0x285056(0x1ad),'DEFAULT_QUESTION':a0_0x285056(0x195),'UPLOAD_TIME':'1h'};class MediaHandler{static async[a0_0x285056(0x197)](_0x451733,_0x5d3162){const _0x356213=a0_0x285056;if(_0x5d3162['message']['extendedTextMessage']?.['contextInfo']?.[_0x356213(0x1aa)]){const _0x2a1ff2=await _0x451733[_0x356213(0x1b5)](_0x5d3162);if(!_0x2a1ff2)throw new Error(_0x356213(0x184));return _0x2a1ff2;}const _0x2dd017=await _0x451733[_0x356213(0x17a)](_0x5d3162);if(!_0x2dd017)throw new Error(_0x356213(0x17b));return _0x2dd017;}static async[a0_0x285056(0x18b)](_0x36b1d9,_0x4bcd99){const _0x186c4e=a0_0x285056,_0x42e4ca=path[_0x186c4e(0x185)](os[_0x186c4e(0x18e)](),_0x186c4e(0x18a)+Date['now']()+'.'+_0x4bcd99);return await fsPromises['writeFile'](_0x42e4ca,_0x36b1d9),console[_0x186c4e(0x191)](_0x186c4e(0x1a0),_0x42e4ca),_0x42e4ca;}static async[a0_0x285056(0x1b3)](_0x57c2e3){const _0x16261a=a0_0x285056,_0x47164c=new FormData();_0x47164c[_0x16261a(0x17d)](_0x16261a(0x1ae),'fileupload'),_0x47164c['append'](_0x16261a(0x19b),CONFIG[_0x16261a(0x1b8)]),_0x47164c['append'](_0x16261a(0x1a5),fs['createReadStream'](_0x57c2e3));const _0x39bae3=await axios['post'](CONFIG[_0x16261a(0x1a8)],_0x47164c,{'headers':_0x47164c['getHeaders']()}),_0x40f02d=_0x39bae3[_0x16261a(0x1a9)][_0x16261a(0x186)]();if(!_0x40f02d[_0x16261a(0x1b2)](_0x16261a(0x190)))throw new Error('Upload\x20failed:\x20Invalid\x20response\x20from\x20litterbox');return _0x40f02d;}}module[a0_0x285056(0x18d)]={'usage':['gemini-img',a0_0x285056(0x196)],'desc':a0_0x285056(0x1a1),'commandType':a0_0x285056(0x194),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],'emoji':'ðŸ§ ',async 'execute'(_0x42208e,_0x4fb066,_0x5bf0b3,_0x44b5d7){const _0x356853=a0_0x285056;let _0xdb7814;try{const _0x467b48=_0x5bf0b3[_0x356853(0x185)]('\x20')||CONFIG[_0x356853(0x1a3)],_0x234b64=await MediaHandler[_0x356853(0x197)](_0x44b5d7,_0x4fb066);_0xdb7814=await MediaHandler[_0x356853(0x18b)](_0x234b64[_0x356853(0x1af)],_0x234b64['extension']);const _0x59dbea=await MediaHandler['uploadToLitterbox'](_0xdb7814),_0x137822=_0x356853(0x1ab)+encodeURIComponent(_0x59dbea)+_0x356853(0x193)+encodeURIComponent(_0x467b48),_0x392823=await axios[_0x356853(0x19c)](CONFIG[_0x356853(0x1b0)]+encodeURIComponent(_0x137822));if(!_0x392823[_0x356853(0x1a9)][_0x356853(0x19f)])throw new Error(_0x356853(0x1a2));await _0x42208e[_0x356853(0x183)](_0x4fb066['key'][_0x356853(0x1b9)],{'text':'ðŸ§ \x20Image\x20Analysis:\x0a\x0a'+_0x392823[_0x356853(0x1a9)][_0x356853(0x17c)]},{'quoted':_0x4fb066});}catch(_0x331674){console[_0x356853(0x1b4)](_0x356853(0x19e),_0x331674[_0x356853(0x1b6)]?.[_0x356853(0x1a9)]||_0x331674[_0x356853(0x19d)]);const _0x5438fc=_0x331674['response']?'ðŸ¤–\x20Analysis\x20failed.\x0a\x0aError:\x20'+(_0x331674[_0x356853(0x1b6)]['data'][_0x356853(0x19d)]||_0x331674[_0x356853(0x19d)]):_0x356853(0x1a7)+_0x331674[_0x356853(0x19d)];await _0x42208e[_0x356853(0x183)](_0x4fb066[_0x356853(0x187)][_0x356853(0x1b9)],{'text':_0x5438fc},{'quoted':_0x4fb066});}finally{if(_0xdb7814)try{await fsPromises[_0x356853(0x199)](_0xdb7814),console['log']('Temporary\x20file\x20deleted:',_0xdb7814);}catch(_0x5ede7f){console[_0x356853(0x1b4)](_0x356853(0x1a6),_0x5ede7f);}}}};