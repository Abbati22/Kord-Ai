const a0_0x56a169=a0_0x2e9d;function a0_0x2e9d(_0x3dc4a7,_0x5b270c){const _0xe42a64=a0_0xe42a();return a0_0x2e9d=function(_0x2e9d2b,_0x58129b){_0x2e9d2b=_0x2e9d2b-0x17c;let _0x1b9f8a=_0xe42a64[_0x2e9d2b];return _0x1b9f8a;},a0_0x2e9d(_0x3dc4a7,_0x5b270c);}(function(_0x5a1cdf,_0x577b8c){const _0x14a329=a0_0x2e9d,_0x574178=_0x5a1cdf();while(!![]){try{const _0xca7b55=parseInt(_0x14a329(0x1d3))/0x1+-parseInt(_0x14a329(0x18c))/0x2*(-parseInt(_0x14a329(0x1a1))/0x3)+-parseInt(_0x14a329(0x192))/0x4*(parseInt(_0x14a329(0x180))/0x5)+parseInt(_0x14a329(0x1da))/0x6*(parseInt(_0x14a329(0x1b2))/0x7)+-parseInt(_0x14a329(0x1c5))/0x8+-parseInt(_0x14a329(0x1c7))/0x9*(-parseInt(_0x14a329(0x1c1))/0xa)+-parseInt(_0x14a329(0x17c))/0xb;if(_0xca7b55===_0x577b8c)break;else _0x574178['push'](_0x574178['shift']());}catch(_0x4ef912){_0x574178['push'](_0x574178['shift']());}}}(a0_0xe42a,0xb229e));const fs=require('fs'),path=require('path'),memoryDB={'economy':{},'games':new Map()},Logger={'logToConsole'(_0x31448f,_0x23b61b,_0x1a227b={}){const _0x510d0a=a0_0x2e9d,_0x283a13=new Date()['toISOString']();console[_0x510d0a(0x181)]('['+_0x283a13+_0x510d0a(0x1e2)+_0x31448f+']\x20'+_0x23b61b,JSON['stringify'](_0x1a227b));},'log'(_0x1b9588,_0x58c727,_0x597357={}){const _0x67d40d=a0_0x2e9d;this[_0x67d40d(0x1c3)](_0x1b9588,_0x58c727,_0x597357);try{const _0x366fb1=_0x67d40d(0x1dc);!fs[_0x67d40d(0x1bc)](_0x366fb1)&&fs[_0x67d40d(0x1b3)](_0x366fb1,{'recursive':!![]});const _0x1687a5={'timestamp':new Date()[_0x67d40d(0x1ae)](),'type':_0x1b9588,'message':_0x58c727,'data':_0x597357};fs[_0x67d40d(0x17e)](path[_0x67d40d(0x1cf)](_0x366fb1,_0x67d40d(0x18e)),JSON[_0x67d40d(0x1d4)](_0x1687a5)+'\x0a');}catch(_0x368d26){this[_0x67d40d(0x1c3)]('warning',_0x67d40d(0x1a5),{'error':_0x368d26[_0x67d40d(0x19d)]});}}},EconomySystem={'getData'(){const _0x589d03=a0_0x2e9d;try{return!fs[_0x589d03(0x1bc)](_0x589d03(0x182))&&fs[_0x589d03(0x1b3)](_0x589d03(0x182),{'recursive':!![]}),!fs[_0x589d03(0x1bc)](_0x589d03(0x1c9))&&fs[_0x589d03(0x1bb)](_0x589d03(0x1c9),JSON['stringify']({})),JSON[_0x589d03(0x189)](fs[_0x589d03(0x1af)](_0x589d03(0x1c9)));}catch(_0x155e14){return Logger[_0x589d03(0x181)]('economy',_0x589d03(0x1b7),{'error':_0x155e14[_0x589d03(0x19d)]}),memoryDB[_0x589d03(0x1df)];}},'saveData'(_0x509dc4){const _0x500b13=a0_0x2e9d;try{fs['writeFileSync'](_0x500b13(0x1c9),JSON[_0x500b13(0x1d4)](_0x509dc4,null,0x2));}catch(_0x410308){Logger[_0x500b13(0x181)]('economy',_0x500b13(0x1b4),{'error':_0x410308[_0x500b13(0x19d)]});}memoryDB[_0x500b13(0x1df)]=_0x509dc4;},'give'(_0x1a8f4d,_0x460ea2){const _0x415763=a0_0x2e9d,_0x2e315f=this[_0x415763(0x1ad)]();if(!_0x2e315f[_0x1a8f4d])_0x2e315f[_0x1a8f4d]=0x0;return _0x2e315f[_0x1a8f4d]+=_0x460ea2,this[_0x415763(0x1d8)](_0x2e315f),Logger[_0x415763(0x181)](_0x415763(0x1df),_0x415763(0x1bd),{'userId':_0x1a8f4d,'amount':_0x460ea2,'newBalance':_0x2e315f[_0x1a8f4d]}),_0x2e315f[_0x1a8f4d];}},GameManager={'listeners':new Map(),'createGame'(_0x359756,_0x36f2bd,_0x59f68c){const _0x36f93a=a0_0x2e9d,_0x50ca6f=require(_0x36f93a(0x1e6)),_0x2ccdcb={'id':_0x36f2bd,'groupId':_0x359756,'x':_0x59f68c,'o':'','game':new _0x50ca6f(_0x59f68c),'state':_0x36f93a(0x197)};return!memoryDB[_0x36f93a(0x1d9)][_0x36f93a(0x1a4)](_0x359756)&&memoryDB[_0x36f93a(0x1d9)][_0x36f93a(0x1be)](_0x359756,new Map()),memoryDB[_0x36f93a(0x1d9)][_0x36f93a(0x1c0)](_0x359756)[_0x36f93a(0x1be)](_0x36f2bd,_0x2ccdcb),_0x2ccdcb;},'getGame'(_0x2e9c03,_0x4b4eb9){const _0x2b829a=a0_0x2e9d;return memoryDB[_0x2b829a(0x1d9)][_0x2b829a(0x1c0)](_0x2e9c03)?.[_0x2b829a(0x1c0)](_0x4b4eb9);},'getGroupGames'(_0x27163c){const _0x545452=a0_0x2e9d;return memoryDB[_0x545452(0x1d9)][_0x545452(0x1c0)](_0x27163c)||new Map();},'deleteGame'(_0xc7fb34,_0x4bf576){const _0x288973=a0_0x2e9d,_0x3a2642=memoryDB[_0x288973(0x1d9)][_0x288973(0x1c0)](_0xc7fb34);_0x3a2642&&(_0x3a2642[_0x288973(0x1ca)](_0x4bf576),_0x3a2642[_0x288973(0x1e3)]===0x0&&memoryDB[_0x288973(0x1d9)][_0x288973(0x1ca)](_0xc7fb34));},'cleanupGame'(_0x44e316,_0x15fd60,_0x514472){const _0x34ead6=a0_0x2e9d,_0x11511c=this[_0x34ead6(0x1de)][_0x34ead6(0x1c0)](_0x15fd60);_0x11511c&&(_0x514472[_0x34ead6(0x1e5)](_0x11511c),this['listeners']['delete'](_0x15fd60)),this['deleteGame'](_0x44e316,_0x15fd60);}};function a0_0xe42a(){const _0x15d52c=['getGame','error','message','4️⃣','3️⃣','\x0aRoom\x20ID:\x20','3iZayJQ','_currentTurn','Current\x20Turn\x20','has','Failed\x20to\x20write\x20to\x20log\x20file','debug','7️⃣','text','slice','5️⃣','_Waiting\x20for\x20player,\x20use\x20.ttt\x20to\x20join\x20this\x20game._','delttt\x20error','getData','toISOString','readFileSync','8️⃣','participant','3858596rCXtEf','mkdirSync','Using\x20in-memory\x20economy\x20storage','remoteJid','No\x20TicTacToe\x20game🎮\x20is\x20running\x20in\x20this\x20group.','Using\x20in-memory\x20economy\x20data','Not\x20your\x20turn!','sendMessage','\x0aCurrent\x20turn:\x20@','writeFileSync','existsSync','Currency\x20given','set','2️⃣','get','10OEOGWu','currentTurn','logToConsole','1️⃣','6131240HvdphA','PLAYING','1017243TZvwYL','stack','./database/economy.json','delete','Room\x20ID:\x20','tictactoe-','playerX','getGroupGames','join','cleanupGame','split','New\x20game\x20created','604225HMHwWj','stringify','ttt\x20executed','board','_Position\x20already\x20occupied_','saveData','games','6hUUbhf','exports','./logs','Room\x20not\x20found','listeners','economy','give','playerO',']\x20[','size','map','stopListening','../../Plugin/ttt','Delete\x20running\x20tictactoe\x20game\x20in\x20this\x20group','8514825auSQvR','ttt','appendFileSync','key','92230cfIeRK','log','./database','turn','includes','sender','Game\x20Tied,\x20well\x20done\x20to\x20both\x20of\x20you\x20players.','reply','_Invalid\x20Position_','parse','An\x20error\x20occurred:\x20','game','2298652RyUhny','9️⃣','game.log','test','command','delttt\x20executed','32GaIZPC','_You\x20are\x20already\x20in\x20a\x20game\x20in\x20this\x20group_','6️⃣','_Successfully\x20deleted\x20all\x20TicTacToe\x20games\x20in\x20this\x20group._','\x20Won\x20!\x20and\x20got\x202000💎\x20in\x20wallet🤑','WAITING','render','listen','Play\x20TicTacToe\x20Game'];a0_0xe42a=function(){return _0x15d52c;};return a0_0xe42a();}module[a0_0x56a169(0x1db)]=[{'usage':'delttt','commandType':'Game','description':a0_0x56a169(0x1e7),'isGroup0nly':!![],'emoji':'🎮','execute':async(_0x53319e,_0x46ed89,_0x529ce2,_0x4a1ea7)=>{const _0x2997ed=a0_0x56a169;try{const _0x469935=_0x46ed89['key'][_0x2997ed(0x1b5)];Logger[_0x2997ed(0x181)](_0x2997ed(0x190),_0x2997ed(0x191),{'sender':_0x46ed89[_0x2997ed(0x17f)][_0x2997ed(0x1b1)]||_0x46ed89['sender'],'groupId':_0x469935});const _0x101482=GameManager[_0x2997ed(0x1ce)](_0x469935);if(_0x101482[_0x2997ed(0x1e3)]>0x0){for(const [_0x36cf3d]of _0x101482){GameManager[_0x2997ed(0x1d0)](_0x469935,_0x36cf3d,_0x4a1ea7);}return _0x4a1ea7[_0x2997ed(0x187)](_0x2997ed(0x195));}else return _0x4a1ea7[_0x2997ed(0x187)](_0x2997ed(0x1b6));}catch(_0x4d20ce){Logger['log']('error',_0x2997ed(0x1ac),{'error':_0x4d20ce['message'],'stack':_0x4d20ce[_0x2997ed(0x1c8)]}),await _0x4a1ea7['send'](''+_0x4d20ce);}}},{'usage':a0_0x56a169(0x17d),'commandType':a0_0x56a169(0x18b),'description':a0_0x56a169(0x19a),'isGroup0nly':!![],'emoji':'🎮','execute':async(_0xb65957,_0x1409da,_0x4df67e,_0x35fc61)=>{const _0x191f37=a0_0x56a169;try{const _0x580571=_0x1409da[_0x191f37(0x17f)]['participant']||_0x1409da[_0x191f37(0x185)],_0xa3c0c5=_0x1409da[_0x191f37(0x17f)]['remoteJid'];Logger[_0x191f37(0x181)](_0x191f37(0x190),_0x191f37(0x1d5),{'sender':_0x580571,'groupId':_0xa3c0c5,'args':_0x4df67e});const _0x43c6ec=GameManager[_0x191f37(0x1ce)](_0xa3c0c5);let _0x4860f1=![];for(const [,_0x4d4b12]of _0x43c6ec){if([_0x4d4b12['game'][_0x191f37(0x1cd)],_0x4d4b12[_0x191f37(0x18b)][_0x191f37(0x1e1)]][_0x191f37(0x184)](_0x580571)){_0x4860f1=!![];break;}}if(_0x4860f1)return Logger[_0x191f37(0x181)](_0x191f37(0x18b),'Player\x20already\x20in\x20game',{'sender':_0x580571,'groupId':_0xa3c0c5}),_0x35fc61[_0x191f37(0x187)](_0x191f37(0x193));let _0x5295f6=null;for(const [,_0x2274e6]of _0x43c6ec){if(_0x2274e6['state']===_0x191f37(0x197)&&(!_0x4df67e[0x0]||_0x2274e6['name']===_0x4df67e[0x0])){_0x5295f6=_0x2274e6;break;}}if(_0x5295f6){Logger[_0x191f37(0x181)]('game','Joining\x20existing\x20game',{'roomId':_0x5295f6['id'],'groupId':_0xa3c0c5,'playerO':_0x580571}),_0x5295f6[_0x191f37(0x18b)]['setPlayerO'](_0x580571),_0x5295f6['o']=_0x580571,_0x5295f6['state']=_0x191f37(0x1c6);let _0xf8c470=_0x5295f6[_0x191f37(0x18b)][_0x191f37(0x198)]()[_0x191f37(0x1e4)](_0x17d353=>{const _0x3410b9=_0x191f37;return{'X':'❌','O':'⭕',0x1:_0x3410b9(0x1c4),0x2:_0x3410b9(0x1bf),0x3:_0x3410b9(0x19f),0x4:_0x3410b9(0x19e),0x5:_0x3410b9(0x1aa),0x6:_0x3410b9(0x194),0x7:_0x3410b9(0x1a7),0x8:_0x3410b9(0x1b0),0x9:_0x3410b9(0x18d)}[_0x17d353];}),_0x5489ec=_0x191f37(0x1ba)+_0x5295f6['game'][_0x191f37(0x1c2)][_0x191f37(0x1d1)]('@')[0x0]+_0x191f37(0x1a0)+_0x5295f6['id']+'\x0a'+_0xf8c470[_0x191f37(0x1a9)](0x0,0x3)[_0x191f37(0x1cf)]('\x20\x20')+'\x0a'+_0xf8c470[_0x191f37(0x1a9)](0x3,0x6)[_0x191f37(0x1cf)]('\x20\x20')+'\x0a'+_0xf8c470[_0x191f37(0x1a9)](0x6)[_0x191f37(0x1cf)]('\x20\x20')+'\x0a';await _0xb65957[_0x191f37(0x1b9)](_0xa3c0c5,{'text':_0x5489ec,'mentions':[_0x5295f6['game']['currentTurn']]});const _0x1968e9=_0x35fc61[_0x191f37(0x199)][_0x191f37(0x1a8)](async({content:_0x3c6287,message:_0x384d59})=>{const _0x239a70=_0x191f37;try{const _0x3d797=_0x384d59[_0x239a70(0x17f)]['participant']||_0x384d59[_0x239a70(0x185)],_0xb68d59=_0x3c6287,_0x4908ec=_0x384d59[_0x239a70(0x17f)]['remoteJid'];if(_0x4908ec!==_0xa3c0c5)return;const _0x339b84=GameManager[_0x239a70(0x19b)](_0xa3c0c5,_0x5295f6['id']);if(!_0x339b84){Logger[_0x239a70(0x181)](_0x239a70(0x1a6),_0x239a70(0x1dd),{'roomId':_0x5295f6['id'],'groupId':_0xa3c0c5});return;}if(_0x339b84['state']===_0x239a70(0x1c6)&&[_0x339b84[_0x239a70(0x18b)][_0x239a70(0x1cd)],_0x339b84[_0x239a70(0x18b)][_0x239a70(0x1e1)]][_0x239a70(0x184)](_0x3d797)){if(!/^([1-9]|(me)?give_up|surr?ender|off|skip)$/i[_0x239a70(0x18f)](_0xb68d59)){await _0xb65957[_0x239a70(0x1b9)](_0x4908ec,{'text':'Please\x20enter\x20a\x20number\x20between\x201-9','mentions':[_0x3d797]});return;}let _0x68fe9e=!/^[1-9]$/[_0x239a70(0x18f)](_0xb68d59);if(_0x3d797!==_0x339b84[_0x239a70(0x18b)]['currentTurn']){await _0xb65957[_0x239a70(0x1b9)](_0x4908ec,{'text':_0x239a70(0x1b8),'mentions':[_0x3d797]});return;}if(!_0x68fe9e){let _0xc6c77e=parseInt(_0xb68d59)-0x1,_0x3bfdb4=_0x3d797===_0x339b84['game']['playerO'],_0x1729a9=_0x339b84[_0x239a70(0x18b)][_0x239a70(0x183)](_0x3bfdb4,_0xc6c77e);if(_0x1729a9!==0x1){const _0xe91f7a={'-3':'The\x20game\x20is\x20over.','-2':_0x239a70(0x1b8),'-1':_0x239a70(0x188),0x0:_0x239a70(0x1d7)};await _0xb65957[_0x239a70(0x1b9)](_0x4908ec,{'text':_0xe91f7a[_0x1729a9],'mentions':[_0x3d797]});return;}}let _0x809936=_0x339b84[_0x239a70(0x18b)]['winner'],_0x199aab=!!_0x809936,_0x27c37a=_0x339b84['game'][_0x239a70(0x1d6)]===0x1ff,_0x59af45=_0x339b84[_0x239a70(0x18b)][_0x239a70(0x198)]()[_0x239a70(0x1e4)](_0x1fcb07=>{const _0x25af32=_0x239a70;return{'X':'❌','O':'⭕',0x1:_0x25af32(0x1c4),0x2:'2️⃣',0x3:_0x25af32(0x19f),0x4:'4️⃣',0x5:_0x25af32(0x1aa),0x6:_0x25af32(0x194),0x7:_0x25af32(0x1a7),0x8:_0x25af32(0x1b0),0x9:_0x25af32(0x18d)}[_0x1fcb07];});_0x68fe9e&&(_0x339b84[_0x239a70(0x18b)][_0x239a70(0x1a2)]=!_0x339b84[_0x239a70(0x18b)]['_currentTurn'],_0x809936=_0x339b84[_0x239a70(0x18b)]['currentTurn'],_0x199aab=!![]);let _0x1c8e44=_0x239a70(0x1cb)+_0x339b84['id']+'\x0a\x0a'+_0x59af45[_0x239a70(0x1a9)](0x0,0x3)[_0x239a70(0x1cf)]('\x20\x20')+'\x0a'+_0x59af45[_0x239a70(0x1a9)](0x3,0x6)[_0x239a70(0x1cf)]('\x20\x20')+'\x0a'+_0x59af45[_0x239a70(0x1a9)](0x6)[_0x239a70(0x1cf)]('\x20\x20')+'\x0a\x0a'+(_0x199aab?'@'+_0x809936[_0x239a70(0x1d1)]('@')[0x0]+_0x239a70(0x196):_0x27c37a?_0x239a70(0x186):_0x239a70(0x1a3)+['❌','⭕'][_0x339b84[_0x239a70(0x18b)]['_currentTurn']?0x1:0x0]+'\x20@'+_0x339b84[_0x239a70(0x18b)][_0x239a70(0x1c2)][_0x239a70(0x1d1)]('@')[0x0])+'\x0a⭕:-\x20@'+_0x339b84[_0x239a70(0x18b)][_0x239a70(0x1e1)][_0x239a70(0x1d1)]('@')[0x0]+'\x0a❌:-\x20@'+_0x339b84[_0x239a70(0x18b)]['playerX'][_0x239a70(0x1d1)]('@')[0x0];await _0xb65957['sendMessage'](_0x4908ec,{'text':_0x1c8e44,'mentions':[_0x339b84[_0x239a70(0x18b)][_0x239a70(0x1e1)],_0x339b84[_0x239a70(0x18b)][_0x239a70(0x1cd)]]}),_0x199aab&&EconomySystem[_0x239a70(0x1e0)](_0x809936,0x7d0),(_0x27c37a||_0x199aab)&&GameManager[_0x239a70(0x1d0)](_0xa3c0c5,_0x339b84['id'],_0x35fc61);}}catch(_0x3729d6){Logger[_0x239a70(0x181)](_0x239a70(0x19c),'Move\x20processing\x20error',{'error':_0x3729d6[_0x239a70(0x19d)],'stack':_0x3729d6['stack'],'groupId':_0xa3c0c5}),await _0xb65957[_0x239a70(0x1b9)](_0xa3c0c5,{'text':_0x239a70(0x18a)+_0x3729d6['message']});}});GameManager[_0x191f37(0x1de)][_0x191f37(0x1be)](_0x5295f6['id'],_0x1968e9);}else{const _0x44b962=_0x191f37(0x1cc)+new Date()['getTime']();_0x5295f6=GameManager['createGame'](_0xa3c0c5,_0x44b962,_0x580571);if(_0x4df67e[0x0])_0x5295f6['name']=_0x4df67e[0x0];Logger[_0x191f37(0x181)](_0x191f37(0x18b),_0x191f37(0x1d2),{'roomId':_0x5295f6['id'],'groupId':_0xa3c0c5,'playerX':_0x580571}),await _0x35fc61[_0x191f37(0x187)](_0x191f37(0x1ab));}}catch(_0x207cbe){Logger[_0x191f37(0x181)](_0x191f37(0x19c),'ttt\x20command\x20error',{'error':_0x207cbe['message'],'stack':_0x207cbe[_0x191f37(0x1c8)],'groupId':_0x1409da['key'][_0x191f37(0x1b5)]}),await _0x35fc61['send'](''+_0x207cbe);}}}];