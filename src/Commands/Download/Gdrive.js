const a0_0x2ee7ab=a0_0x5e40;function a0_0x5e40(_0x13eebc,_0x23e35f){const _0x1414bf=a0_0x1414();return a0_0x5e40=function(_0x5e400a,_0x2217ec){_0x5e400a=_0x5e400a-0x1bb;let _0x5e7bab=_0x1414bf[_0x5e400a];return _0x5e7bab;},a0_0x5e40(_0x13eebc,_0x23e35f);}(function(_0x45d15a,_0x251da4){const _0x2986cc=a0_0x5e40,_0x3dd275=_0x45d15a();while(!![]){try{const _0xf5a6f5=parseInt(_0x2986cc(0x1cc))/0x1+-parseInt(_0x2986cc(0x1db))/0x2*(parseInt(_0x2986cc(0x1cb))/0x3)+-parseInt(_0x2986cc(0x1e6))/0x4+parseInt(_0x2986cc(0x1d1))/0x5*(parseInt(_0x2986cc(0x1ed))/0x6)+-parseInt(_0x2986cc(0x1e1))/0x7+parseInt(_0x2986cc(0x1be))/0x8+parseInt(_0x2986cc(0x1bf))/0x9*(parseInt(_0x2986cc(0x1bb))/0xa);if(_0xf5a6f5===_0x251da4)break;else _0x3dd275['push'](_0x3dd275['shift']());}catch(_0x5f4362){_0x3dd275['push'](_0x3dd275['shift']());}}}(a0_0x1414,0x78c03));const fetch=require('node-fetch'),fs=require('fs')[a0_0x2ee7ab(0x1c6)],fsSync=require('fs'),path=require(a0_0x2ee7ab(0x1d4)),archiver=require(a0_0x2ee7ab(0x1f0)),axios=require(a0_0x2ee7ab(0x1f3)),TEMP_DIR=path['join'](__dirname,a0_0x2ee7ab(0x1f4));module[a0_0x2ee7ab(0x1f6)]={'usage':[a0_0x2ee7ab(0x1f8),a0_0x2ee7ab(0x1fb)],'desc':a0_0x2ee7ab(0x1e3),'commandType':a0_0x2ee7ab(0x1bc),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],'emoji':'☁️','execute':handleDriveCommand};async function handleDriveCommand(_0x3dd8ae,_0x2061eb,_0x35f507,_0x5a500a){const _0xb31197=a0_0x2ee7ab;if(!_0x35f507[0x0])return await replyMessage('*_❌\x20Please\x20provide\x20a\x20Google\x20Drive\x20URL._*');const _0x1342b8=_0x35f507[0x0];try{if(!isValidDriveUrl(_0x1342b8))return await replyMessage(_0xb31197(0x1c4));_0x1342b8[_0xb31197(0x1dd)](_0xb31197(0x1ce))?await handleFolder(_0x1342b8,_0x3dd8ae,_0x2061eb):await handleFile(_0x1342b8,_0x3dd8ae,_0x2061eb);}catch(_0x4a5f9e){console[_0xb31197(0x1f7)](_0xb31197(0x1f9),_0x4a5f9e),await replyMessage(_0xb31197(0x1d8)+(_0x4a5f9e[_0xb31197(0x1d3)]||'Unknown\x20error\x20occurred'));}}async function handleFolder(_0x27b59c,_0x3423b2,_0x840d74){const _0x18c60f=a0_0x2ee7ab;try{const _0x1c18b4=await getFolderFiles(_0x27b59c);if(!_0x1c18b4[_0x18c60f(0x1ea)])throw new Error(_0x18c60f(0x1c5));await replyMessage(_0x18c60f(0x1da)+_0x1c18b4[_0x18c60f(0x1ea)]+_0x18c60f(0x1de));for(const _0x4e1f7b of _0x1c18b4){try{await downloadAndSendFile(_0x4e1f7b,_0x3423b2,_0x840d74),await new Promise(_0x442819=>setTimeout(_0x442819,0x3e8));}catch(_0x59ddc9){console[_0x18c60f(0x1f7)]('Error\x20with\x20file\x20'+_0x4e1f7b+':',_0x59ddc9);}}await replyMessage(_0x18c60f(0x1ca));}catch(_0x11ce43){throw new Error(_0x18c60f(0x1fa)+_0x11ce43[_0x18c60f(0x1d3)]);}}async function getFolderFiles(_0x4a7d9e){const _0x4fe64e=a0_0x2ee7ab;try{const _0x28a9d8=_0x4a7d9e[_0x4fe64e(0x1d0)](/folders\/([^/?]+)/)?.[0x1];if(!_0x28a9d8)throw new Error(_0x4fe64e(0x1eb));const _0x5f1449=await axios['get'](_0x4fe64e(0x1c7)+_0x28a9d8,{'headers':{'User-Agent':_0x4fe64e(0x1ec)}}),_0x59a9a6=[],_0x168692=_0x5f1449[_0x4fe64e(0x1c0)][_0x4fe64e(0x1d0)](/\/file\/d\/([^/"\s]+)/g)||[];for(const _0xdf58c3 of _0x168692){const _0x411096=_0xdf58c3['split']('/')[0x3];_0x411096&&!_0x59a9a6[_0x4fe64e(0x1dd)](_0x411096)&&_0x59a9a6[_0x4fe64e(0x1d6)](_0x411096);}return _0x59a9a6;}catch(_0x242c12){throw new Error(_0x4fe64e(0x1c8)+_0x242c12[_0x4fe64e(0x1d3)]);}}async function handleFile(_0x185e76,_0x5c87ef,_0x4b6bb4){const _0x4df730=a0_0x2ee7ab,_0x56343c=extractFileId(_0x185e76);if(!_0x56343c)throw new Error(_0x4df730(0x1e4));await downloadAndSendFile(_0x56343c,_0x5c87ef,_0x4b6bb4);}async function downloadAndSendFile(_0x314b5f,_0x4ee938,_0x52b11f){const _0x5b5cb8=a0_0x2ee7ab;try{const _0x28286e=await getDownloadInfo(_0x314b5f);await replyMessage(_0x5b5cb8(0x1c2)+_0x28286e[_0x5b5cb8(0x1f2)]);const _0x54ab4c=path['join'](TEMP_DIR,_0x28286e[_0x5b5cb8(0x1f2)]);await downloadFile(_0x28286e[_0x5b5cb8(0x1cd)],_0x54ab4c),await _0x4ee938[_0x5b5cb8(0x1e2)](_0x52b11f[_0x5b5cb8(0x1e0)][_0x5b5cb8(0x1e8)],{'document':fsSync['createReadStream'](_0x54ab4c),'fileName':_0x28286e['fileName'],'mimetype':_0x28286e[_0x5b5cb8(0x1dc)]||_0x5b5cb8(0x1d9)},{'quoted':_0x52b11f}),await fs[_0x5b5cb8(0x1e9)](_0x54ab4c),await replyMessage(_0x5b5cb8(0x1d2)+_0x28286e[_0x5b5cb8(0x1f2)]);}catch(_0x33f44f){throw new Error(_0x5b5cb8(0x1c1)+_0x33f44f[_0x5b5cb8(0x1d3)]);}}function a0_0x1414(){const _0x29b210=['push','&export=download','❌\x20Error:\x20','application/octet-stream','📂\x20Found\x20','1690wbgebI','mimeType','includes','\x20files.\x20Starting\x20download...','&export=download&confirm=','key','778337ifGXBs','sendMessage','Download\x20files/folders\x20from\x20Google\x20Drive','Invalid\x20file\x20URL','stream','3535300HcGpvR','get','remoteJid','unlink','length','Invalid\x20folder\x20URL','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/91.0.4472.124\x20Safari/537.36','132JuTAzY','reply','createWriteStream','archiver','pipe','fileName','axios','../tmp/','https://drive.google.com/uc?id=','exports','error','gdrive','Drive\x20Download\x20Error:','Folder\x20processing\x20failed:\x20','googledrive','2432590ymXgOs','Download','headers','6418192CahIiy','9KBgNpu','data','Download\x20failed:\x20','⏳\x20Downloading:\x20','split','*❌\x20Invalid\x20Google\x20Drive\x20URL.*','No\x20accessible\x20files\x20found','promises','https://drive.google.com/drive/folders/','Failed\x20to\x20get\x20folder\x20contents:\x20','map','✅\x20Folder\x20download\x20completed!','3429tlnjqC','680965GlpGaw','downloadUrl','/folders/','finish','match','165670YGsccK','✅\x20Sent:\x20','message','path','content-type'];a0_0x1414=function(){return _0x29b210;};return a0_0x1414();}async function getDownloadInfo(_0x44a8c8){const _0x4a9c4c=a0_0x2ee7ab;try{const _0xf48e4c=await axios[_0x4a9c4c(0x1e7)](_0x4a9c4c(0x1f5)+_0x44a8c8+_0x4a9c4c(0x1d7),{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/91.0.4472.124\x20Safari/537.36'},'maxRedirects':0x0,'validateStatus':_0x19b5fd=>_0x19b5fd>=0xc8&&_0x19b5fd<0x190}),_0x36b1ae=_0xf48e4c[_0x4a9c4c(0x1c0)][_0x4a9c4c(0x1d0)](/confirm=([^&]+)/)?.[0x1],_0x1b59c7=_0xf48e4c[_0x4a9c4c(0x1bd)]['set-cookie']?.[_0x4a9c4c(0x1c9)](_0x453b14=>_0x453b14[_0x4a9c4c(0x1c3)](';')[0x0])['join'](';\x20');let _0x1fb17c,_0x269e37=_0x44a8c8,_0x3d06b1=_0x4a9c4c(0x1d9);_0x36b1ae?_0x1fb17c=_0x4a9c4c(0x1f5)+_0x44a8c8+_0x4a9c4c(0x1df)+_0x36b1ae:_0x1fb17c=_0x4a9c4c(0x1f5)+_0x44a8c8+_0x4a9c4c(0x1d7);const _0x4ac2c4=_0xf48e4c[_0x4a9c4c(0x1bd)]['content-disposition'];if(_0x4ac2c4){const _0x494591=_0x4ac2c4[_0x4a9c4c(0x1d0)](/filename\*?=['"]?(?:UTF-\d['"]*)?([^;\r\n']*)['"]?;?/i);_0x494591&&(_0x269e37=decodeURIComponent(_0x494591[0x1]));}const _0x57017b=_0xf48e4c['headers'][_0x4a9c4c(0x1d5)];return _0x57017b&&(_0x3d06b1=_0x57017b),{'downloadUrl':_0x1fb17c,'fileName':_0x269e37,'mimeType':_0x3d06b1,'cookies':_0x1b59c7};}catch(_0x93e938){throw new Error('Failed\x20to\x20get\x20download\x20info:\x20'+_0x93e938[_0x4a9c4c(0x1d3)]);}}async function downloadFile(_0x421876,_0x3a1895){const _0x47399f=a0_0x2ee7ab,_0x54af7f=await axios({'method':'GET','url':_0x421876,'responseType':_0x47399f(0x1e5),'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/91.0.4472.124\x20Safari/537.36'}}),_0x494191=fsSync[_0x47399f(0x1ef)](_0x3a1895);return _0x54af7f[_0x47399f(0x1c0)][_0x47399f(0x1f1)](_0x494191),new Promise((_0x5dce8a,_0x97827)=>{const _0x2fef11=_0x47399f;_0x494191['on'](_0x2fef11(0x1cf),_0x5dce8a),_0x494191['on']('error',_0x97827);});}function isValidDriveUrl(_0x54d632){return/drive\.google\.com\/(file\/d\/|drive\/folders\/)/i['test'](_0x54d632);}function extractFileId(_0x283b37){const _0x31b12f=_0x283b37['match'](/\/file\/d\/([^/]+)/);return _0x31b12f?_0x31b12f[0x1]:null;}async function replyMessage(_0x51633a){const _0x4efba3=a0_0x2ee7ab;return await kord[_0x4efba3(0x1ee)](_0x51633a);}((async()=>{try{await fs['access'](TEMP_DIR);}catch{await fs['mkdir'](TEMP_DIR,{'recursive':!![]});}})());