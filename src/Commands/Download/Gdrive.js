const a0_0x11ac19=a0_0x2edf;(function(_0x569591,_0x200ee8){const _0x33f776=a0_0x2edf,_0x523618=_0x569591();while(!![]){try{const _0x1b8075=-parseInt(_0x33f776(0x20c))/0x1*(-parseInt(_0x33f776(0x218))/0x2)+parseInt(_0x33f776(0x1f4))/0x3*(-parseInt(_0x33f776(0x21e))/0x4)+parseInt(_0x33f776(0x1f9))/0x5*(-parseInt(_0x33f776(0x216))/0x6)+-parseInt(_0x33f776(0x1fd))/0x7+-parseInt(_0x33f776(0x21b))/0x8+parseInt(_0x33f776(0x227))/0x9*(parseInt(_0x33f776(0x1e4))/0xa)+-parseInt(_0x33f776(0x20d))/0xb*(-parseInt(_0x33f776(0x1e5))/0xc);if(_0x1b8075===_0x200ee8)break;else _0x523618['push'](_0x523618['shift']());}catch(_0x358161){_0x523618['push'](_0x523618['shift']());}}}(a0_0x25b0,0x3212c));const a0_0x3ce1ac=a0_0xff2a;(function(_0x386fdb,_0x57bbc7){const _0x324a9a=a0_0x2edf,_0x38295c=a0_0xff2a,_0x8d8b42=_0x386fdb();while(!![]){try{const _0x38fbe2=-parseInt(_0x38295c(0x161))/0x1+-parseInt(_0x38295c(0x17d))/0x2+-parseInt(_0x38295c(0x169))/0x3+-parseInt(_0x38295c(0x156))/0x4+-parseInt(_0x38295c(0x151))/0x5*(-parseInt(_0x38295c(0x14f))/0x6)+parseInt(_0x38295c(0x16e))/0x7+parseInt(_0x38295c(0x168))/0x8;if(_0x38fbe2===_0x57bbc7)break;else _0x8d8b42[_0x324a9a(0x200)](_0x8d8b42[_0x324a9a(0x1f2)]());}catch(_0xc45bf4){_0x8d8b42[_0x324a9a(0x200)](_0x8d8b42[_0x324a9a(0x1f2)]());}}}(a0_0x3e6b,0x4cc44));const a0_0x163eec=a0_0x3350;function a0_0x4aaa(){const _0x38d79b=a0_0x2edf,_0x558911=a0_0xff2a,_0x694975=[_0x558911(0x157),_0x558911(0x17c),_0x558911(0x178),_0x558911(0x187),_0x38d79b(0x207),_0x558911(0x15d),_0x558911(0x159),_0x558911(0x189),_0x38d79b(0x1e7),_0x558911(0x160),_0x558911(0x177),_0x558911(0x15b),_0x558911(0x17f),_0x558911(0x175),'1337508hfCWyW',_0x558911(0x148),_0x38d79b(0x209),_0x558911(0x154),_0x38d79b(0x213),_0x38d79b(0x1f1),_0x38d79b(0x201),_0x558911(0x146),_0x558911(0x16c),_0x558911(0x188),_0x558911(0x179),_0x558911(0x144),_0x558911(0x152),_0x38d79b(0x202),_0x38d79b(0x1ef),_0x558911(0x174),_0x558911(0x15f),_0x558911(0x149),_0x558911(0x14d),_0x558911(0x14e),_0x558911(0x166),_0x558911(0x15a),_0x558911(0x15e),_0x558911(0x163),_0x558911(0x17e),_0x558911(0x14b),_0x558911(0x16a),_0x38d79b(0x1f8),_0x558911(0x16f),_0x558911(0x153),_0x558911(0x16b),_0x38d79b(0x1db),_0x558911(0x167),_0x558911(0x16d),_0x558911(0x155),_0x558911(0x15c),_0x38d79b(0x20a),_0x558911(0x145),_0x558911(0x183),_0x558911(0x14c),_0x38d79b(0x203),_0x558911(0x176),_0x558911(0x170),_0x558911(0x181),_0x558911(0x186),_0x558911(0x184)];return a0_0x4aaa=function(){return _0x694975;},a0_0x4aaa();}(function(_0x13e6b3,_0x3ebbd4){const _0x27f4c0=a0_0xff2a,_0x2637f9=a0_0x3350,_0x1bcc57=_0x13e6b3();while(!![]){try{const _0x756cb9=-parseInt(_0x2637f9(0x1b4))/0x1+-parseInt(_0x2637f9(0x1a1))/0x2+-parseInt(_0x2637f9(0x1a8))/0x3+-parseInt(_0x2637f9(0x1b1))/0x4*(-parseInt(_0x2637f9(0x19b))/0x5)+parseInt(_0x2637f9(0x19f))/0x6+parseInt(_0x2637f9(0x1a9))/0x7*(-parseInt(_0x2637f9(0x1a4))/0x8)+-parseInt(_0x2637f9(0x1b0))/0x9*(-parseInt(_0x2637f9(0x1a2))/0xa);if(_0x756cb9===_0x3ebbd4)break;else _0x1bcc57[_0x27f4c0(0x17b)](_0x1bcc57[_0x27f4c0(0x162)]());}catch(_0x1168f3){_0x1bcc57[_0x27f4c0(0x17b)](_0x1bcc57[_0x27f4c0(0x162)]());}}}(a0_0x4aaa,0x5cd79));const fetch=require(a0_0x163eec(0x19d)),fs=require('fs')[a0_0x163eec(0x1c4)],fsSync=require('fs'),path=require(a0_0x11ac19(0x1ee)),archiver=require(a0_0x163eec(0x1c0)),axios=require(a0_0x163eec(0x1ca)),TEMP_DIR=path[a0_0x163eec(0x1c8)](__dirname,a0_0x163eec(0x1cb));module[a0_0x163eec(0x1ae)]={'usage':[a0_0x3ce1ac(0x173),'googledrive'],'desc':a0_0x11ac19(0x223),'commandType':a0_0x163eec(0x1bd),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],'emoji':'☁️','execute':handleDriveCommand};function a0_0x2edf(_0x596b36,_0x4a7144){const _0x25b01f=a0_0x25b0();return a0_0x2edf=function(_0x2edf9c,_0x1cdc70){_0x2edf9c=_0x2edf9c-0x1d6;let _0x193d29=_0x25b01f[_0x2edf9c];return _0x193d29;},a0_0x2edf(_0x596b36,_0x4a7144);}async function handleDriveCommand(_0x2ed204,_0x29cb39,_0x432287){const _0x31111b=a0_0x3ce1ac,_0x69266c=a0_0x163eec;if(!_0x432287[0x0])return await replyMessage(_0x29cb39,_0x69266c(0x1be));const _0x443228=_0x432287[0x0];try{if(!isValidDriveUrl(_0x443228))return await replyMessage(_0x29cb39,_0x69266c(0x1ad));_0x443228[_0x31111b(0x155)](_0x69266c(0x1b6))?await handleFolder(_0x443228,_0x2ed204,_0x29cb39):await handleFile(_0x443228,_0x2ed204,_0x29cb39);}catch(_0xb226bf){console[_0x69266c(0x1c9)](_0x31111b(0x147),_0xb226bf),await replyMessage(_0x29cb39,'❌\x20Error:\x20'+(_0xb226bf[_0x69266c(0x1b8)]||_0x69266c(0x1a0)));}}function a0_0x3e6b(){const _0x52d73a=a0_0x11ac19,_0x30582c=['Invalid\x20folder\x20URL',_0x52d73a(0x21f),_0x52d73a(0x21d),_0x52d73a(0x21a),'remoteJid',_0x52d73a(0x21c),_0x52d73a(0x1eb),'Drive\x20Download\x20Error:',_0x52d73a(0x226),'finish',_0x52d73a(0x1fa),_0x52d73a(0x1d6),_0x52d73a(0x217),'&export=download&confirm=',_0x52d73a(0x1f6),_0x52d73a(0x1dd),_0x52d73a(0x1e9),'445ZhbJNk',_0x52d73a(0x1e0),_0x52d73a(0x1fe),_0x52d73a(0x1e3),_0x52d73a(0x224),_0x52d73a(0x1da),_0x52d73a(0x205),_0x52d73a(0x1e8),_0x52d73a(0x212),_0x52d73a(0x1df),_0x52d73a(0x1ed),_0x52d73a(0x206),'match',_0x52d73a(0x1ff),_0x52d73a(0x1fb),_0x52d73a(0x220),_0x52d73a(0x20e),_0x52d73a(0x1f2),_0x52d73a(0x20b),_0x52d73a(0x1e1),_0x52d73a(0x1ea),_0x52d73a(0x1d7),'createWriteStream',_0x52d73a(0x225),_0x52d73a(0x208),_0x52d73a(0x1d9),'split',_0x52d73a(0x222),'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/91.0.4472.124\x20Safari/537.36',_0x52d73a(0x211),_0x52d73a(0x1dc),'../tmp/',_0x52d73a(0x204),_0x52d73a(0x1e6),'gdrive',_0x52d73a(0x1d8),_0x52d73a(0x1f7),_0x52d73a(0x221),_0x52d73a(0x1f5),_0x52d73a(0x20f),_0x52d73a(0x219),_0x52d73a(0x1ec),'push',_0x52d73a(0x215),_0x52d73a(0x1de),_0x52d73a(0x214),_0x52d73a(0x1f0),_0x52d73a(0x210),_0x52d73a(0x1fc),'reply',_0x52d73a(0x1f3),'✅\x20Sent:\x20',_0x52d73a(0x1e2)];return a0_0x3e6b=function(){return _0x30582c;},a0_0x3e6b();}async function handleFolder(_0x19bf4d,_0x28c654,_0x4fbe0f){const _0x48560a=a0_0x11ac19,_0xea442a=a0_0x3ce1ac,_0xf4822e=a0_0x163eec;try{const _0x534b25=await getFolderFiles(_0x19bf4d);if(!_0x534b25[_0xf4822e(0x193)])throw new Error(_0xea442a(0x180));await replyMessage(_0x4fbe0f,_0xea442a(0x158)+_0x534b25[_0xf4822e(0x193)]+_0xf4822e(0x1c7));for(const _0x11c34a of _0x534b25){try{await downloadAndSendFile(_0x11c34a,_0x28c654,_0x4fbe0f),await new Promise(_0x59f0d6=>setTimeout(_0x59f0d6,0x3e8));}catch(_0x21facc){console[_0x48560a(0x203)](_0xf4822e(0x1cc)+_0x11c34a+':',_0x21facc);}}await replyMessage(_0x4fbe0f,'✅\x20Folder\x20download\x20completed!');}catch(_0x30e2e4){throw new Error(_0xf4822e(0x1c6)+_0x30e2e4[_0xf4822e(0x1b8)]);}}async function getFolderFiles(_0x3af83b){const _0x100e4c=a0_0x3ce1ac,_0x546192=a0_0x163eec;try{const _0x3574c3=_0x3af83b[_0x546192(0x198)](/folders\/([^/?]+)/)?.[0x1];if(!_0x3574c3)throw new Error(_0x546192(0x1cd));const _0x5aaa3c=await axios[_0x546192(0x1af)](_0x546192(0x197)+_0x3574c3,{'headers':{'User-Agent':_0x100e4c(0x16d)}}),_0x3e1bcb=[],_0x9ed097=_0x5aaa3c[_0x100e4c(0x160)][_0x100e4c(0x15d)](/\/file\/d\/([^/"\s]+)/g)||[];for(const _0x1a5f3d of _0x9ed097){const _0x52583d=_0x1a5f3d[_0x546192(0x1bf)]('/')[0x3];_0x52583d&&!_0x3e1bcb[_0x546192(0x1c3)](_0x52583d)&&_0x3e1bcb['push'](_0x52583d);}return _0x3e1bcb;}catch(_0x39c928){throw new Error(_0x546192(0x1aa)+_0x39c928[_0x546192(0x1b8)]);}}async function handleFile(_0x3cc0e6,_0x4a51b9,_0x408f7d){const _0x4978fc=a0_0x163eec,_0x493bf2=extractFileId(_0x3cc0e6);if(!_0x493bf2)throw new Error(_0x4978fc(0x1a6));await downloadAndSendFile(_0x493bf2,_0x4a51b9,_0x408f7d);}async function downloadAndSendFile(_0x13a51e,_0x3cc34b,_0x5bcaa2){const _0x2e10be=a0_0x11ac19,_0x2eafc1=a0_0x3ce1ac,_0x535003=a0_0x163eec;try{const _0x1469f5=await getDownloadInfo(_0x13a51e);await replyMessage(_0x5bcaa2,_0x2eafc1(0x185)+_0x1469f5[_0x535003(0x199)]);const _0x274219=path[_0x2e10be(0x217)](TEMP_DIR,_0x1469f5[_0x2eafc1(0x159)]);await downloadFile(_0x1469f5[_0x2eafc1(0x14a)],_0x274219),await _0x3cc34b[_0x535003(0x1bc)](_0x5bcaa2[_0x2eafc1(0x172)][_0x535003(0x1ac)],{'document':fsSync[_0x535003(0x1ba)](_0x274219),'fileName':_0x1469f5[_0x535003(0x199)],'mimetype':_0x1469f5[_0x535003(0x1c5)]||_0x535003(0x1ab)},{'quoted':_0x5bcaa2}),await fs[_0x535003(0x1a7)](_0x274219),await replyMessage(_0x5bcaa2,_0x535003(0x1ce)+_0x1469f5[_0x535003(0x199)]);}catch(_0x715c67){throw new Error(_0x2eafc1(0x17a)+_0x715c67[_0x2eafc1(0x163)]);}}async function getDownloadInfo(_0x248d84){const _0x510236=a0_0x3ce1ac,_0x43339c=a0_0x163eec;try{const _0x42b8e6=await axios[_0x43339c(0x1af)](_0x43339c(0x1b9)+_0x248d84+_0x43339c(0x19e),{'headers':{'User-Agent':_0x43339c(0x1c2)},'maxRedirects':0x0,'validateStatus':_0x17325b=>_0x17325b>=0xc8&&_0x17325b<0x190}),_0x8c08d4=_0x42b8e6[_0x43339c(0x19c)][_0x43339c(0x198)](/confirm=([^&]+)/)?.[0x1],_0x1af560=_0x42b8e6[_0x43339c(0x19a)][_0x510236(0x150)]?.[_0x510236(0x165)](_0x1e2e43=>_0x1e2e43[_0x43339c(0x1bf)](';')[0x0])[_0x43339c(0x1c8)](';\x20');let _0x1fbb3a,_0x14183f=_0x248d84,_0x431da9=_0x43339c(0x1ab);_0x8c08d4?_0x1fbb3a=_0x43339c(0x1b9)+_0x248d84+_0x43339c(0x1b3)+_0x8c08d4:_0x1fbb3a=_0x43339c(0x1b9)+_0x248d84+_0x43339c(0x19e);const _0x13920e=_0x42b8e6[_0x43339c(0x19a)][_0x510236(0x164)];if(_0x13920e){const _0x26729a=_0x13920e[_0x510236(0x15d)](/filename\*?=['"]?(?:UTF-\d['"]*)?([^;\r\n"']*)['"]?;?/i);_0x26729a&&(_0x14183f=decodeURIComponent(_0x26729a[0x1]));}const _0x4f2f44=_0x42b8e6[_0x43339c(0x19a)][_0x43339c(0x196)];return _0x4f2f44&&(_0x431da9=_0x4f2f44),{'downloadUrl':_0x1fbb3a,'fileName':_0x14183f,'mimeType':_0x431da9,'cookies':_0x1af560};}catch(_0x2c8a91){throw new Error(_0x43339c(0x1b7)+_0x2c8a91[_0x510236(0x163)]);}}function a0_0x25b0(){const _0x441a08=['80804utDWBe','application/octet-stream','headers','3087048AkQqxt','Folder\x20processing\x20failed:\x20','Failed\x20to\x20get\x20folder\x20contents:\x20','58676NFXVZw','content-type','data','axios','7HMCQSF','Download\x20files/folders\x20from\x20Google\x20Drive','includes','9163720iaZhCE','231940BbKviF','200331yEaUpm','createReadStream','access','711gqAxxE','stream','1857768dIMohT','archiver','Download','5592cYcwVL','1096008lIepIb','/folders/','*❌\x20Invalid\x20Google\x20Drive\x20URL.*','content-disposition','⏳\x20Downloading:\x20','4370776qqFTtQ','30aYQPuA','2614512fumhzq','key','180935tGZeYc','📂\x20Found\x20','set-cookie','map','1008618XCFAyS','Download\x20failed:\x20','&export=download','path','get','1149570WKXdjn','Invalid\x20file\x20URL','shift','\x20files.\x20Starting\x20download...','9XohYQm','node-fetch','418016fTOhCp','Unknown\x20error\x20occurred','sendMessage','3785qRWMyt','downloadUrl','36pqdcQN','Error\x20with\x20file\x20','2127587HXLaCo','*_❌\x20Please\x20provide\x20a\x20Google\x20Drive\x20URL._*','Failed\x20to\x20get\x20download\x20info:\x20','push','unlink','exports','error','kord','length','promises','https://drive.google.com/drive/folders/','951249MTqwUQ','mkdir','mimeType','message','5JCbByk','44tpFngu','95423aBKDnP','GET','No\x20accessible\x20files\x20found','3576825CXPIGJ','fileName','pipe','https://drive.google.com/uc?id=','test','1596mRUsSU','join'];a0_0x25b0=function(){return _0x441a08;};return a0_0x25b0();}async function downloadFile(_0x3a72d8,_0x1045f2){const _0x596ec2=a0_0x163eec,_0x233373=await axios({'method':_0x596ec2(0x195),'url':_0x3a72d8,'responseType':_0x596ec2(0x1bb),'headers':{'User-Agent':_0x596ec2(0x1c2)}}),_0x149753=fsSync[_0x596ec2(0x1c1)](_0x1045f2);return _0x233373[_0x596ec2(0x19c)][_0x596ec2(0x1a5)](_0x149753),new Promise((_0x253f83,_0xff91f7)=>{const _0x32b9fc=_0x596ec2;_0x149753['on'](_0x32b9fc(0x1b2),_0x253f83),_0x149753['on'](_0x32b9fc(0x1c9),_0xff91f7);});}function isValidDriveUrl(_0x25e5b7){const _0x2a6eab=a0_0x163eec;return/drive\.google\.com\/(file\/d\/|drive\/folders\/)/i[_0x2a6eab(0x194)](_0x25e5b7);}function extractFileId(_0x1a9ccd){const _0xa0be91=a0_0x163eec,_0x3461fd=_0x1a9ccd[_0xa0be91(0x198)](/\/file\/d\/([^/]+)/);return _0x3461fd?_0x3461fd[0x1]:null;}function a0_0xff2a(_0x69ef64,_0x5aee10){const _0x48986f=a0_0x3e6b();return a0_0xff2a=function(_0x1d59bb,_0x30ccc7){_0x1d59bb=_0x1d59bb-0x144;let _0x1327e9=_0x48986f[_0x1d59bb];return _0x1327e9;},a0_0xff2a(_0x69ef64,_0x5aee10);}async function replyMessage(_0x51d3b9,_0x2e6acf){const _0x2af3da=a0_0x3ce1ac;return await global[_0x2af3da(0x171)][_0x2af3da(0x182)](_0x51d3b9,_0x2e6acf);}function a0_0x3350(_0x3d630a,_0x424b9e){const _0x42d82d=a0_0x4aaa();return a0_0x3350=function(_0xfff070,_0x1fc049){_0xfff070=_0xfff070-0x193;let _0x5cb669=_0x42d82d[_0xfff070];return _0x5cb669;},a0_0x3350(_0x3d630a,_0x424b9e);}((async()=>{const _0x5445de=a0_0x163eec;try{await fs[_0x5445de(0x1b5)](TEMP_DIR);}catch{await fs[_0x5445de(0x1a3)](TEMP_DIR,{'recursive':!![]});}})());