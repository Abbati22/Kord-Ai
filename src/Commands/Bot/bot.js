const a0_0xe231d1=a0_0x1e10;(function(_0x446e87,_0x382203){const _0x3e90fb=a0_0x1e10,_0x3f3819=_0x446e87();while(!![]){try{const _0x2995d5=parseInt(_0x3e90fb(0x17c))/0x1*(-parseInt(_0x3e90fb(0x1ab))/0x2)+parseInt(_0x3e90fb(0x1a2))/0x3+-parseInt(_0x3e90fb(0x17b))/0x4*(-parseInt(_0x3e90fb(0x175))/0x5)+-parseInt(_0x3e90fb(0x182))/0x6+-parseInt(_0x3e90fb(0x164))/0x7*(parseInt(_0x3e90fb(0x1aa))/0x8)+parseInt(_0x3e90fb(0x192))/0x9*(parseInt(_0x3e90fb(0x188))/0xa)+parseInt(_0x3e90fb(0x17d))/0xb;if(_0x2995d5===_0x382203)break;else _0x3f3819['push'](_0x3f3819['shift']());}catch(_0x4231c1){_0x3f3819['push'](_0x3f3819['shift']());}}}(a0_0x4486,0x879e0));function a0_0x3242(){const _0x464177=a0_0x1e10,_0x5716cf=[_0x464177(0x169),_0x464177(0x1a0),_0x464177(0x179),_0x464177(0x17a),_0x464177(0x19b),_0x464177(0x194),_0x464177(0x18c),'AI\x20API\x20error:',_0x464177(0x1a9),'off',_0x464177(0x177),_0x464177(0x18b),'7WVJdnK',_0x464177(0x171),'Fallback\x20API\x20error:',_0x464177(0x16d),_0x464177(0x16e),_0x464177(0x184),_0x464177(0x199),_0x464177(0x196),_0x464177(0x16a),_0x464177(0x18a),'chatbot',_0x464177(0x1a7),_0x464177(0x172),_0x464177(0x186),_0x464177(0x189),'stringify',_0x464177(0x19a),_0x464177(0x17e),'9epCpiH',_0x464177(0x183),'Chat\x20With\x20Bot','extendedTextMessage','text',_0x464177(0x185),_0x464177(0x1a6),_0x464177(0x191),'startListening',_0x464177(0x19c),_0x464177(0x173),_0x464177(0x181),'updateConfig','content',_0x464177(0x165),'sendMessage',_0x464177(0x1a1),_0x464177(0x16f),_0x464177(0x190),_0x464177(0x16b),'812492iNQYcM',_0x464177(0x167),_0x464177(0x180),'Failed\x20to\x20update\x20configuration',_0x464177(0x19e),_0x464177(0x1a3),_0x464177(0x195),_0x464177(0x197),_0x464177(0x19d),_0x464177(0x19f),'⚠️\x20Chatbot\x20is\x20already\x20active\x20in\x20this\x20chat!','153148wFPQGa',_0x464177(0x176),_0x464177(0x174),'react',_0x464177(0x17f),'path','join',_0x464177(0x178),'has',_0x464177(0x18f)];return a0_0x3242=function(){return _0x5716cf;},a0_0x3242();}const a0_0x45f620=a0_0x3895;(function(_0x22ad01,_0x28d2cf){const _0x76d26f=a0_0x1e10,_0x8700a1=a0_0x3895,_0x91dc9a=_0x22ad01();while(!![]){try{const _0x3fef54=-parseInt(_0x8700a1(0x145))/0x1+-parseInt(_0x8700a1(0x117))/0x2+-parseInt(_0x8700a1(0x116))/0x3+-parseInt(_0x8700a1(0x109))/0x4*(parseInt(_0x8700a1(0x119))/0x5)+-parseInt(_0x8700a1(0x12d))/0x6*(parseInt(_0x8700a1(0x11f))/0x7)+-parseInt(_0x8700a1(0x13a))/0x8+parseInt(_0x8700a1(0x131))/0x9*(parseInt(_0x8700a1(0x112))/0xa);if(_0x3fef54===_0x28d2cf)break;else _0x91dc9a[_0x76d26f(0x18d)](_0x91dc9a[_0x76d26f(0x1a4)]());}catch(_0x2815c9){_0x91dc9a['push'](_0x91dc9a[_0x76d26f(0x1a4)]());}}}(a0_0x3242,0x994ad));const fs=require('fs')[a0_0xe231d1(0x187)],path=require(a0_0x45f620(0x10e)),axios=require(a0_0x45f620(0x11e)),emojis={'loading':'⏳','success':'✨','error':'❌'},configPath=path[a0_0x45f620(0x10f)](__dirname,a0_0x45f620(0x113));function a0_0x4486(){const _0x5ab0bb=['Error\x20initializing\x20chatbot:','delete','No\x20valid\x20response\x20from\x20AI\x20services','444663AEsWRE','remoteJid','shift','❌\x20Usage:\x20.chatbot\x20on/off','code','sendPresenceUpdate','filter','post','1358688ZHdzDd','2ISxnbd','42cUUhUR','https://api.simsimi.net/v2/?text=','usage','gpt-4','paused','chatbot_config.json','https://api.free-gpt.chat/chat/completions','https://aichatonline.org/api/chat','✅\x20Chatbot\x20has\x20been\x20deactivated.','size','Bot','Chatbot\x20error:','key','data','fromMe','parse','&lc=en','435AdSMFh','success','Empty\x20message','utf8','messages.upsert','2803476JocNhX','29576bvgVXI','923687cTPzEq','14791161Egppfr','✅\x20Chatbot\x20activated!\x20You\x20can\x20now\x20chat\x20with\x20me.','❌\x20Sorry,\x20I\x20encountered\x20an\x20error.\x20Please\x20try\x20again\x20later.','Failed\x20to\x20get\x20AI\x20response','freply','1652436CNpHQB','reply','choices','writeFile','composing','promises','10mJakzv','4985886ItSTXR','ENOENT','axios','45cwRbXM','push','Error\x20updating\x20config:','55736970nVLrpt','exports','⚠️\x20Chatbot\x20is\x20already\x20inactive\x20in\x20this\x20chat!','5737023fJoIWM','content','loading','user','add','message','keys','conversation','readFile','1795230FOfaaW','9005192WrwjTh','get','error'];a0_0x4486=function(){return _0x5ab0bb;};return a0_0x4486();}function a0_0x3895(_0x165faa,_0x37a26a){const _0x37c153=a0_0x3242();return a0_0x3895=function(_0x26b99b,_0x211d5e){_0x26b99b=_0x26b99b-0x104;let _0x3ef3ff=_0x37c153[_0x26b99b];return _0x3ef3ff;},a0_0x3895(_0x165faa,_0x37a26a);}let messageListener=null,activeChats=new Set();function a0_0x1e10(_0x195699,_0x198dc7){const _0x44865b=a0_0x4486();return a0_0x1e10=function(_0x1e107e,_0x444092){_0x1e107e=_0x1e107e-0x164;let _0x177512=_0x44865b[_0x1e107e];return _0x177512;},a0_0x1e10(_0x195699,_0x198dc7);}module[a0_0x45f620(0x143)]={'usage':[a0_0x45f620(0x129)],'desc':a0_0x45f620(0x133),'commandType':a0_0x45f620(0x123),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],async 'execute'(_0x51fe74,_0x30c2e,_0x5a63bb,_0x18181e){const _0x3c1df5=a0_0xe231d1,_0x509859=a0_0x45f620,_0x1400ec=_0x30c2e[_0x3c1df5(0x170)][_0x3c1df5(0x1a3)];if(_0x5a63bb[0x0]==='on'){if(activeChats[_0x509859(0x111)](_0x1400ec))return kord[_0x3c1df5(0x183)](_0x30c2e,_0x509859(0x108));return activeChats[_0x509859(0x126)](_0x1400ec),await this[_0x509859(0x13d)](_0x1400ec,!![]),!messageListener&&this[_0x509859(0x139)](_0x51fe74),kord[_0x509859(0x13c)](_0x30c2e,_0x509859(0x130),this[_0x3c1df5(0x166)]);}else{if(_0x5a63bb[0x0]===_0x509859(0x11c)){if(!activeChats[_0x509859(0x111)](_0x1400ec))return kord[_0x509859(0x132)](_0x30c2e,_0x509859(0x138));return activeChats[_0x509859(0x114)](_0x1400ec),await this[_0x509859(0x13d)](_0x1400ec,![]),activeChats[_0x3c1df5(0x16d)]===0x0&&messageListener&&(_0x51fe74['ev'][_0x509859(0x11c)](_0x509859(0x115),messageListener),messageListener=null),kord['reply'](_0x30c2e,_0x3c1df5(0x16c));}else return kord[_0x509859(0x132)](_0x30c2e,_0x3c1df5(0x1a5));}},async 'updateConfig'(_0x375923,_0x1bb445){const _0x2581b4=a0_0xe231d1,_0x507a20=a0_0x45f620;try{let _0x12e2a2={};try{const _0x11c304=await fs[_0x507a20(0x12f)](configPath,_0x507a20(0x110));_0x12e2a2=JSON[_0x507a20(0x13b)](_0x11c304);}catch(_0x20c3a9){if(_0x20c3a9[_0x507a20(0x137)]!==_0x507a20(0x128))throw _0x20c3a9;}_0x1bb445?_0x12e2a2[_0x375923]=!![]:delete _0x12e2a2[_0x375923],await fs[_0x507a20(0x136)](configPath,JSON[_0x507a20(0x12e)](_0x12e2a2,null,0x2));}catch(_0x18e6f2){console[_0x507a20(0x149)](_0x2581b4(0x18e),_0x18e6f2);throw new Error(_0x507a20(0x148));}},'startListening'(_0x585e34){const _0x7c499e=a0_0x45f620;messageListener=async({messages:_0x508d5c})=>{const _0xe4176f=a0_0x1e10,_0x399d31=a0_0x3895;for(const _0x37e660 of _0x508d5c){if(!_0x37e660?.[_0xe4176f(0x170)]?.[_0xe4176f(0x1a3)]||!activeChats[_0x399d31(0x111)](_0x37e660[_0xe4176f(0x170)][_0x399d31(0x14a)]))continue;const _0x2e0ea1=_0x37e660[_0xe4176f(0x170)]['remoteJid'],_0x491027=_0x37e660[_0x399d31(0x105)]?.[_0x399d31(0x125)]||_0x37e660[_0x399d31(0x105)]?.[_0x399d31(0x134)]?.[_0x399d31(0x135)]||'';if(!_0x491027||_0x37e660[_0xe4176f(0x170)][_0x399d31(0x12b)])continue;try{await _0x585e34[_0x399d31(0x12a)](_0x399d31(0x12c),_0x2e0ea1),await kord[_0x399d31(0x10c)](_0x37e660,emojis[_0x399d31(0x118)]);const _0x2abde5=await getAIResponse(_0x491027);await kord[_0x399d31(0x10c)](_0x37e660,emojis[_0x399d31(0x10a)]),await kord['freply'](_0x37e660,_0x2abde5);}catch(_0x6e0983){console[_0x399d31(0x149)](_0x399d31(0x142),_0x6e0983),await kord[_0x399d31(0x10c)](_0x37e660,emojis[_0x399d31(0x149)]),await _0x585e34[_0x399d31(0x140)](_0x2e0ea1,{'text':_0x399d31(0x10d)});}finally{await _0x585e34[_0x399d31(0x12a)](_0xe4176f(0x168),_0x2e0ea1);}}},_0x585e34['ev']['on'](_0x7c499e(0x115),messageListener);},async 'init'(_0x14f46e){const _0x352a10=a0_0xe231d1,_0x19af12=a0_0x45f620;try{const _0x7beb42=await fs[_0x19af12(0x12f)](configPath,_0x19af12(0x110)),_0x5e38db=JSON[_0x19af12(0x13b)](_0x7beb42);activeChats=new Set(Object[_0x352a10(0x198)](_0x5e38db)[_0x352a10(0x1a8)](_0x590802=>_0x5e38db[_0x590802])),activeChats[_0x19af12(0x122)]>0x0&&this[_0x19af12(0x139)](_0x14f46e);}catch(_0x1bdc58){_0x1bdc58[_0x19af12(0x137)]===_0x19af12(0x128)?await fs[_0x352a10(0x185)](configPath,'{}',_0x352a10(0x178)):console[_0x19af12(0x149)](_0x19af12(0x107),_0x1bdc58);}}};async function getAIResponse(_0x567c81){const _0x21f4aa=a0_0xe231d1,_0x5928aa=a0_0x45f620;if(!_0x567c81['trim']())throw new Error(_0x5928aa(0x11d));try{const _0x480ee9=await axios[_0x5928aa(0x11b)](_0x5928aa(0x127),{'model':_0x5928aa(0x146),'messages':[{'role':_0x5928aa(0x104),'content':_0x567c81}]},{'timeout':0x7530});if(_0x480ee9[_0x21f4aa(0x171)]?.[_0x5928aa(0x124)]?.[0x0]?.[_0x5928aa(0x105)]?.[_0x21f4aa(0x193)])return _0x480ee9[_0x5928aa(0x120)][_0x21f4aa(0x184)][0x0][_0x5928aa(0x105)][_0x5928aa(0x13e)];const _0x1d15b4=await axios[_0x5928aa(0x11b)](_0x5928aa(0x144),{'message':_0x567c81},{'timeout':0x7530});if(_0x1d15b4[_0x5928aa(0x120)]?.[_0x5928aa(0x105)])return _0x1d15b4[_0x5928aa(0x120)][_0x5928aa(0x105)];throw new Error(_0x5928aa(0x141));}catch(_0xc1e930){console[_0x5928aa(0x149)](_0x5928aa(0x11a),_0xc1e930[_0x21f4aa(0x197)]);try{const _0x3b2f9c=await axios[_0x5928aa(0x106)](_0x5928aa(0x13f)+encodeURIComponent(_0x567c81)+_0x5928aa(0x10b),{'timeout':0x3a98});if(_0x3b2f9c[_0x5928aa(0x120)]?.[_0x5928aa(0x10a)])return _0x3b2f9c[_0x5928aa(0x120)][_0x5928aa(0x10a)];}catch(_0x4dc5a7){console[_0x5928aa(0x149)](_0x5928aa(0x121),_0x4dc5a7[_0x5928aa(0x105)]);}throw new Error(_0x5928aa(0x147));}}